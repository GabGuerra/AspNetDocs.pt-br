---
uid: mvc/overview/older-versions-1/security/preventing-javascript-injection-attacks-vb
title: Impedindo ataques de injeção de JavaScript (VB) | Microsoft Docs
author: StephenWalther
description: Impedir ataques de injeção de JavaScript e ataques de scripts entre sites está acontecendo para você. Neste tutorial, Stephen Walther explica como você pode facilmente de...
ms.author: riande
ms.date: 08/19/2008
ms.assetid: 9274a72e-34dd-4dae-8452-ed733ae71377
msc.legacyurl: /mvc/overview/older-versions-1/security/preventing-javascript-injection-attacks-vb
msc.type: authoredcontent
ms.openlocfilehash: 844d7209d3efbe0acf92fbc25e9b06c25c4d269a
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/06/2019
ms.locfileid: "65125420"
---
# <a name="preventing-javascript-injection-attacks-vb"></a><span data-ttu-id="c7c4f-104">Impedir ataques de injeção de JavaScript (VB)</span><span class="sxs-lookup"><span data-stu-id="c7c4f-104">Preventing JavaScript Injection Attacks (VB)</span></span>

<span data-ttu-id="c7c4f-105">por [Stephen Walther](https://github.com/StephenWalther)</span><span class="sxs-lookup"><span data-stu-id="c7c4f-105">by [Stephen Walther](https://github.com/StephenWalther)</span></span>

[<span data-ttu-id="c7c4f-106">Baixar PDF</span><span class="sxs-lookup"><span data-stu-id="c7c4f-106">Download PDF</span></span>](http://download.microsoft.com/download/8/4/8/84843d8d-1575-426c-bcb5-9d0c42e51416/ASPNET_MVC_Tutorial_06_VB.pdf)

> <span data-ttu-id="c7c4f-107">Impedir ataques de injeção de JavaScript e ataques de scripts entre sites está acontecendo para você.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-107">Prevent JavaScript Injection Attacks and Cross-Site Scripting Attacks from happening to you.</span></span> <span data-ttu-id="c7c4f-108">Neste tutorial, Stephen Walther explica como você pode facilmente anular esses tipos de ataques por seu conteúdo de codificação HTML.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-108">In this tutorial, Stephen Walther explains how you can easily defeat these types of attacks by HTML encoding your content.</span></span>

<span data-ttu-id="c7c4f-109">O objetivo deste tutorial é explicar como você pode impedir ataques de injeção de JavaScript em aplicativos ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-109">The goal of this tutorial is to explain how you can prevent JavaScript injection attacks in your ASP.NET MVC applications.</span></span> <span data-ttu-id="c7c4f-110">Este tutorial aborda duas abordagens para proteger seu site contra um ataque de injeção de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-110">This tutorial discusses two approaches to defending your website against a JavaScript injection attack.</span></span> <span data-ttu-id="c7c4f-111">Você aprenderá a evitar ataques de injeção de JavaScript codificação dos dados que você exibir.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-111">You learn how to prevent JavaScript injection attacks by encoding the data that you display.</span></span> <span data-ttu-id="c7c4f-112">Você também aprenderá a evitar ataques de injeção de JavaScript codificação dos dados que você aceite.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-112">You also learn how to prevent JavaScript injection attacks by encoding the data that you accept.</span></span>

## <a name="what-is-a-javascript-injection-attack"></a><span data-ttu-id="c7c4f-113">O que é um ataque de injeção de JavaScript?</span><span class="sxs-lookup"><span data-stu-id="c7c4f-113">What is a JavaScript Injection Attack?</span></span>

<span data-ttu-id="c7c4f-114">Sempre que você aceita a entrada do usuário e exibir novamente a entrada do usuário, você pode abrir seu site a ataques de injeção de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-114">Whenever you accept user input and redisplay the user input, you open your website to JavaScript injection attacks.</span></span> <span data-ttu-id="c7c4f-115">Vamos examinar um aplicativo concreto que está aberto a ataques de injeção de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-115">Let's examine a concrete application that is open to JavaScript injection attacks.</span></span>

<span data-ttu-id="c7c4f-116">Imagine que você tenha criado um site de comentários do cliente (veja a Figura 1).</span><span class="sxs-lookup"><span data-stu-id="c7c4f-116">Imagine that you have created a customer feedback website (see Figure 1).</span></span> <span data-ttu-id="c7c4f-117">Os clientes podem visitar o site e inserir comentários em sua experiência usando seus produtos.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-117">Customers can visit the website and enter feedback on their experience using your products.</span></span> <span data-ttu-id="c7c4f-118">Quando um cliente envia seus comentários, comentários é exibida novamente na página de comentários.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-118">When a customer submits their feedback, the feedback is redisplayed on the feedback page.</span></span>

<span data-ttu-id="c7c4f-119">[![Site de comentários do cliente](preventing-javascript-injection-attacks-vb/_static/image2.png)](preventing-javascript-injection-attacks-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="c7c4f-119">[![Customer Feedback Website](preventing-javascript-injection-attacks-vb/_static/image2.png)](preventing-javascript-injection-attacks-vb/_static/image1.png)</span></span>

<span data-ttu-id="c7c4f-120">**Figura 01**: Site de comentários do cliente ([clique para exibir a imagem em tamanho normal](preventing-javascript-injection-attacks-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="c7c4f-120">**Figure 01**: Customer Feedback Website ([Click to view full-size image](preventing-javascript-injection-attacks-vb/_static/image3.png))</span></span>

<span data-ttu-id="c7c4f-121">O site de comentários do cliente usa o `controller` na listagem 1.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-121">The customer feedback website uses the `controller` in Listing 1.</span></span> <span data-ttu-id="c7c4f-122">Isso `controller` contém duas ações denominadas `Index()` e `Create()`.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-122">This `controller` contains two actions named `Index()` and `Create()`.</span></span>

<span data-ttu-id="c7c4f-123">**Listagem 1 – `HomeController.vb`**</span><span class="sxs-lookup"><span data-stu-id="c7c4f-123">**Listing 1 – `HomeController.vb`**</span></span>

[!code-vb[Main](preventing-javascript-injection-attacks-vb/samples/sample1.vb)]

<span data-ttu-id="c7c4f-124">O `Index()` método exibe a `Index` modo de exibição.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-124">The `Index()` method displays the `Index` view.</span></span> <span data-ttu-id="c7c4f-125">Esse método passa todos os comentários do cliente anterior para o `Index` exibição, recuperando os comentários do banco de dados (usando uma consulta LINQ to SQL).</span><span class="sxs-lookup"><span data-stu-id="c7c4f-125">This method passes all of the previous customer feedback to the `Index` view by retrieving the feedback from the database (using a LINQ to SQL query).</span></span>

<span data-ttu-id="c7c4f-126">O `Create()` método cria um novo item de comentários e o adiciona ao banco de dados.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-126">The `Create()` method creates a new Feedback item and adds it to the database.</span></span> <span data-ttu-id="c7c4f-127">A mensagem que o cliente insere no formulário é passada para o `Create()` método no parâmetro de mensagem.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-127">The message that the customer enters in the form is passed to the `Create()` method in the message parameter.</span></span> <span data-ttu-id="c7c4f-128">Um item de comentário é criado e é atribuída à mensagem para o item de comentário `Message` propriedade.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-128">A Feedback item is created and the message is assigned to the Feedback item's `Message` property.</span></span> <span data-ttu-id="c7c4f-129">O item de comentário é enviado para o banco de dados com o `DataContext.SubmitChanges()` chamada de método.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-129">The Feedback item is submitted to the database with the `DataContext.SubmitChanges()` method call.</span></span> <span data-ttu-id="c7c4f-130">Por fim, o visitante é redirecionado para o `Index` exibição em que todos os comentários são exibidos.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-130">Finally, the visitor is redirected back to the `Index` view where all of the feedback is displayed.</span></span>

<span data-ttu-id="c7c4f-131">O `Index` modo de exibição estiver contido na listagem 2.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-131">The `Index` view is contained in Listing 2.</span></span>

<span data-ttu-id="c7c4f-132">**Listagem 2 – `Index.aspx`**</span><span class="sxs-lookup"><span data-stu-id="c7c4f-132">**Listing 2 – `Index.aspx`**</span></span>

[!code-aspx[Main](preventing-javascript-injection-attacks-vb/samples/sample2.aspx)]

<span data-ttu-id="c7c4f-133">O `Index` exibição tem duas seções.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-133">The `Index` view has two sections.</span></span> <span data-ttu-id="c7c4f-134">A seção superior contém o formulário de comentários de clientes reais.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-134">The top section contains the actual customer feedback form.</span></span> <span data-ttu-id="c7c4f-135">A seção inferior contém um loop For... Cada loop que executa um loop em todos os itens de comentários do cliente anterior e exibe as propriedades de mensagem e EntryDate para cada item de comentários.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-135">The bottom section contains a For..Each loop that loops through all of the previous customer feedback items and displays the EntryDate and Message properties for each feedback item.</span></span>

<span data-ttu-id="c7c4f-136">O site de comentários do cliente é um site simples.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-136">The customer feedback website is a simple website.</span></span> <span data-ttu-id="c7c4f-137">Infelizmente, o site é aberto a ataques de injeção de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-137">Unfortunately, the website is open to JavaScript injection attacks.</span></span>

<span data-ttu-id="c7c4f-138">Imagine que você insira o texto a seguir no formulário de comentários do cliente:</span><span class="sxs-lookup"><span data-stu-id="c7c4f-138">Imagine that you enter the following text into the customer feedback form:</span></span>

[!code-html[Main](preventing-javascript-injection-attacks-vb/samples/sample3.html)]

<span data-ttu-id="c7c4f-139">Esse texto representa um script JavaScript que exibe uma caixa de mensagem de alerta.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-139">This text represents a JavaScript script that displays an alert message box.</span></span> <span data-ttu-id="c7c4f-140">Depois que alguém envia esse script em comentários de formulário, a mensagem <em>Boo!</em> será exibida sempre que qualquer pessoa que visita o site de comentários do cliente no futuro (veja a Figura 2).</span><span class="sxs-lookup"><span data-stu-id="c7c4f-140">After someone submits this script into the feedback form, the message <em>Boo!</em>will appear whenever anyone visits the customer feedback website in the future (see Figure 2).</span></span>

<span data-ttu-id="c7c4f-141">[![Injeção de JavaScript](preventing-javascript-injection-attacks-vb/_static/image5.png)](preventing-javascript-injection-attacks-vb/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="c7c4f-141">[![JavaScript Injection](preventing-javascript-injection-attacks-vb/_static/image5.png)](preventing-javascript-injection-attacks-vb/_static/image4.png)</span></span>

<span data-ttu-id="c7c4f-142">**Figura 02**: Injeção de JavaScript ([clique para exibir a imagem em tamanho normal](preventing-javascript-injection-attacks-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="c7c4f-142">**Figure 02**: JavaScript Injection ([Click to view full-size image](preventing-javascript-injection-attacks-vb/_static/image6.png))</span></span>

<span data-ttu-id="c7c4f-143">Agora, sua resposta inicial a ataques de injeção de JavaScript pode ser apatia.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-143">Now, your initial response to JavaScript injection attacks might be apathy.</span></span> <span data-ttu-id="c7c4f-144">Você pode pensar que os ataques de injeção de JavaScript são simplesmente um tipo de *desfiguração* ataque.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-144">You might think that JavaScript injection attacks are simply a type of *defacement* attack.</span></span> <span data-ttu-id="c7c4f-145">Você pode achar que ninguém pode fazer algo realmente ruim ao confirmar um ataque de injeção de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-145">You might believe that no one can do anything truly evil by committing a JavaScript injection attack.</span></span>

<span data-ttu-id="c7c4f-146">Infelizmente, um hacker possa fazer alguns, na verdade, as coisas realmente ruim por injeção de JavaScript em um site.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-146">Unfortunately, a hacker can do some really, really evil things by injecting JavaScript into a website.</span></span> <span data-ttu-id="c7c4f-147">Você pode usar um ataque de injeção de JavaScript para executar um ataque de script entre sites (XSS).</span><span class="sxs-lookup"><span data-stu-id="c7c4f-147">You can use a JavaScript injection attack to perform a Cross-Site Scripting (XSS) attack.</span></span> <span data-ttu-id="c7c4f-148">Em um ataque de script entre sites, roubar informações confidenciais do usuário e enviar as informações para outro site.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-148">In a Cross-Site Scripting attack, you steal confidential user information and send the information to another website.</span></span>

<span data-ttu-id="c7c4f-149">Por exemplo, um hacker pode usar um ataque de injeção de JavaScript para roubar os valores dos cookies do navegador de outros usuários.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-149">For example, a hacker can use a JavaScript injection attack to steal the values of browser cookies from other users.</span></span> <span data-ttu-id="c7c4f-150">Se informações confidenciais, como senhas, números de cartão de crédito ou números de previdência social – são armazenadas nos cookies do navegador, um hacker pode usar um ataque de injeção de JavaScript para roubar informações.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-150">If sensitive information -- such as passwords, credit card numbers, or social security numbers – is stored in the browser cookies, then a hacker can use a JavaScript injection attack to steal this information.</span></span> <span data-ttu-id="c7c4f-151">Ou, se um usuário insere informações confidenciais em um campo de formulário contido em uma página que tenha sido comprometida com um ataque de JavaScript, o hacker pode usar o JavaScript injetado para capturar os dados de formulário e enviá-lo a outro site.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-151">Or, if a user enters sensitive information in a form field contained in a page that has been compromised with a JavaScript attack, then the hacker can use the injected JavaScript to grab the form data and send it to another website.</span></span>

<span data-ttu-id="c7c4f-152">*Por favor, tenha medo*.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-152">*Please be scared*.</span></span> <span data-ttu-id="c7c4f-153">Levar a ataques de injeção de JavaScript sério e proteger as informações confidenciais do usuário.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-153">Take JavaScript injection attacks seriously and protect your user's confidential information.</span></span> <span data-ttu-id="c7c4f-154">Nas próximas duas seções, discutimos duas técnicas que você pode usar para se defender contra ataques de injeção de JavaScript aplicativos ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-154">In the next two sections, we discuss two techniques that you can use to defend your ASP.NET MVC applications from JavaScript injection attacks.</span></span>

## <a name="approach-1-html-encode-in-the-view"></a><span data-ttu-id="c7c4f-155">Abordagem 1 #: Codificação HTML no modo de exibição</span><span class="sxs-lookup"><span data-stu-id="c7c4f-155">Approach #1: HTML Encode in the View</span></span>

<span data-ttu-id="c7c4f-156">Um método fácil de impedir ataques de injeção de JavaScript é HTML codificar todos os dados inseridos pelos usuários do site quando você exibir novamente os dados em um modo de exibição.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-156">One easy method of preventing JavaScript injection attacks is to HTML encode any data entered by website users when you redisplay the data in a view.</span></span> <span data-ttu-id="c7c4f-157">Atualizado `Index` exibição na listagem 3 segue essa abordagem.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-157">The updated `Index` view in Listing 3 follows this approach.</span></span>

<span data-ttu-id="c7c4f-158">**Listagem 3 – `Index.aspx` (codificado em HTML)**</span><span class="sxs-lookup"><span data-stu-id="c7c4f-158">**Listing 3 – `Index.aspx` (HTML Encoded)**</span></span>

[!code-aspx[Main](preventing-javascript-injection-attacks-vb/samples/sample4.aspx)]

<span data-ttu-id="c7c4f-159">Observe que o valor de `feedback.Message` é codificado em HTML antes que o valor é exibido com o código a seguir:</span><span class="sxs-lookup"><span data-stu-id="c7c4f-159">Notice that the value of `feedback.Message` is HTML encoded before the value is displayed with the following code:</span></span>

[!code-aspx[Main](preventing-javascript-injection-attacks-vb/samples/sample5.aspx)]

<span data-ttu-id="c7c4f-160">O que significa para o HTML codificar uma cadeia de caracteres?</span><span class="sxs-lookup"><span data-stu-id="c7c4f-160">What does it mean to HTML encode a string?</span></span> <span data-ttu-id="c7c4f-161">Quando o HTML codificar uma cadeia de caracteres, perigoso caracteres, como `<` e `>` são substituídos por referências a entidades, como HTML `&lt;` e `&gt;`.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-161">When you HTML encode a string, dangerous characters such as `<` and `>` are replaced by HTML entity references such as `&lt;` and `&gt;`.</span></span> <span data-ttu-id="c7c4f-162">Portanto, quando a cadeia de caracteres `<script>alert("Boo!")</script>` é o HTML codificado, eles serão convertidos em `&lt;script&gt;alert(&quot;Boo!&quot;)&lt;/script&gt;`.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-162">So when the string `<script>alert("Boo!")</script>` is HTML encoded, it gets converted to `&lt;script&gt;alert(&quot;Boo!&quot;)&lt;/script&gt;`.</span></span> <span data-ttu-id="c7c4f-163">A cadeia de caracteres codificada não executa como um script JavaScript quando interpretada por um navegador.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-163">The encoded string no longer executes as a JavaScript script when interpreted by a browser.</span></span> <span data-ttu-id="c7c4f-164">Em vez disso, você obtém a página inofensiva na Figura 3.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-164">Instead, you get the harmless page in Figure 3.</span></span>

<span data-ttu-id="c7c4f-165">[![Ataque de JavaScript derrotada](preventing-javascript-injection-attacks-vb/_static/image8.png)](preventing-javascript-injection-attacks-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="c7c4f-165">[![Defeated JavaScript Attack](preventing-javascript-injection-attacks-vb/_static/image8.png)](preventing-javascript-injection-attacks-vb/_static/image7.png)</span></span>

<span data-ttu-id="c7c4f-166">**Figura 03**: Anulou o ataque de JavaScript ([clique para exibir a imagem em tamanho normal](preventing-javascript-injection-attacks-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="c7c4f-166">**Figure 03**: Defeated JavaScript Attack ([Click to view full-size image](preventing-javascript-injection-attacks-vb/_static/image9.png))</span></span>

<span data-ttu-id="c7c4f-167">Observe que, nos `Index` exibir na listagem 3 apenas o valor de `feedback.Message` é codificado.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-167">Notice that in the `Index` view in Listing 3 only the value of `feedback.Message` is encoded.</span></span> <span data-ttu-id="c7c4f-168">O valor de `feedback.EntryDate` não é codificado.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-168">The value of `feedback.EntryDate` is not encoded.</span></span> <span data-ttu-id="c7c4f-169">Você somente precisa codificar dados inseridos por um usuário.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-169">You only need to encode data entered by a user.</span></span> <span data-ttu-id="c7c4f-170">Como o valor de EntryDate foi gerado no controlador, você não precisa para HTML codificar esse valor.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-170">Because the value of EntryDate was generated in the controller, you don't need to HTML encode this value.</span></span>

## <a name="approach-2-html-encode-in-the-controller"></a><span data-ttu-id="c7c4f-171">Abordagem 2 #: Codificação HTML no controlador</span><span class="sxs-lookup"><span data-stu-id="c7c4f-171">Approach #2: HTML Encode in the Controller</span></span>

<span data-ttu-id="c7c4f-172">Em vez de codificação de dados quando você exibe os dados em um modo de exibição HTML, é possível que o HTML codificar os dados apenas antes de enviar os dados no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-172">Instead of HTML encoding data when you display the data in a view, you can HTML encode the data just before you submit the data to the database.</span></span> <span data-ttu-id="c7c4f-173">Essa segunda abordagem é obtida no caso do `controller` na listagem 4.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-173">This second approach is taken in the case of the `controller` in Listing 4.</span></span>

<span data-ttu-id="c7c4f-174">**Listagem 4 – `HomeController.cs` (codificado em HTML)**</span><span class="sxs-lookup"><span data-stu-id="c7c4f-174">**Listing 4 – `HomeController.cs` (HTML Encoded)**</span></span>

[!code-vb[Main](preventing-javascript-injection-attacks-vb/samples/sample6.vb)]

<span data-ttu-id="c7c4f-175">Observe que o valor da mensagem é codificado em HTML antes que o valor é enviado para o banco de dados dentro de `Create()` ação.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-175">Notice that the value of Message is HTML encoded before the value is submitted to the database within the `Create()` action.</span></span> <span data-ttu-id="c7c4f-176">Quando a mensagem é exibida novamente no modo de exibição, a mensagem é codificada em HTML e qualquer JavaScript injetado na mensagem não é executado.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-176">When the Message is redisplayed in the view, the Message is HTML encoded and any JavaScript injected in the Message is not executed.</span></span>

<span data-ttu-id="c7c4f-177">Normalmente, você deve favorecer a primeira abordagem discutida neste tutorial sobre essa segunda abordagem.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-177">Typically, you should favor the first approach discussed in this tutorial over this second approach.</span></span> <span data-ttu-id="c7c4f-178">O problema com essa segunda abordagem é que você terminar com data de codificado em HTML no seu banco de dados.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-178">The problem with this second approach is that you end up with HTML encoded data in your database.</span></span> <span data-ttu-id="c7c4f-179">Em outras palavras, seu banco de dados é sujas com caracteres engraçadas.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-179">In other words, your database data is dirtied with funny looking characters.</span></span>

<span data-ttu-id="c7c4f-180">Por que isso é ruim?</span><span class="sxs-lookup"><span data-stu-id="c7c4f-180">Why is this bad?</span></span> <span data-ttu-id="c7c4f-181">Se você alguma vez precisar exibir os dados do banco de dados em algo diferente de uma página da web, você terá problemas.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-181">If you ever need to display the database data in something other than a web page, then you will have problems.</span></span> <span data-ttu-id="c7c4f-182">Por exemplo, você pode exibir não são mais facilmente os dados em um aplicativo Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-182">For example, you can no longer easily display the data in a Windows Forms application.</span></span>

## <a name="summary"></a><span data-ttu-id="c7c4f-183">Resumo</span><span class="sxs-lookup"><span data-stu-id="c7c4f-183">Summary</span></span>

<span data-ttu-id="c7c4f-184">A finalidade deste tutorial era assustar você sobre a perspectiva de um ataque de injeção de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-184">The purpose of this tutorial was to scare you about the prospect of a JavaScript injection attack.</span></span> <span data-ttu-id="c7c4f-185">Este tutorial discutidas duas abordagens para proteger seus aplicativos ASP.NET MVC contra ataques de injeção de JavaScript: qualquer HTML que você pode codificar usuário enviado dados no modo de exibição, ou você podem HTML codificar usuário enviado dados no controlador.</span><span class="sxs-lookup"><span data-stu-id="c7c4f-185">This tutorial discussed two approaches for defending your ASP.NET MVC applications against JavaScript injection attacks: you can either HTML encode user submitted data in the view or you can HTML encode user submitted data in the controller.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="c7c4f-186">Anterior</span><span class="sxs-lookup"><span data-stu-id="c7c4f-186">Previous</span></span>](authenticating-users-with-windows-authentication-vb.md)
