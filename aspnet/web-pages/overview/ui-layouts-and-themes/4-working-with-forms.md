---
uid: web-pages/overview/ui-layouts-and-themes/4-working-with-forms
title: Trabalhando com formulários HTML no ASP.NET Web Pages (Razor) Sites | Microsoft Docs
author: Rick-Anderson
description: Um formulário é uma seção de um documento HTML em que você colocar os controles de entrada do usuário, como listas suspensas, caixas de seleção, botões de opção e caixas de texto. Usar formulários qu...
ms.author: riande
ms.date: 02/10/2014
ms.assetid: f3f4b8c8-e8f6-4474-ad94-69228a6c01ee
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/4-working-with-forms
msc.type: authoredcontent
ms.openlocfilehash: 680739cbcf54bc9ca7a3bd8167d043ff537eaad5
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/17/2019
ms.locfileid: "59417527"
---
# <a name="working-with-html-forms-in-aspnet-web-pages-razor-sites"></a><span data-ttu-id="f4724-104">Trabalhando com formulários HTML em Sites do ASP.NET Web Pages (Razor)</span><span class="sxs-lookup"><span data-stu-id="f4724-104">Working with HTML Forms in ASP.NET Web Pages (Razor) Sites</span></span>

<span data-ttu-id="f4724-105">por [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="f4724-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="f4724-106">Este artigo descreve como processar um formulário HTML (com caixas de texto e botões) quando você estiver trabalhando em um site de páginas da Web do ASP.NET (Razor).</span><span class="sxs-lookup"><span data-stu-id="f4724-106">This article describes how to process an HTML form (with text boxes and buttons) when you are working in an ASP.NET Web Pages (Razor) website.</span></span>
> 
> <span data-ttu-id="f4724-107">**O que você aprenderá:**</span><span class="sxs-lookup"><span data-stu-id="f4724-107">**What you'll learn:**</span></span> 
> 
> - <span data-ttu-id="f4724-108">Como criar um formulário HTML.</span><span class="sxs-lookup"><span data-stu-id="f4724-108">How to create an HTML form.</span></span>
> - <span data-ttu-id="f4724-109">Como ler a entrada do usuário do formulário.</span><span class="sxs-lookup"><span data-stu-id="f4724-109">How to read user input from the form.</span></span>
> - <span data-ttu-id="f4724-110">Como validar a entrada do usuário.</span><span class="sxs-lookup"><span data-stu-id="f4724-110">How to validate user input.</span></span>
> - <span data-ttu-id="f4724-111">Como restaurar os valores de formulário depois que a página é enviada.</span><span class="sxs-lookup"><span data-stu-id="f4724-111">How to restore form values after the page is submitted.</span></span>
> 
> <span data-ttu-id="f4724-112">Estes são os conceitos apresentados neste artigo de programação do ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="f4724-112">These are the ASP.NET programming concepts introduced in the article:</span></span>
> 
> - <span data-ttu-id="f4724-113">O objeto `Request`.</span><span class="sxs-lookup"><span data-stu-id="f4724-113">The `Request` object.</span></span>
> - <span data-ttu-id="f4724-114">Validação de entrada.</span><span class="sxs-lookup"><span data-stu-id="f4724-114">Input validation.</span></span>
> - <span data-ttu-id="f4724-115">A codificação HTML.</span><span class="sxs-lookup"><span data-stu-id="f4724-115">HTML encoding.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="f4724-116">Versões de software usadas no tutorial</span><span class="sxs-lookup"><span data-stu-id="f4724-116">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="f4724-117">Páginas da Web do ASP.NET (Razor) 3</span><span class="sxs-lookup"><span data-stu-id="f4724-117">ASP.NET Web Pages (Razor) 3</span></span>
>   
> 
> <span data-ttu-id="f4724-118">Este tutorial também funciona com ASP.NET Web Pages 2.</span><span class="sxs-lookup"><span data-stu-id="f4724-118">This tutorial also works with ASP.NET Web Pages 2.</span></span>


## <a name="creating-a-simple-html-form"></a><span data-ttu-id="f4724-119">Criando um formulário HTML simples</span><span class="sxs-lookup"><span data-stu-id="f4724-119">Creating a Simple HTML Form</span></span>

1. <span data-ttu-id="f4724-120">Crie um novo site.</span><span class="sxs-lookup"><span data-stu-id="f4724-120">Create a new website.</span></span>
2. <span data-ttu-id="f4724-121">Na pasta raiz, crie uma página da web denominado *Form.cshtml* e insira a seguinte marcação:</span><span class="sxs-lookup"><span data-stu-id="f4724-121">In the root folder, create a web page named *Form.cshtml* and enter the following markup:</span></span>

    [!code-html[Main](4-working-with-forms/samples/sample1.html)]
3. <span data-ttu-id="f4724-122">Abrir a página no seu navegador.</span><span class="sxs-lookup"><span data-stu-id="f4724-122">Launch the page in your browser.</span></span> <span data-ttu-id="f4724-123">(No WebMatrix, nos **arquivos** espaço de trabalho, o arquivo com o botão direito e, em seguida, selecione **iniciar no navegador**.) Um formulário simples com três campos de entrada e uma **enviar** botão é exibido.</span><span class="sxs-lookup"><span data-stu-id="f4724-123">(In WebMatrix, in the **Files** workspace, right-click the file and then select **Launch in browser**.) A simple form with three input fields and a **Submit** button is displayed.</span></span>

    ![Captura de tela de um formulário com três caixas de texto.](4-working-with-forms/_static/image1.jpg)

    <span data-ttu-id="f4724-125">Neste ponto, se você clicar na **enviar** botão, nada acontece.</span><span class="sxs-lookup"><span data-stu-id="f4724-125">At this point, if you click the **Submit** button, nothing happens.</span></span> <span data-ttu-id="f4724-126">Para tornar o formulário útil, você precisa adicionar algum código que será executado no servidor.</span><span class="sxs-lookup"><span data-stu-id="f4724-126">To make the form useful, you have to add some code that will run on the server.</span></span>

## <a name="reading-user-input-from-the-form"></a><span data-ttu-id="f4724-127">Ler a entrada do usuário do formulário</span><span class="sxs-lookup"><span data-stu-id="f4724-127">Reading User Input from the Form</span></span>

<span data-ttu-id="f4724-128">Para processar o formulário, você deve adicionar código que lê os valores de campo enviado e faz algo com eles.</span><span class="sxs-lookup"><span data-stu-id="f4724-128">To process the form, you add code that reads the submitted field values and does something with them.</span></span> <span data-ttu-id="f4724-129">Este procedimento mostra como ler os campos e exibir a entrada do usuário na página.</span><span class="sxs-lookup"><span data-stu-id="f4724-129">This procedure shows you how to read the fields and display the user input on the page.</span></span> <span data-ttu-id="f4724-130">(Em um aplicativo de produção, você geralmente fazer coisas mais interessantes com a entrada do usuário.</span><span class="sxs-lookup"><span data-stu-id="f4724-130">(In a production application, you generally do more interesting things with user input.</span></span> <span data-ttu-id="f4724-131">Você fará isso no artigo sobre como trabalhar com bancos de dados.)</span><span class="sxs-lookup"><span data-stu-id="f4724-131">You'll do that in the article about working with databases.)</span></span>

1. <span data-ttu-id="f4724-132">Na parte superior do *Form.cshtml* de arquivo, insira o código a seguir:</span><span class="sxs-lookup"><span data-stu-id="f4724-132">At the top of the *Form.cshtml* file, enter the following code:</span></span>

    [!code-cshtml[Main](4-working-with-forms/samples/sample2.cshtml)]

    <span data-ttu-id="f4724-133">Quando o usuário primeiro solicita a página, apenas o formulário vazio é exibido.</span><span class="sxs-lookup"><span data-stu-id="f4724-133">When the user first requests the page, only the empty form is displayed.</span></span> <span data-ttu-id="f4724-134">O usuário (que será você) preenche o formulário e, em seguida, clica **enviar**.</span><span class="sxs-lookup"><span data-stu-id="f4724-134">The user (which will be you) fills in the form and then clicks **Submit**.</span></span> <span data-ttu-id="f4724-135">Isso envia (posta) a entrada do usuário para o servidor.</span><span class="sxs-lookup"><span data-stu-id="f4724-135">This submits (posts) the user input to the server.</span></span> <span data-ttu-id="f4724-136">Por padrão, a solicitação irá para a mesma página (ou seja, *Form.cshtml*).</span><span class="sxs-lookup"><span data-stu-id="f4724-136">By default, the request goes to the same page (namely, *Form.cshtml*).</span></span>

    <span data-ttu-id="f4724-137">Quando você envia a página neste momento, os valores inseridos são exibidos apenas acima do formulário:</span><span class="sxs-lookup"><span data-stu-id="f4724-137">When you submit the page this time, the values you entered are displayed just above the form:</span></span>

    ![Captura de tela que mostra os valores que você inseriu exibidos na página.](4-working-with-forms/_static/image2.jpg)

    <span data-ttu-id="f4724-139">Examinar o código para a página.</span><span class="sxs-lookup"><span data-stu-id="f4724-139">Look at the code for the page.</span></span> <span data-ttu-id="f4724-140">Primeiro use o `IsPost` método para determinar se a página está sendo lançada &#8212; ou seja, se um usuário clicou o **enviar** botão.</span><span class="sxs-lookup"><span data-stu-id="f4724-140">You first use the `IsPost` method to determine whether the page is being posted &#8212; that is, whether a user clicked the **Submit** button.</span></span> <span data-ttu-id="f4724-141">Quando se trata de uma postagem, `IsPost` retorna true.</span><span class="sxs-lookup"><span data-stu-id="f4724-141">If this is a post, `IsPost` returns true.</span></span> <span data-ttu-id="f4724-142">Essa é a maneira padrão em páginas da Web do ASP.NET para determinar se você estiver trabalhando com uma solicitação inicial (uma solicitação GET) ou um postback (uma solicitação POST).</span><span class="sxs-lookup"><span data-stu-id="f4724-142">This is the standard way in ASP.NET Web Pages to determine whether you're working with an initial request (a GET request) or a postback (a POST request).</span></span> <span data-ttu-id="f4724-143">(Para obter mais informações sobre como GET e POST, consulte a barra lateral "HTTP GET e POST e a IsPost propriedade" em [Introdução ao ASP.NET páginas da Web de programação usando a sintaxe Razor](https://go.microsoft.com/fwlink/?LinkId=202890#SB_HttpGetPost).)</span><span class="sxs-lookup"><span data-stu-id="f4724-143">(For more information about GET and POST, see the sidebar "HTTP GET and POST and the IsPost Property" in [Introduction to ASP.NET Web Pages Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#SB_HttpGetPost).)</span></span>

    <span data-ttu-id="f4724-144">Em seguida, você obterá os valores que o usuário preenchido a partir de `Request.Form` objeto e você os coloca em variáveis para uso posterior.</span><span class="sxs-lookup"><span data-stu-id="f4724-144">Next, you get the values that the user filled in from the `Request.Form` object, and you put them in variables for later.</span></span> <span data-ttu-id="f4724-145">O `Request.Form` objeto contém todos os valores que foram enviados com a página, cada uma identificada por uma chave.</span><span class="sxs-lookup"><span data-stu-id="f4724-145">The `Request.Form` object contains all the values that were submitted with the page, each identified by a key.</span></span> <span data-ttu-id="f4724-146">A chave é o equivalente a `name` atributo do campo de formulário que você deseja ler.</span><span class="sxs-lookup"><span data-stu-id="f4724-146">The key is the equivalent to the `name` attribute of the form field that you want to read.</span></span> <span data-ttu-id="f4724-147">Por exemplo, para ler o `companyname` campo (caixa de texto), você usa `Request.Form["companyname"]`.</span><span class="sxs-lookup"><span data-stu-id="f4724-147">For example, to read the `companyname` field (text box), you use `Request.Form["companyname"]`.</span></span>

    <span data-ttu-id="f4724-148">Valores de formulário são armazenados do `Request.Form` objeto como cadeias de caracteres.</span><span class="sxs-lookup"><span data-stu-id="f4724-148">Form values are stored in the `Request.Form` object as strings.</span></span> <span data-ttu-id="f4724-149">Portanto, quando você tem que trabalhar com um valor como um número ou uma data ou algum outro tipo, você precisa convertê-lo de uma cadeia de caracteres para esse tipo.</span><span class="sxs-lookup"><span data-stu-id="f4724-149">Therefore, when you have to work with a value as a number or a date or some other type, you have to convert it from a string to that type.</span></span> <span data-ttu-id="f4724-150">No exemplo, o `AsInt` método da `Request.Form` é usada para converter o valor do campo de funcionários (que contém uma contagem de funcionários) para um número inteiro.</span><span class="sxs-lookup"><span data-stu-id="f4724-150">In the example, the `AsInt` method of the `Request.Form` is used to convert the value of the employees field (which contains an employee count) to an integer.</span></span>
2. <span data-ttu-id="f4724-151">Abrir a página no seu navegador, preencha os campos de formulário e clique em **enviar**.</span><span class="sxs-lookup"><span data-stu-id="f4724-151">Launch the page in your browser, fill in the form fields, and click **Submit**.</span></span> <span data-ttu-id="f4724-152">A página exibe os valores inseridos.</span><span class="sxs-lookup"><span data-stu-id="f4724-152">The page displays the values you entered.</span></span>

> [!TIP] 
> 
> <a id="SB_HTMLEncoding"></a>
> ### <a name="html-encoding-for-appearance-and-security"></a><span data-ttu-id="f4724-153">Codificação para a aparência e a segurança HTML</span><span class="sxs-lookup"><span data-stu-id="f4724-153">HTML Encoding for Appearance and Security</span></span>
> 
> <span data-ttu-id="f4724-154">HTML tem usos especiais para caracteres, como `<`, `>`, e `&`.</span><span class="sxs-lookup"><span data-stu-id="f4724-154">HTML has special uses for characters like `<`, `>`, and `&`.</span></span> <span data-ttu-id="f4724-155">Se esses caracteres especiais são exibidos em que eles não são esperados, eles podem estragar a aparência e funcionalidade da página da web.</span><span class="sxs-lookup"><span data-stu-id="f4724-155">If these special characters appear where they're not expected, they can ruin the appearance and functionality of your web page.</span></span> <span data-ttu-id="f4724-156">Por exemplo, o navegador interpreta os `<` caractere (a menos que ele é seguido por um espaço) como o início de um elemento HTML, como `<b>` ou `<input ...>`.</span><span class="sxs-lookup"><span data-stu-id="f4724-156">For example, the browser interprets the `<` character (unless it's followed by a space) as the beginning of an HTML element, like `<b>` or `<input ...>`.</span></span> <span data-ttu-id="f4724-157">Se o navegador não reconhecer o elemento, ele simplesmente descarta a cadeia de caracteres que começa com `<` até atingir algo que ele reconhece novamente.</span><span class="sxs-lookup"><span data-stu-id="f4724-157">If the browser doesn't recognize the element, it simply discards the string that begins with `<` until it reaches something that it again recognizes.</span></span> <span data-ttu-id="f4724-158">Obviamente, isso pode resultar em algum processamento estranho na página.</span><span class="sxs-lookup"><span data-stu-id="f4724-158">Obviously, this can result in some weird rendering in the page.</span></span>
> 
> <span data-ttu-id="f4724-159">A codificação HTML substitui os caracteres reservados com um código que navegadores interpretam como o símbolo correto.</span><span class="sxs-lookup"><span data-stu-id="f4724-159">HTML encoding replaces these reserved characters with a code that browsers interpret as the correct symbol.</span></span> <span data-ttu-id="f4724-160">Por exemplo, o `<` caractere será substituído por `&lt;` e o `>` caractere será substituído por `&gt;`.</span><span class="sxs-lookup"><span data-stu-id="f4724-160">For example, the `<` character is replaced with `&lt;` and the `>` character is replaced with `&gt;`.</span></span> <span data-ttu-id="f4724-161">O navegador renderiza essas cadeias de caracteres de substituição como os caracteres que você deseja ver.</span><span class="sxs-lookup"><span data-stu-id="f4724-161">The browser renders these replacement strings as the characters that you want to see.</span></span>
> 
> <span data-ttu-id="f4724-162">É uma boa ideia usar a qualquer momento que você exibe cadeias de caracteres de codificação HTML (entrada) que você obteve de um usuário.</span><span class="sxs-lookup"><span data-stu-id="f4724-162">It's a good idea to use HTML encoding any time you display strings (input) that you got from a user.</span></span> <span data-ttu-id="f4724-163">Se você não fizer isso, um usuário pode tentar obter sua página da web para executar um script mal-intencionado ou fazer outras coisas que compromete a segurança de seu site ou que é simplesmente não o que você pretende.</span><span class="sxs-lookup"><span data-stu-id="f4724-163">If you don't, a user can try to get your web page to run a malicious script or do something else that compromises your site security or that's just not what you intend.</span></span> <span data-ttu-id="f4724-164">(Isso é particularmente importante se você aceita entrada do usuário, armazená-lo em um local e, em seguida, exibi-lo mais tarde &#8212; por exemplo, como um comentário de blog, revisão de usuário ou algo assim.)</span><span class="sxs-lookup"><span data-stu-id="f4724-164">(This is particularly important if you take user input, store it someplace, and then display it later &#8212; for example, as a blog comment, user review, or something like that.)</span></span>
> 
> <span data-ttu-id="f4724-165">Para ajudar a evitar esses problemas, páginas da Web ASP.NET automaticamente codifica em HTML qualquer texto de conteúdo que você a partir do código de saída.</span><span class="sxs-lookup"><span data-stu-id="f4724-165">To help prevent these problems, ASP.NET Web Pages automatically HTML-encodes any text content that you output from your code.</span></span> <span data-ttu-id="f4724-166">Por exemplo, quando você exibe o conteúdo de uma variável ou uma expressão usando um código como `@MyVar`, páginas da Web ASP.NET codifica automaticamente a saída.</span><span class="sxs-lookup"><span data-stu-id="f4724-166">For example, when you display the content of a variable or an expression using code such as `@MyVar`, ASP.NET Web Pages automatically encodes the output.</span></span>


## <a name="validating-user-input"></a><span data-ttu-id="f4724-167">Validação de entrada do usuário</span><span class="sxs-lookup"><span data-stu-id="f4724-167">Validating User Input</span></span>

<span data-ttu-id="f4724-168">Os usuários cometem erros.</span><span class="sxs-lookup"><span data-stu-id="f4724-168">Users make mistakes.</span></span> <span data-ttu-id="f4724-169">Peça para preencher um campo e esquecerem, ou peça para inserir o número de funcionários e eles digitem um nome em vez disso.</span><span class="sxs-lookup"><span data-stu-id="f4724-169">You ask them to fill in a field, and they forget to, or you ask them to enter the number of employees and they type a name instead.</span></span> <span data-ttu-id="f4724-170">Para certificar-se de que um formulário tiver sido preenchido corretamente antes de processá-lo, você deve validar a entrada do usuário.</span><span class="sxs-lookup"><span data-stu-id="f4724-170">To make sure that a form has been filled in correctly before you process it, you validate the user's input.</span></span>

<span data-ttu-id="f4724-171">Este procedimento mostra como validar todos os campos de formulário de três para garantir que o usuário não deixá-los em branco.</span><span class="sxs-lookup"><span data-stu-id="f4724-171">This procedure shows how to validate all three form fields to make sure the user didn't leave them blank.</span></span> <span data-ttu-id="f4724-172">Você também pode verificar o valor da contagem de funcionários é um número.</span><span class="sxs-lookup"><span data-stu-id="f4724-172">You also check that the employee count value is a number.</span></span> <span data-ttu-id="f4724-173">Se houver erros, você exibirá um erro de mensagem que informa ao usuário que valores não passa na validação.</span><span class="sxs-lookup"><span data-stu-id="f4724-173">If there are errors, you'll display an error message that tells the user what values didn't pass validation.</span></span>

1. <span data-ttu-id="f4724-174">No *Form.cshtml* de arquivo, substitua o primeiro bloco de código com o código a seguir:</span><span class="sxs-lookup"><span data-stu-id="f4724-174">In the *Form.cshtml* file, replace the first block of code with the following code:</span></span> 

    [!code-cshtml[Main](4-working-with-forms/samples/sample3.cshtml)]

    <span data-ttu-id="f4724-175">Para validar a entrada do usuário, você deve usar o `Validation` auxiliar.</span><span class="sxs-lookup"><span data-stu-id="f4724-175">To validate user input, you use the `Validation` helper.</span></span> <span data-ttu-id="f4724-176">Registre os campos obrigatórios chamando `Validation.RequireField`.</span><span class="sxs-lookup"><span data-stu-id="f4724-176">You register required fields by calling `Validation.RequireField`.</span></span> <span data-ttu-id="f4724-177">Registrar outros tipos de validação, chame `Validation.Add` e especificando o campo a ser validado e o tipo de validação a ser executado.</span><span class="sxs-lookup"><span data-stu-id="f4724-177">You register other types of validation by calling `Validation.Add` and specifying the field to validate and the type of validation to perform.</span></span>

    <span data-ttu-id="f4724-178">Quando a página é executada, o ASP.NET faz a validação para você.</span><span class="sxs-lookup"><span data-stu-id="f4724-178">When the page runs, ASP.NET does all the validation for you.</span></span> <span data-ttu-id="f4724-179">Você pode verificar os resultados chamando `Validation.IsValid`, que retorna true se tudo o que é passado e false se qualquer campo Falha na validação.</span><span class="sxs-lookup"><span data-stu-id="f4724-179">You can check the results by calling `Validation.IsValid`, which returns true if everything passed and false if any field failed validation.</span></span> <span data-ttu-id="f4724-180">Normalmente, você chama `Validation.IsValid` antes de executar qualquer processamento em entrada do usuário.</span><span class="sxs-lookup"><span data-stu-id="f4724-180">Typically, you call `Validation.IsValid` before you perform any processing on the user input.</span></span>
2. <span data-ttu-id="f4724-181">Atualizar o `<body>` elemento adicionando três chamadas para o `Html.ValidationMessage` método, como este:</span><span class="sxs-lookup"><span data-stu-id="f4724-181">Update the `<body>` element by adding three calls to the `Html.ValidationMessage` method, like this:</span></span>

    [!code-cshtml[Main](4-working-with-forms/samples/sample4.cshtml?highlight=8,13,18)]

    <span data-ttu-id="f4724-182">Para exibir mensagens de erro de validação, você pode chamar o Html.`ValidationMessage`</span><span class="sxs-lookup"><span data-stu-id="f4724-182">To display validation error messages, you can call Html.`ValidationMessage`</span></span> <span data-ttu-id="f4724-183">e passe o nome do campo que você deseja que a mensagem para.</span><span class="sxs-lookup"><span data-stu-id="f4724-183">and pass it the name of the field that you want the message for.</span></span>
3. <span data-ttu-id="f4724-184">Execute a página.</span><span class="sxs-lookup"><span data-stu-id="f4724-184">Run the page.</span></span> <span data-ttu-id="f4724-185">Deixe os campos em branco e clique em **enviar**.</span><span class="sxs-lookup"><span data-stu-id="f4724-185">Leave the fields blank and click **Submit**.</span></span> <span data-ttu-id="f4724-186">Ver mensagens de erro.</span><span class="sxs-lookup"><span data-stu-id="f4724-186">You see error messages.</span></span>

    ![Captura de tela que mostra mensagens de erro exibidas se a entrada do usuário não passa na validação.](4-working-with-forms/_static/image3.jpg)
4. <span data-ttu-id="f4724-188">Adicionar uma cadeia de caracteres (por exemplo, "ABC") para o **contagem de funcionários** campo e clique em **enviar** novamente.</span><span class="sxs-lookup"><span data-stu-id="f4724-188">Add a string (for example, "ABC") to the **Employee Count** field and click **Submit** again.</span></span> <span data-ttu-id="f4724-189">Neste momento, que você verá um erro indicando que a cadeia de caracteres não está no formato correto, ou seja, um número inteiro.</span><span class="sxs-lookup"><span data-stu-id="f4724-189">This time you see an error that indicates that the string isn't in the right format, namely, an integer.</span></span>

    ![Captura de tela que mostra mensagens de erro exibidas se os usuários inserem uma cadeia de caracteres para o campo de funcionários.](4-working-with-forms/_static/image4.jpg)

<span data-ttu-id="f4724-191">Páginas da Web do ASP.NET fornece mais opções de validação de entrada do usuário, incluindo a capacidade de realizar automaticamente a validação usando script de cliente, para que os usuários recebem feedback imediato no navegador.</span><span class="sxs-lookup"><span data-stu-id="f4724-191">ASP.NET Web Pages provides more options for validating user input, including the ability to automatically perform validation using client script, so that users get immediate feedback in the browser.</span></span> <span data-ttu-id="f4724-192">Consulte a [recursos adicionais](#Additional_Resources) posteriormente para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="f4724-192">See the [Additional Resources](#Additional_Resources) section later for more information.</span></span>

## <a name="restoring-form-values-after-postbacks"></a><span data-ttu-id="f4724-193">Restauração de valores de formulário após Postbacks</span><span class="sxs-lookup"><span data-stu-id="f4724-193">Restoring Form Values After Postbacks</span></span>

<span data-ttu-id="f4724-194">Quando você testou a página na seção anterior, você deve ter notado que se você tinha um erro de validação, tudo o que você inseriu (não apenas os dados inválidos) foi desapareceu e você tinha que insira novamente os valores para todos os campos.</span><span class="sxs-lookup"><span data-stu-id="f4724-194">When you tested the page in the previous section, you might have noticed that if you had a validation error, everything you entered (not just the invalid data) was gone, and you had to re-enter values for all the fields.</span></span> <span data-ttu-id="f4724-195">Isso ilustra um ponto importante: quando você envia uma página, processá-lo e, em seguida, renderiza a página novamente, a página é recriada do zero.</span><span class="sxs-lookup"><span data-stu-id="f4724-195">This illustrates an important point: when you submit a page, process it, and then render the page again, the page is re-created from scratch.</span></span> <span data-ttu-id="f4724-196">Como você viu, isso significa que todos os valores que estavam na página quando ele foi enviado são perdidos.</span><span class="sxs-lookup"><span data-stu-id="f4724-196">As you saw, this means that any values that were in the page when it was submitted are lost.</span></span>

<span data-ttu-id="f4724-197">Você pode corrigir isso facilmente, no entanto.</span><span class="sxs-lookup"><span data-stu-id="f4724-197">You can fix this easily, however.</span></span> <span data-ttu-id="f4724-198">Você tem acesso aos valores que foram enviadas (no `Request.Form` do objeto, portanto, você pode preencher esses valores de volta para os campos de formulário quando a página é renderizada.</span><span class="sxs-lookup"><span data-stu-id="f4724-198">You have access to the values that were submitted (in the `Request.Form` object, so you can fill those values back into the form fields when the page is rendered.</span></span>

1. <span data-ttu-id="f4724-199">No *Form.cshtml* do arquivo, substitua o `value` atributos do `<input>` elementos usando o `value` atributo.:</span><span class="sxs-lookup"><span data-stu-id="f4724-199">In the *Form.cshtml* file, replace the `value` attributes of the `<input>` elements using the `value` attribute.:</span></span> 

    [!code-cshtml[Main](4-working-with-forms/samples/sample5.cshtml?highlight=13,19,25)]

    <span data-ttu-id="f4724-200">O `value` atributo o `<input>` elementos foi definido para ler dinamicamente o valor do campo do `Request.Form` objeto.</span><span class="sxs-lookup"><span data-stu-id="f4724-200">The `value` attribute of the `<input>` elements has been set to dynamically read the field value out of the `Request.Form` object.</span></span> <span data-ttu-id="f4724-201">Na primeira vez que a página é solicitada, os valores de `Request.Form` objeto estarão vazias.</span><span class="sxs-lookup"><span data-stu-id="f4724-201">The first time that the page is requested, the values in the `Request.Form` object are all empty.</span></span> <span data-ttu-id="f4724-202">Isso é bom, porque dessa forma, o formulário está em branco.</span><span class="sxs-lookup"><span data-stu-id="f4724-202">This is fine, because that way the form is blank.</span></span>
2. <span data-ttu-id="f4724-203">Abrir a página no seu navegador, preencha os campos de formulário ou deixá-los em branco e clique em **enviar**.</span><span class="sxs-lookup"><span data-stu-id="f4724-203">Launch the page in your browser, fill in the form fields or leave them blank, and click **Submit**.</span></span> <span data-ttu-id="f4724-204">É exibida uma página que mostra os valores enviados.</span><span class="sxs-lookup"><span data-stu-id="f4724-204">A page that shows the submitted values is displayed.</span></span>

    ![forms-5](4-working-with-forms/_static/image5.jpg)

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="f4724-206">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="f4724-206">Additional Resources</span></span>

- [<span data-ttu-id="f4724-207">1.001 maneiras de obter a entrada de usuários da Web</span><span class="sxs-lookup"><span data-stu-id="f4724-207">1,001 Ways to Get Input from Web Users</span></span>](https://msdn.microsoft.com/library/ms971057.aspx)
- <span data-ttu-id="f4724-208">[Usando formulários e processamento de entrada do usuário](https://msdn.microsoft.com/library/ms525182(VS.90).aspx)</span><span class="sxs-lookup"><span data-stu-id="f4724-208">[Using Forms and Processing User Input](https://msdn.microsoft.com/library/ms525182(VS.90).aspx)</span></span>
- [<span data-ttu-id="f4724-209">Validação da entrada do usuário em sites de Páginas da Web do ASP.NET</span><span class="sxs-lookup"><span data-stu-id="f4724-209">Validating User Input in ASP.NET Web Pages Sites</span></span>](https://go.microsoft.com/fwlink/?LinkId=253002)
- <span data-ttu-id="f4724-210">[Usando o preenchimento automático em formulários HTML](https://msdn.microsoft.com/library/ms533032(VS.85).aspx)</span><span class="sxs-lookup"><span data-stu-id="f4724-210">[Using AutoComplete in HTML Forms](https://msdn.microsoft.com/library/ms533032(VS.85).aspx)</span></span>
