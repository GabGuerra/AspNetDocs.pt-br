---
uid: web-pages/overview/ui-layouts-and-themes/3-creating-a-consistent-look
title: Criar um Layout consistente na Web do ASP.NET (Razor) Sites de páginas | Microsoft Docs
author: Rick-Anderson
description: Para tornar mais eficiente criar páginas da web para seu site, você pode criar blocos reutilizáveis de conteúdo (como cabeçalhos e rodapés) para seu site e você c...
ms.author: riande
ms.date: 03/10/2014
ms.assetid: d7bd001b-6db2-4422-9b78-f3d08b743b00
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/3-creating-a-consistent-look
msc.type: authoredcontent
ms.openlocfilehash: 7ed2f5da62f4521b42db737100230fac5ea71d67
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/17/2019
ms.locfileid: "59385963"
---
# <a name="creating-a-consistent-layout-in-aspnet-web-pages-razor-sites"></a><span data-ttu-id="6a20a-103">Criar um Layout consistente nos Sites do ASP.NET Web Pages (Razor)</span><span class="sxs-lookup"><span data-stu-id="6a20a-103">Creating a Consistent Layout in ASP.NET Web Pages (Razor) Sites</span></span>

<span data-ttu-id="6a20a-104">por [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="6a20a-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="6a20a-105">Este artigo explica como você pode usar páginas de layout em um site de páginas da Web do ASP.NET (Razor) para criar blocos reutilizáveis de conteúdo (como cabeçalhos e rodapés) e para criar uma aparência consistente para todas as páginas no site.</span><span class="sxs-lookup"><span data-stu-id="6a20a-105">This article explains how you can use layout pages in an ASP.NET Web Pages (Razor) website to create reusable blocks of content (like headers and footers) and to create a consistent look for all the pages in the site.</span></span>
> 
> <span data-ttu-id="6a20a-106">**O que você aprenderá:**</span><span class="sxs-lookup"><span data-stu-id="6a20a-106">**What you'll learn:**</span></span> 
> 
> - <span data-ttu-id="6a20a-107">Como criar blocos reutilizáveis de conteúdo como cabeçalhos e rodapés.</span><span class="sxs-lookup"><span data-stu-id="6a20a-107">How to create reusable blocks of content like headers and footers.</span></span>
> - <span data-ttu-id="6a20a-108">Como criar uma aparência consistente para todas as páginas no seu site usando um layout.</span><span class="sxs-lookup"><span data-stu-id="6a20a-108">How to create a consistent look for all the pages in your site using a layout.</span></span>
> - <span data-ttu-id="6a20a-109">Como passar dados em tempo de execução para uma página de layout.</span><span class="sxs-lookup"><span data-stu-id="6a20a-109">How to pass data at run time to a layout page.</span></span>
> 
> <span data-ttu-id="6a20a-110">Estes são os recursos do ASP.NET introduzidos no artigo:</span><span class="sxs-lookup"><span data-stu-id="6a20a-110">These are the ASP.NET features introduced in the article:</span></span>
> 
> - <span data-ttu-id="6a20a-111">Blocos de conteúdo, que são arquivos que contêm conteúdo formatado em HTML a ser inserido em várias páginas.</span><span class="sxs-lookup"><span data-stu-id="6a20a-111">Content blocks, which are files that contain HTML-formatted content to be inserted in multiple pages.</span></span>
> - <span data-ttu-id="6a20a-112">Páginas de layout, que são páginas que contêm conteúdo formatado em HTML que pode ser compartilhado por páginas do site.</span><span class="sxs-lookup"><span data-stu-id="6a20a-112">Layout pages, which are pages that contain HTML-formatted content that can be shared by pages on the website.</span></span>
> - <span data-ttu-id="6a20a-113">O `RenderPage`, `RenderBody`, e `RenderSection` métodos, que informam ao ASP.NET onde inserir elementos de página.</span><span class="sxs-lookup"><span data-stu-id="6a20a-113">The `RenderPage`, `RenderBody`, and `RenderSection` methods, which tell ASP.NET where to insert page elements.</span></span>
> - <span data-ttu-id="6a20a-114">O `PageData` dicionário que permite que você compartilhe dados entre os blocos de conteúdo e páginas de layout.</span><span class="sxs-lookup"><span data-stu-id="6a20a-114">The `PageData` dictionary that lets you share data between content blocks and layout pages.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="6a20a-115">Versões de software usadas no tutorial</span><span class="sxs-lookup"><span data-stu-id="6a20a-115">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="6a20a-116">Páginas da Web do ASP.NET (Razor) 3</span><span class="sxs-lookup"><span data-stu-id="6a20a-116">ASP.NET Web Pages (Razor) 3</span></span>
>   
> 
> <span data-ttu-id="6a20a-117">Este tutorial também funciona com ASP.NET Web Pages 2.</span><span class="sxs-lookup"><span data-stu-id="6a20a-117">This tutorial also works with ASP.NET Web Pages 2.</span></span>


## <a name="about-layout-pages"></a><span data-ttu-id="6a20a-118">Sobre páginas de Layout</span><span class="sxs-lookup"><span data-stu-id="6a20a-118">About Layout Pages</span></span>

<span data-ttu-id="6a20a-119">Muitos sites têm conteúdo que é exibido em cada página, como um cabeçalho e rodapé ou uma caixa que informa aos usuários que ele está conectado.</span><span class="sxs-lookup"><span data-stu-id="6a20a-119">Many websites have content that's displayed on every page, like a header and footer, or a box that tells users that they're logged in.</span></span> <span data-ttu-id="6a20a-120">ASP.NET permite que você crie um arquivo separado com um bloco de conteúdo que pode conter texto, marcação e código, assim como uma página da web regulares.</span><span class="sxs-lookup"><span data-stu-id="6a20a-120">ASP.NET lets you create a separate file with a content block that can contain text, markup, and code, just like a regular web page.</span></span> <span data-ttu-id="6a20a-121">Em seguida, você pode inserir o bloco de conteúdo em outras páginas no site de onde você deseja que as informações sejam exibidas.</span><span class="sxs-lookup"><span data-stu-id="6a20a-121">You can then insert the content block in other pages on the site where you want the information to appear.</span></span> <span data-ttu-id="6a20a-122">Dessa forma, você não precisa copiar e colar o mesmo conteúdo em cada página.</span><span class="sxs-lookup"><span data-stu-id="6a20a-122">That way you don't have to copy and paste the same content into every page.</span></span> <span data-ttu-id="6a20a-123">Criação de conteúdo comuns, como isso também torna mais fácil atualizar o site.</span><span class="sxs-lookup"><span data-stu-id="6a20a-123">Creating common content like this also makes it easier to update your site.</span></span> <span data-ttu-id="6a20a-124">Se você precisar alterar o conteúdo, você pode atualizar apenas um único arquivo e as alterações são refletidas em todos os lugares o conteúdo foi inserido.</span><span class="sxs-lookup"><span data-stu-id="6a20a-124">If you need to change the content, you can just update a single file, and the changes are then reflected everywhere the content has been inserted.</span></span>

<span data-ttu-id="6a20a-125">O diagrama a seguir mostra como o conteúdo bloqueia o trabalho.</span><span class="sxs-lookup"><span data-stu-id="6a20a-125">The following diagram shows how content blocks work.</span></span> <span data-ttu-id="6a20a-126">Quando um navegador solicita uma página do servidor web, o ASP.NET insere os blocos de conteúdo no ponto em que o `RenderPage` método é chamado na página principal.</span><span class="sxs-lookup"><span data-stu-id="6a20a-126">When a browser requests a page from the web server, ASP.NET inserts the content blocks at the point where the `RenderPage` method is called in the main page.</span></span> <span data-ttu-id="6a20a-127">A página (mesclada) concluído é enviada ao navegador.</span><span class="sxs-lookup"><span data-stu-id="6a20a-127">The finished (merged) page is then sent to the browser.</span></span>

![Diagrama conceitual mostrando como o método RenderPage insere uma página referenciada na página atual.](3-creating-a-consistent-look/_static/image1.jpg)

<span data-ttu-id="6a20a-129">Neste procedimento, você criará uma página que faz referência a dois blocos de conteúdo (um cabeçalho e um rodapé) que estão localizados em arquivos separados.</span><span class="sxs-lookup"><span data-stu-id="6a20a-129">In this procedure, you'll create a page that references two content blocks (a header and a footer) that are located in separate files.</span></span> <span data-ttu-id="6a20a-130">Você pode usar esses mesmos blocos de conteúdo em qualquer página no seu site.</span><span class="sxs-lookup"><span data-stu-id="6a20a-130">You can use these same content blocks in any page in your site.</span></span> <span data-ttu-id="6a20a-131">Quando você terminar, você obterá uma página como esta:</span><span class="sxs-lookup"><span data-stu-id="6a20a-131">When you're done, you'll get a page like this:</span></span>

![Captura de tela mostrando uma página no navegador que resulta da execução de uma página que inclui chamadas ao método RenderPage.](3-creating-a-consistent-look/_static/image2.jpg)

1. <span data-ttu-id="6a20a-133">Na pasta raiz do seu site, crie um arquivo chamado *index. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="6a20a-133">In the root folder of your website, create a file named *Index.cshtml*.</span></span>
2. <span data-ttu-id="6a20a-134">Substitua a marcação existente pelo seguinte:</span><span class="sxs-lookup"><span data-stu-id="6a20a-134">Replace the existing markup with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample1.html)]
3. <span data-ttu-id="6a20a-135">Na pasta raiz, crie uma pasta chamada *compartilhado*.</span><span class="sxs-lookup"><span data-stu-id="6a20a-135">In the root folder, create a folder named *Shared*.</span></span>

    > [!NOTE]
    > <span data-ttu-id="6a20a-136">É prática comum para armazenar arquivos que são compartilhados entre páginas da web em uma pasta chamada *compartilhado*.</span><span class="sxs-lookup"><span data-stu-id="6a20a-136">It's common practice to store files that are shared among web pages in a folder named *Shared*.</span></span>
4. <span data-ttu-id="6a20a-137">No *Shared* pasta, crie um arquivo chamado  *\_Header.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="6a20a-137">In the *Shared* folder, create a file named *\_Header.cshtml*.</span></span>
5. <span data-ttu-id="6a20a-138">Substitua todo o conteúdo existente pelo seguinte:</span><span class="sxs-lookup"><span data-stu-id="6a20a-138">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample2.html)]

    <span data-ttu-id="6a20a-139">Observe que é o nome do arquivo  *\_Header.cshtml*, com um sublinhado (\_) como um prefixo.</span><span class="sxs-lookup"><span data-stu-id="6a20a-139">Notice that the file name is *\_Header.cshtml*, with an underscore (\_) as a prefix.</span></span> <span data-ttu-id="6a20a-140">ASP.NET não enviará uma página no navegador, se seu nome começa com um sublinhado.</span><span class="sxs-lookup"><span data-stu-id="6a20a-140">ASP.NET won't send a page to the browser if its name starts with an underscore.</span></span> <span data-ttu-id="6a20a-141">Isso impede que as pessoas solicitando (inadvertidamente ou de outra forma) essas páginas diretamente.</span><span class="sxs-lookup"><span data-stu-id="6a20a-141">This prevents people from requesting (inadvertently or otherwise) these pages directly.</span></span> <span data-ttu-id="6a20a-142">Ele é uma boa ideia usar um caractere de sublinhado para páginas de nome que tem blocos de conteúdo, como você realmente não quer que os usuários possam solicitar essas páginas &#8212; existirem estritamente sejam inseridos em outras páginas.</span><span class="sxs-lookup"><span data-stu-id="6a20a-142">It's a good idea to use an underscore to name pages that have content blocks in them, because you don't really want users to be able to request these pages &#8212; they exist strictly to be inserted into other pages.</span></span>
6. <span data-ttu-id="6a20a-143">No *Shared* pasta, crie um arquivo chamado  *\_Footer.cshtml* e substitua o conteúdo a seguir:</span><span class="sxs-lookup"><span data-stu-id="6a20a-143">In the *Shared* folder, create a file named *\_Footer.cshtml* and replace the content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample3.html)]
7. <span data-ttu-id="6a20a-144">No *index. cshtml* página, adicione duas chamadas para o `RenderPage` método, conforme mostrado aqui:</span><span class="sxs-lookup"><span data-stu-id="6a20a-144">In the *Index.cshtml* page, add two calls to the `RenderPage` method, as shown here:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample4.html)]

    <span data-ttu-id="6a20a-145">Isso mostra como inserir um bloco de conteúdo em uma página da web.</span><span class="sxs-lookup"><span data-stu-id="6a20a-145">This shows how to insert a content block into a web page.</span></span> <span data-ttu-id="6a20a-146">Você chama o `RenderPage` método e passe o nome do arquivo cujo conteúdo você deseja inserir nesse ponto.</span><span class="sxs-lookup"><span data-stu-id="6a20a-146">You call the `RenderPage` method and pass it the name of the file whose contents you want to insert at that point.</span></span> <span data-ttu-id="6a20a-147">Aqui, você está inserindo o conteúdo do  *\_Header.cshtml* e  *\_Footer.cshtml* arquivos para o *index. cshtml* arquivo.</span><span class="sxs-lookup"><span data-stu-id="6a20a-147">Here, you're inserting the contents of the *\_Header.cshtml* and *\_Footer.cshtml* files into the *Index.cshtml* file.</span></span>
8. <span data-ttu-id="6a20a-148">Execute o *index. cshtml* página em um navegador.</span><span class="sxs-lookup"><span data-stu-id="6a20a-148">Run the *Index.cshtml* page in a browser.</span></span> <span data-ttu-id="6a20a-149">(No WebMatrix, nos **arquivos** espaço de trabalho, o arquivo com o botão direito e, em seguida, selecione **iniciar no navegador**.)</span><span class="sxs-lookup"><span data-stu-id="6a20a-149">(In WebMatrix, in the **Files** workspace, right-click the file and then select **Launch in browser**.)</span></span>
9. <span data-ttu-id="6a20a-150">No navegador, exiba a origem da página.</span><span class="sxs-lookup"><span data-stu-id="6a20a-150">In the browser, view the page source.</span></span> <span data-ttu-id="6a20a-151">(Por exemplo, no Internet Explorer, a página com o botão direito e, em seguida, clique em **Exibir código-fonte**.)</span><span class="sxs-lookup"><span data-stu-id="6a20a-151">(For example, in Internet Explorer, right-click the page and then click **View Source**.)</span></span>

    <span data-ttu-id="6a20a-152">Isso permite que você veja a marcação de página da web que é enviada ao navegador, que combina a marcação da página de índice com os blocos de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="6a20a-152">This lets you see the web page markup that's sent to the browser, which combines the index page markup with the content blocks.</span></span> <span data-ttu-id="6a20a-153">O exemplo a seguir mostra a origem da página que é renderizada para *index. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="6a20a-153">The following example shows the page source that's rendered for *Index.cshtml*.</span></span> <span data-ttu-id="6a20a-154">As chamadas para `RenderPage` que você inserida *index. cshtml* foram substituídos com o conteúdo real dos arquivos de cabeçalho e rodapé.</span><span class="sxs-lookup"><span data-stu-id="6a20a-154">The calls to `RenderPage` that you inserted into *Index.cshtml* have been replaced with the actual contents of the header and footer files.</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample5.html)]

## <a name="creating-a-consistent-look-using-layout-pages"></a><span data-ttu-id="6a20a-155">Criar uma aparência consistente usando páginas de Layout</span><span class="sxs-lookup"><span data-stu-id="6a20a-155">Creating a Consistent Look Using Layout Pages</span></span>

<span data-ttu-id="6a20a-156">Até agora, você viu que ele é fácil de incluir o mesmo conteúdo em várias páginas.</span><span class="sxs-lookup"><span data-stu-id="6a20a-156">So far you've seen that it's easy to include the same content on multiple pages.</span></span> <span data-ttu-id="6a20a-157">Uma abordagem mais estruturada para criar uma aparência consistente para um site é usar páginas de layout.</span><span class="sxs-lookup"><span data-stu-id="6a20a-157">A more structured approach to creating a consistent look for a site is to use layout pages.</span></span> <span data-ttu-id="6a20a-158">Uma página de layout define a estrutura de uma página da web, mas não contém qualquer conteúdo real.</span><span class="sxs-lookup"><span data-stu-id="6a20a-158">A layout page defines the structure of a web page, but doesn't contain any actual content.</span></span> <span data-ttu-id="6a20a-159">Depois de criar uma página de layout, você pode criar páginas da web que contêm o conteúdo e, em seguida, vinculá-los para a página de layout.</span><span class="sxs-lookup"><span data-stu-id="6a20a-159">After you've created a layout page, you can create web pages that contain the content and then link them to the layout page.</span></span> <span data-ttu-id="6a20a-160">Quando essas páginas são exibidas, eles serão formatados de acordo com a página de layout.</span><span class="sxs-lookup"><span data-stu-id="6a20a-160">When these pages are displayed, they'll be formatted according to the layout page.</span></span> <span data-ttu-id="6a20a-161">(Nesse sentido, uma página de layout atua como um tipo de modelo para o conteúdo que é definido em outras páginas.)</span><span class="sxs-lookup"><span data-stu-id="6a20a-161">(In this sense, a layout page acts as a kind of template for content that's defined in other pages.)</span></span>

<span data-ttu-id="6a20a-162">A página de layout é como qualquer página HTML, exceto que ela contém uma chamada para o `RenderBody` método.</span><span class="sxs-lookup"><span data-stu-id="6a20a-162">The layout page is just like any HTML page, except that it contains a call to the `RenderBody` method.</span></span> <span data-ttu-id="6a20a-163">A posição do `RenderBody` método na página de layout determina onde as informações da página de conteúdo será incluídas.</span><span class="sxs-lookup"><span data-stu-id="6a20a-163">The position of the `RenderBody` method in the layout page determines where the information from the content page will be included.</span></span>

<span data-ttu-id="6a20a-164">O diagrama a seguir mostra o conteúdo como páginas e páginas de layout são combinadas em tempo de execução para produzir a página da web concluída.</span><span class="sxs-lookup"><span data-stu-id="6a20a-164">The following diagram shows how content pages and layout pages are combined at run time to produce the finished web page.</span></span> <span data-ttu-id="6a20a-165">O navegador solicita uma página de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="6a20a-165">The browser requests a content page.</span></span> <span data-ttu-id="6a20a-166">A página de conteúdo tem código que especifica a página de layout a ser usado para a estrutura da página.</span><span class="sxs-lookup"><span data-stu-id="6a20a-166">The content page has code in it that specifies the layout page to use for the page's structure.</span></span> <span data-ttu-id="6a20a-167">Na página de layout, o conteúdo é inserido no ponto em que o `RenderBody` método é chamado.</span><span class="sxs-lookup"><span data-stu-id="6a20a-167">In the layout page, the content is inserted at the point where the `RenderBody` method is called.</span></span> <span data-ttu-id="6a20a-168">Conteúdo de blocos também podem ser inseridos em página de layout, chamando o `RenderPage` método, da forma que fez na seção anterior.</span><span class="sxs-lookup"><span data-stu-id="6a20a-168">Content blocks can also be inserted into the layout page by calling the `RenderPage` method, the way you did in the previous section.</span></span> <span data-ttu-id="6a20a-169">Quando a página da web for concluída, ela é enviada ao navegador.</span><span class="sxs-lookup"><span data-stu-id="6a20a-169">When the web page is complete, it's sent to the browser.</span></span>

![Captura de tela mostrando uma página no navegador que resulta da execução de uma página que inclui chamadas ao método RenderBody.](3-creating-a-consistent-look/_static/image3.jpg)

<span data-ttu-id="6a20a-171">O procedimento a seguir mostra como criar um layout de página e link de páginas de conteúdo para ele.</span><span class="sxs-lookup"><span data-stu-id="6a20a-171">The following procedure shows how to create a layout page and link content pages to it.</span></span>

1. <span data-ttu-id="6a20a-172">No *Shared* pasta do seu site, crie um arquivo chamado  *\_Layout1.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="6a20a-172">In the *Shared* folder of your website, create a file named *\_Layout1.cshtml*.</span></span>
2. <span data-ttu-id="6a20a-173">Substitua todo o conteúdo existente pelo seguinte:</span><span class="sxs-lookup"><span data-stu-id="6a20a-173">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample6.html)]

    <span data-ttu-id="6a20a-174">Você usa o `RenderPage` método em uma página de layout para inserir blocos de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="6a20a-174">You use the `RenderPage` method in a layout page to insert content blocks.</span></span> <span data-ttu-id="6a20a-175">Uma página de layout pode conter apenas uma chamada para o `RenderBody` método.</span><span class="sxs-lookup"><span data-stu-id="6a20a-175">A layout page can contain only one call to the `RenderBody` method.</span></span>
3. <span data-ttu-id="6a20a-176">No *Shared* pasta, crie um arquivo chamado  *\_Header2.cshtml* e substitua todo o conteúdo existente pelo seguinte:</span><span class="sxs-lookup"><span data-stu-id="6a20a-176">In the *Shared* folder, create a file named *\_Header2.cshtml* and replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample7.html)]
4. <span data-ttu-id="6a20a-177">Na pasta raiz, crie uma nova pasta e denomine *estilos*.</span><span class="sxs-lookup"><span data-stu-id="6a20a-177">In the root folder, create a new folder and name it *Styles*.</span></span>
5. <span data-ttu-id="6a20a-178">No *estilos* pasta, crie um arquivo chamado *CSS* e adicione as seguintes definições de estilo:</span><span class="sxs-lookup"><span data-stu-id="6a20a-178">In the *Styles* folder, create a file named *Site.css* and add the following style definitions:</span></span>

    [!code-css[Main](3-creating-a-consistent-look/samples/sample8.css)]

    <span data-ttu-id="6a20a-179">Essas definições de estilo aqui são apenas Mostrar como as folhas de estilos podem ser usadas com páginas de layout.</span><span class="sxs-lookup"><span data-stu-id="6a20a-179">These style definitions are here only to show how style sheets can be used with layout pages.</span></span> <span data-ttu-id="6a20a-180">Se você quiser, você pode definir seus próprios estilos para esses elementos.</span><span class="sxs-lookup"><span data-stu-id="6a20a-180">If you want, you can define your own styles for these elements.</span></span>
6. <span data-ttu-id="6a20a-181">Na pasta raiz, crie um arquivo chamado *Content1.cshtml* e substitua todo o conteúdo existente pelo seguinte:</span><span class="sxs-lookup"><span data-stu-id="6a20a-181">In the root folder, create a file named *Content1.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample9.cshtml)]

    <span data-ttu-id="6a20a-182">Essa é uma página que irá usar uma página de layout.</span><span class="sxs-lookup"><span data-stu-id="6a20a-182">This is a page that will use a layout page.</span></span> <span data-ttu-id="6a20a-183">O bloco de código na parte superior da página indica qual página de layout a ser usado para formatar esse conteúdo.</span><span class="sxs-lookup"><span data-stu-id="6a20a-183">The code block at the top of the page indicates which layout page to use to format this content.</span></span>
7. <span data-ttu-id="6a20a-184">Execute *Content1.cshtml* em um navegador.</span><span class="sxs-lookup"><span data-stu-id="6a20a-184">Run *Content1.cshtml* in a browser.</span></span> <span data-ttu-id="6a20a-185">A página renderizada usa o formato e a folha de estilos definidos no  *\_Layout1.cshtml* e o texto (conteúdo) definido na *Content1.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="6a20a-185">The rendered page uses the format and style sheet defined in *\_Layout1.cshtml* and the text (content) defined in *Content1.cshtml*.</span></span>

    ![[image]](3-creating-a-consistent-look/_static/image4.jpg)

    <span data-ttu-id="6a20a-187">Você pode repetir a etapa 6 para criar páginas de conteúdo adicionais que podem compartilhar a mesma página de layout.</span><span class="sxs-lookup"><span data-stu-id="6a20a-187">You can repeat step 6 to create additional content pages that can then share the same layout page.</span></span>

    > [!NOTE]
    > <span data-ttu-id="6a20a-188">Você pode configurar seu site para que você pode usar a mesma página de layout automaticamente para todas as páginas de conteúdo em uma pasta.</span><span class="sxs-lookup"><span data-stu-id="6a20a-188">You can set up your site so that you can automatically use the same layout page for all the content pages in a folder.</span></span> <span data-ttu-id="6a20a-189">Para obter detalhes, consulte [Personalizando o comportamento de todo o Site do ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=202906).</span><span class="sxs-lookup"><span data-stu-id="6a20a-189">For details, see [Customizing Site-Wide Behavior for ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=202906).</span></span>

## <a name="designing-layout-pages-that-have-multiple-content-sections"></a><span data-ttu-id="6a20a-190">Criando páginas de Layout que têm várias seções de conteúdo</span><span class="sxs-lookup"><span data-stu-id="6a20a-190">Designing Layout Pages That Have Multiple Content Sections</span></span>

<span data-ttu-id="6a20a-191">Uma página de conteúdo pode ter várias seções, que é útil se você quiser usar layouts que têm várias áreas com conteúdo substituível.</span><span class="sxs-lookup"><span data-stu-id="6a20a-191">A content page can have multiple sections, which is useful if you want to use layouts that have multiple areas with replaceable content.</span></span> <span data-ttu-id="6a20a-192">Na página de conteúdo, você atribui cada seção um nome exclusivo.</span><span class="sxs-lookup"><span data-stu-id="6a20a-192">In the content page, you give each section a unique name.</span></span> <span data-ttu-id="6a20a-193">(A seção padrão é deixada sem nome.) Na página de layout, você adiciona um `RenderBody` método para especificar onde a seção (padrão) sem nome deverá aparecer.</span><span class="sxs-lookup"><span data-stu-id="6a20a-193">(The default section is left unnamed.) In the layout page, you add a `RenderBody` method to specify where the unnamed (default) section should appear.</span></span> <span data-ttu-id="6a20a-194">Em seguida, adicione separado `RenderSection` métodos para renderizar seções nomeadas individualmente.</span><span class="sxs-lookup"><span data-stu-id="6a20a-194">You then add separate `RenderSection` methods in order to render named sections individually.</span></span>

<span data-ttu-id="6a20a-195">O diagrama a seguir mostra como o ASP.NET gerencia o conteúdo que é dividido em várias seções.</span><span class="sxs-lookup"><span data-stu-id="6a20a-195">The following diagram shows how ASP.NET handles content that's divided into multiple sections.</span></span> <span data-ttu-id="6a20a-196">Cada seção nomeada está contida em um bloco de seção na página de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="6a20a-196">Each named section is contained in a section block in the content page.</span></span> <span data-ttu-id="6a20a-197">(Eles são nomeados `Header` e `List` no exemplo.) O framework insere seção de conteúdo na página de layout no ponto em que o `RenderSection` método é chamado.</span><span class="sxs-lookup"><span data-stu-id="6a20a-197">(They're named `Header` and `List` in the example.) The framework inserts content section into the layout page at the point where the `RenderSection` method is called.</span></span> <span data-ttu-id="6a20a-198">A seção sem nome (padrão) é inserida no ponto em que o `RenderBody` método é chamado, como você viu anteriormente.</span><span class="sxs-lookup"><span data-stu-id="6a20a-198">The unnamed (default) section is inserted at the point where the `RenderBody` method is called, as you saw earlier.</span></span>

![Diagrama conceitual mostrando como o método RenderSection insere referências seções da página atual.](3-creating-a-consistent-look/_static/image5.jpg)

<span data-ttu-id="6a20a-200">Este procedimento mostra como criar uma página de conteúdo que tem várias seções de conteúdo e como renderizá-lo usando uma página de layout que dá suporte a várias seções de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="6a20a-200">This procedure shows how to create a content page that has multiple content sections and how to render it using a layout page that supports multiple content sections.</span></span>

1. <span data-ttu-id="6a20a-201">No *Shared* pasta, crie um arquivo chamado  *\_Layout2.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="6a20a-201">In the *Shared* folder, create a file named *\_Layout2.cshtml*.</span></span>
2. <span data-ttu-id="6a20a-202">Substitua todo o conteúdo existente pelo seguinte:</span><span class="sxs-lookup"><span data-stu-id="6a20a-202">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample10.html)]

    <span data-ttu-id="6a20a-203">Você usa o `RenderSection` método para renderizar o cabeçalho e a lista de seções.</span><span class="sxs-lookup"><span data-stu-id="6a20a-203">You use the `RenderSection` method to render both the header and list sections.</span></span>
3. <span data-ttu-id="6a20a-204">Na pasta raiz, crie um arquivo chamado *Content2.cshtml* e substitua todo o conteúdo existente pelo seguinte:</span><span class="sxs-lookup"><span data-stu-id="6a20a-204">In the root folder, create a file named *Content2.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample11.cshtml)]

    <span data-ttu-id="6a20a-205">Esta página de conteúdo contém um bloco de código na parte superior da página.</span><span class="sxs-lookup"><span data-stu-id="6a20a-205">This content page contains a code block at the top of the page.</span></span> <span data-ttu-id="6a20a-206">Cada seção nomeada está contida em um bloco de seção.</span><span class="sxs-lookup"><span data-stu-id="6a20a-206">Each named section is contained in a section block.</span></span> <span data-ttu-id="6a20a-207">O restante da página contém a seção de conteúdo padrão (sem nome).</span><span class="sxs-lookup"><span data-stu-id="6a20a-207">The rest of the page contains the default (unnamed) content section.</span></span>
4. <span data-ttu-id="6a20a-208">Execute *Content2.cshtml* em um navegador.</span><span class="sxs-lookup"><span data-stu-id="6a20a-208">Run *Content2.cshtml* in a browser.</span></span>

    ![Captura de tela mostrando uma página no navegador que resulta da execução de uma página que inclui chamadas ao método RenderSection.](3-creating-a-consistent-look/_static/image6.jpg)

## <a name="making-content-sections-optional"></a><span data-ttu-id="6a20a-210">Seções de conteúdo de tomada de opcional</span><span class="sxs-lookup"><span data-stu-id="6a20a-210">Making Content Sections Optional</span></span>

<span data-ttu-id="6a20a-211">Normalmente, as seções que você cria em uma página de conteúdo têm que corresponder as seções que são definidas na página de layout.</span><span class="sxs-lookup"><span data-stu-id="6a20a-211">Normally, the sections that you create in a content page have to match sections that are defined in the layout page.</span></span> <span data-ttu-id="6a20a-212">Você pode obter erros se ocorrer qualquer uma das seguintes opções:</span><span class="sxs-lookup"><span data-stu-id="6a20a-212">You can get errors if any of the following occur:</span></span>

- <span data-ttu-id="6a20a-213">A página de conteúdo contém uma seção com nenhuma seção correspondente na página de layout.</span><span class="sxs-lookup"><span data-stu-id="6a20a-213">The content page contains a section that has no corresponding section in the layout page.</span></span>
- <span data-ttu-id="6a20a-214">A página de layout contém uma seção para a qual não há nenhum conteúdo.</span><span class="sxs-lookup"><span data-stu-id="6a20a-214">The layout page contains a section for which there's no content.</span></span>
- <span data-ttu-id="6a20a-215">A página de layout inclui chamadas de método que tentam processar a mesma seção mais de uma vez.</span><span class="sxs-lookup"><span data-stu-id="6a20a-215">The layout page includes method calls that try to render the same section more than once.</span></span>

<span data-ttu-id="6a20a-216">No entanto, você pode substituir esse comportamento para uma seção nomeada, declarando a seção a ser opcional na página de layout.</span><span class="sxs-lookup"><span data-stu-id="6a20a-216">However, you can override this behavior for a named section by declaring the section to be optional in the layout page.</span></span> <span data-ttu-id="6a20a-217">Isso permite que você defina várias páginas de conteúdo que podem compartilhar uma página de layout, mas que podem ou não pode ter o conteúdo de uma seção específica.</span><span class="sxs-lookup"><span data-stu-id="6a20a-217">This lets you define multiple content pages that can share a layout page but that might or might not have content for a specific section.</span></span>

1. <span data-ttu-id="6a20a-218">Abra *Content2.cshtml* e remover a seção a seguir:</span><span class="sxs-lookup"><span data-stu-id="6a20a-218">Open *Content2.cshtml* and remove the following section:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample12.cshtml)]
2. <span data-ttu-id="6a20a-219">Salve a página e, em seguida, executá-lo em um navegador.</span><span class="sxs-lookup"><span data-stu-id="6a20a-219">Save the page and then run it in a browser.</span></span> <span data-ttu-id="6a20a-220">Uma mensagem de erro é exibida, porque a página de conteúdo não fornece conteúdo para uma seção definida na página de layout, ou seja, a seção de cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="6a20a-220">An error message is displayed, because the content page doesn't provide content for a section defined in the layout page, namely the header section.</span></span>

    ![Captura de tela que mostra o erro que ocorrerá se você executar uma página que chama o método RenderSection, mas a seção correspondente não for fornecida.](3-creating-a-consistent-look/_static/image7.jpg)
3. <span data-ttu-id="6a20a-222">No *Shared* pasta, abra o  *\_Layout2.cshtml* página e substitua esta linha:</span><span class="sxs-lookup"><span data-stu-id="6a20a-222">In the *Shared* folder, open the *\_Layout2.cshtml* page and replace this line:</span></span>

    [!code-javascript[Main](3-creating-a-consistent-look/samples/sample13.js)]

    <span data-ttu-id="6a20a-223">com o código a seguir:</span><span class="sxs-lookup"><span data-stu-id="6a20a-223">with the following code:</span></span>

    [!code-javascript[Main](3-creating-a-consistent-look/samples/sample14.js)]

    <span data-ttu-id="6a20a-224">Como alternativa, você poderia substituir a linha de código anterior com o seguinte bloco de código, que produz os mesmos resultados:</span><span class="sxs-lookup"><span data-stu-id="6a20a-224">As an alternative, you could replace the previous line of code with the following code block, which produces the same results:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample15.cshtml)]
4. <span data-ttu-id="6a20a-225">Execute o *Content2.cshtml* página em um navegador novamente.</span><span class="sxs-lookup"><span data-stu-id="6a20a-225">Run the *Content2.cshtml* page in a browser again.</span></span> <span data-ttu-id="6a20a-226">(Se você ainda tiver esta página abrir no navegador, você pode simplesmente atualizá-lo.) Neste momento a página é exibida sem erro, mesmo que ele não tem cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="6a20a-226">(If you still have this page open in the browser, you can just refresh it.) This time the page is displayed with no error, even though it has no header.</span></span>

## <a name="passing-data-to-layout-pages"></a><span data-ttu-id="6a20a-227">Transmitindo dados para páginas de Layout</span><span class="sxs-lookup"><span data-stu-id="6a20a-227">Passing Data to Layout Pages</span></span>

<span data-ttu-id="6a20a-228">Você pode ter dados definidos na página de conteúdo que você precisa para referir-se em uma página de layout.</span><span class="sxs-lookup"><span data-stu-id="6a20a-228">You might have data defined in the content page that you need to refer to in a layout page.</span></span> <span data-ttu-id="6a20a-229">Nesse caso, você precisará passar os dados da página de conteúdo para a página de layout.</span><span class="sxs-lookup"><span data-stu-id="6a20a-229">If so, you need to pass the data from the content page to the layout page.</span></span> <span data-ttu-id="6a20a-230">Por exemplo, você talvez queira exibir o status de logon de um usuário, ou você talvez queira mostrar ou ocultar as áreas de conteúdo com base na entrada do usuário.</span><span class="sxs-lookup"><span data-stu-id="6a20a-230">For example, you might want to display the login status of a user, or you might want to show or hide content areas based on user input.</span></span>

<span data-ttu-id="6a20a-231">Para passar dados de uma página de conteúdo para uma página de layout, você pode colocar valores no `PageData` propriedade da página de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="6a20a-231">To pass data from a content page to a layout page, you can put values into the `PageData` property of the content page.</span></span> <span data-ttu-id="6a20a-232">O `PageData` propriedade é uma coleção de pares nome/valor que contêm os dados que você deseja passar entre páginas.</span><span class="sxs-lookup"><span data-stu-id="6a20a-232">The `PageData` property is a collection of name/value pairs that hold the data that you want to pass between pages.</span></span> <span data-ttu-id="6a20a-233">Na página de layout, você pode ler valores da `PageData` propriedade.</span><span class="sxs-lookup"><span data-stu-id="6a20a-233">In the layout page, you can then read values out of the `PageData` property.</span></span>

<span data-ttu-id="6a20a-234">Aqui está outro diagrama.</span><span class="sxs-lookup"><span data-stu-id="6a20a-234">Here's another diagram.</span></span> <span data-ttu-id="6a20a-235">Este trecho mostra como o ASP.NET pode usar o `PageData` propriedade para passar valores de uma página de conteúdo para a página de layout.</span><span class="sxs-lookup"><span data-stu-id="6a20a-235">This one shows how ASP.NET can use the `PageData` property to pass values from a content page to the layout page.</span></span> <span data-ttu-id="6a20a-236">Quando o ASP.NET começa a criar a página da web, ele cria o `PageData` coleção.</span><span class="sxs-lookup"><span data-stu-id="6a20a-236">When ASP.NET begins building the web page, it creates the `PageData` collection.</span></span> <span data-ttu-id="6a20a-237">Na página de conteúdo, você escreve código para colocar dados no `PageData` coleção.</span><span class="sxs-lookup"><span data-stu-id="6a20a-237">In the content page, you write code to put data in the `PageData` collection.</span></span> <span data-ttu-id="6a20a-238">Os valores no `PageData` coleção também pode ser acessada por outras seções na página de conteúdo ou blocos de conteúdo adicionais.</span><span class="sxs-lookup"><span data-stu-id="6a20a-238">Values in the `PageData` collection can also be accessed by other sections in the content page or by additional content blocks.</span></span>

![Diagrama conceitual que mostra como uma página de conteúdo pode preencher um dicionário PageData e passar essa informação para a página de layout.](3-creating-a-consistent-look/_static/image8.jpg)

<span data-ttu-id="6a20a-240">O procedimento a seguir mostra como passar dados de uma página de conteúdo para uma página de layout.</span><span class="sxs-lookup"><span data-stu-id="6a20a-240">The following procedure shows how to pass data from a content page to a layout page.</span></span> <span data-ttu-id="6a20a-241">Quando a página é executada, ele exibe um botão que permite que o usuário ocultar ou mostrar uma lista que é definida na página de layout.</span><span class="sxs-lookup"><span data-stu-id="6a20a-241">When the page runs, it displays a button that lets the user hide or show a list that's defined in the layout page.</span></span> <span data-ttu-id="6a20a-242">Quando os usuários clicam no botão, ele define um valor de verdadeiro/falso (booleano) no `PageData` propriedade.</span><span class="sxs-lookup"><span data-stu-id="6a20a-242">When users click the button, it sets a true/false (Boolean) value in the `PageData` property.</span></span> <span data-ttu-id="6a20a-243">A página de layout lê esse valor e se for false, ocultará a lista.</span><span class="sxs-lookup"><span data-stu-id="6a20a-243">The layout page reads that value, and if it's false, hides the list.</span></span> <span data-ttu-id="6a20a-244">O valor também é usado na página de conteúdo para determinar se deve exibir o **lista ocultar** botão ou o **Mostrar lista** botão.</span><span class="sxs-lookup"><span data-stu-id="6a20a-244">The value is also used in the content page to determine whether to display the **Hide List** button or the **Show List** button.</span></span>

![[image]](3-creating-a-consistent-look/_static/image9.jpg)

1. <span data-ttu-id="6a20a-246">Na pasta raiz, crie um arquivo chamado *Content3.cshtml* e substitua todo o conteúdo existente pelo seguinte:</span><span class="sxs-lookup"><span data-stu-id="6a20a-246">In the root folder, create a file named *Content3.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample16.cshtml)]

    <span data-ttu-id="6a20a-247">O código armazena dados em duas a `PageData` propriedade &#8212; o título da página da web e true ou false para especificar se deseja exibir uma lista.</span><span class="sxs-lookup"><span data-stu-id="6a20a-247">The code stores two pieces of data in the `PageData` property &#8212; the title of the web page and true or false to specify whether to display a list.</span></span>

    <span data-ttu-id="6a20a-248">Observe que o ASP.NET permite que você coloque a marcação HTML na página condicionalmente usando um bloco de código.</span><span class="sxs-lookup"><span data-stu-id="6a20a-248">Notice that ASP.NET lets you put HTML markup into the page conditionally using a code block.</span></span> <span data-ttu-id="6a20a-249">Por exemplo, o `if/else` bloco no corpo da página determina qual formulário para exibir, dependendo se `PageData["ShowList"]` é definido como true.</span><span class="sxs-lookup"><span data-stu-id="6a20a-249">For example, the `if/else` block in the body of the page determines which form to display depending on whether `PageData["ShowList"]` is set to true.</span></span>
2. <span data-ttu-id="6a20a-250">No *Shared* pasta, crie um arquivo chamado  *\_Layout3.cshtml* e substitua todo o conteúdo existente pelo seguinte:</span><span class="sxs-lookup"><span data-stu-id="6a20a-250">In the *Shared* folder, create a file named *\_Layout3.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample17.cshtml)]

    <span data-ttu-id="6a20a-251">A página de layout inclui uma expressão na `<title>` elemento que obtém o valor de título do `PageData` propriedade.</span><span class="sxs-lookup"><span data-stu-id="6a20a-251">The layout page includes an expression in the `<title>` element that gets the title value from the `PageData` property.</span></span> <span data-ttu-id="6a20a-252">Ele também usa o `ShowList` valor da `PageData` propriedade para determinar se deve exibir o bloco de conteúdo da lista.</span><span class="sxs-lookup"><span data-stu-id="6a20a-252">It also uses the `ShowList` value of the `PageData` property to determine whether to display the list content block.</span></span>
3. <span data-ttu-id="6a20a-253">No *Shared* pasta, crie um arquivo chamado  *\_List.cshtml* e substitua todo o conteúdo existente pelo seguinte:</span><span class="sxs-lookup"><span data-stu-id="6a20a-253">In the *Shared* folder, create a file named *\_List.cshtml* and replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample18.html)]
4. <span data-ttu-id="6a20a-254">Execute o *Content3.cshtml* página em um navegador.</span><span class="sxs-lookup"><span data-stu-id="6a20a-254">Run the *Content3.cshtml* page in a browser.</span></span> <span data-ttu-id="6a20a-255">A página é exibida com a lista visível no lado esquerdo da página e um **Ocultar lista** botão na parte inferior.</span><span class="sxs-lookup"><span data-stu-id="6a20a-255">The page is displayed with the list visible on the left side of the page and a **Hide List** button at the bottom.</span></span>

    ![Captura de tela mostrando a página que inclui a lista e um botão que diz 'Ocultar lista'.](3-creating-a-consistent-look/_static/image10.jpg)
5. <span data-ttu-id="6a20a-257">Clique em **Ocultar lista**.</span><span class="sxs-lookup"><span data-stu-id="6a20a-257">Click **Hide List**.</span></span> <span data-ttu-id="6a20a-258">A lista desaparece e o botão muda para **Mostrar lista**.</span><span class="sxs-lookup"><span data-stu-id="6a20a-258">The list disappears and the button changes to **Show List**.</span></span>

    ![Captura de tela mostrando a página que não inclui a lista e um botão que diz 'Mostrar lista'.](3-creating-a-consistent-look/_static/image11.jpg)
6. <span data-ttu-id="6a20a-260">Clique o **Mostrar lista** botão e a lista é exibida novamente.</span><span class="sxs-lookup"><span data-stu-id="6a20a-260">Click the **Show List** button, and the list is displayed again.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="6a20a-261">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="6a20a-261">Additional Resources</span></span>


[<span data-ttu-id="6a20a-262">Personalizando o comportamento de todo o Site para páginas da Web do ASP.NET</span><span class="sxs-lookup"><span data-stu-id="6a20a-262">Customizing Site-Wide Behavior for ASP.NET Web Pages</span></span>](https://go.microsoft.com/fwlink/?LinkId=202906)
