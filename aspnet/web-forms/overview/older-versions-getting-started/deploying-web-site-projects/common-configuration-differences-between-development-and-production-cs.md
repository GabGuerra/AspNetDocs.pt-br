---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/common-configuration-differences-between-development-and-production-cs
title: Diferenças de configuração comuns entre desenvolvimento e produção (C#) | Microsoft Docs
author: rick-anderson
description: Nos tutoriais anteriores, implantamos o nosso site, copiando todos os arquivos pertinentes do ambiente de desenvolvimento para o ambiente de produção. No entanto, eu...
ms.author: riande
ms.date: 04/01/2009
ms.assetid: 721a5c37-7e21-48e0-832e-535c6351dcae
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/common-configuration-differences-between-development-and-production-cs
msc.type: authoredcontent
ms.openlocfilehash: 47060b45cad0e2f15a3c314d608b88c7c1d30809
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/01/2019
ms.locfileid: "57037313"
---
<a name="common-configuration-differences-between-development-and-production-c"></a><span data-ttu-id="77258-104">Diferenças de configuração comuns entre desenvolvimento e produção (C#)</span><span class="sxs-lookup"><span data-stu-id="77258-104">Common Configuration Differences Between Development and Production (C#)</span></span>
====================
<span data-ttu-id="77258-105">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="77258-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

[<span data-ttu-id="77258-106">Baixar PDF</span><span class="sxs-lookup"><span data-stu-id="77258-106">Download PDF</span></span>](http://download.microsoft.com/download/E/8/9/E8920AE6-D441-41A7-8A77-9EF8FF970D8B/aspnet_tutorial05_ConfigDifferences_cs.pdf)

> <span data-ttu-id="77258-107">Nos tutoriais anteriores, implantamos o nosso site, copiando todos os arquivos pertinentes do ambiente de desenvolvimento para o ambiente de produção.</span><span class="sxs-lookup"><span data-stu-id="77258-107">In earlier tutorials we deployed our website by copying all of the pertinent files from the development environment to the production environment.</span></span> <span data-ttu-id="77258-108">No entanto, não é incomum para haver diferenças de configuração entre ambientes, o que exige que cada ambiente tem um arquivo Web. config exclusivo.</span><span class="sxs-lookup"><span data-stu-id="77258-108">However, it is not uncommon for there to be configuration differences between environments, which necessitates that each environment have a unique Web.config file.</span></span> <span data-ttu-id="77258-109">Este tutorial examina as diferenças de configuração típico e examina estratégias para manter informações de configuração separado.</span><span class="sxs-lookup"><span data-stu-id="77258-109">This tutorial examines typical configuration differences and looks at strategies for maintaining separate configuration information.</span></span>


## <a name="introduction"></a><span data-ttu-id="77258-110">Introdução</span><span class="sxs-lookup"><span data-stu-id="77258-110">Introduction</span></span>


<span data-ttu-id="77258-111">Os dois últimos tutoriais percorreu Implantando um aplicativo web simples.</span><span class="sxs-lookup"><span data-stu-id="77258-111">The last two tutorials walked through deploying a simple web application.</span></span> <span data-ttu-id="77258-112">O [ *Implantando o Site usando um cliente FTP* ](deploying-your-site-using-an-ftp-client-cs.md) tutorial mostrou como usar um cliente autônomo do FTP para copiar os arquivos necessários do ambiente de desenvolvimento até a produção.</span><span class="sxs-lookup"><span data-stu-id="77258-112">The [*Deploying Your Site Using an FTP Client*](deploying-your-site-using-an-ftp-client-cs.md) tutorial showed how to use a stand-alone FTP client to copy the necessary files from the development environment up to production.</span></span> <span data-ttu-id="77258-113">O tutorial anterior, [ *Implantando seu Site usando o Visual Studio*](deploying-your-site-using-visual-studio-cs.md), analisou a implantação usando a ferramenta Copy Web Site e a opção de publicação do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="77258-113">The preceding tutorial, [*Deploying Your Site Using Visual Studio*](deploying-your-site-using-visual-studio-cs.md), looked at deployment using Visual Studio's Copy Web Site tool and Publish option.</span></span> <span data-ttu-id="77258-114">Em ambos os tutoriais de todos os arquivos no ambiente de produção foram uma cópia de um arquivo no ambiente de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="77258-114">In both tutorials every file in the production environment was a copy of a file on the development environment.</span></span> <span data-ttu-id="77258-115">No entanto, não é incomum para arquivos de configuração no ambiente de produção para ser diferentes no ambiente de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="77258-115">However, it is not uncommon for configuration files in the production environment to differ from those in the development environment.</span></span> <span data-ttu-id="77258-116">Configuração de um aplicativo web é armazenada no `Web.config` de arquivo e geralmente inclui informações sobre os recursos externos, como o banco de dados, web e servidores de email.</span><span class="sxs-lookup"><span data-stu-id="77258-116">A web application's configuration is stored in the `Web.config` file and typically includes information about external resources, such as database, web, and email servers.</span></span> <span data-ttu-id="77258-117">Ele também indica o comportamento do aplicativo em determinadas situações, como o curso de ação a ser executada quando ocorre uma exceção sem tratamento.</span><span class="sxs-lookup"><span data-stu-id="77258-117">It also spells out the behavior of the application in certain situations, such as the course of action to take when an unhandled exception occurs.</span></span>

<span data-ttu-id="77258-118">Ao implantar um aplicativo web é importante que as informações de configuração correto acabar no ambiente de produção.</span><span class="sxs-lookup"><span data-stu-id="77258-118">When deploying a web application it is important that the correct configuration information end up in the production environment.</span></span> <span data-ttu-id="77258-119">Na maioria dos casos o `Web.config` arquivo no ambiente de desenvolvimento não pode ser copiado para o ambiente de produção como-está.</span><span class="sxs-lookup"><span data-stu-id="77258-119">In most cases the `Web.config` file in the development environment cannot be copied to the production environment as-is.</span></span> <span data-ttu-id="77258-120">Em vez disso, uma versão personalizada do `Web.config` precisa ser carregado para a produção.</span><span class="sxs-lookup"><span data-stu-id="77258-120">Instead, a customized version of `Web.config` needs to be uploaded to production.</span></span> <span data-ttu-id="77258-121">Este tutorial analisa brevemente algumas das diferenças mais comuns de configuração; Ele também resume algumas técnicas para manter informações de configuração diferentes entre os ambientes.</span><span class="sxs-lookup"><span data-stu-id="77258-121">This tutorial briefly reviews some of the more common configuration differences; it also summarizes some techniques for maintaining different configuration information between the environments.</span></span>

## <a name="typical-configuration-differences-between-the-development-and-production-environments"></a><span data-ttu-id="77258-122">Configuração típica de diferenças entre os ambientes de desenvolvimento e produção</span><span class="sxs-lookup"><span data-stu-id="77258-122">Typical Configuration Differences Between the Development and Production Environments</span></span>

<span data-ttu-id="77258-123">O `Web.config` arquivo contém uma variedade de informações de configuração para um aplicativo ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="77258-123">The `Web.config` file includes an assortment of configuration information for an ASP.NET application.</span></span> <span data-ttu-id="77258-124">Algumas dessas informações de configuração é o mesmo, independentemente do ambiente.</span><span class="sxs-lookup"><span data-stu-id="77258-124">Some of this configuration information is the same regardless of the environment.</span></span> <span data-ttu-id="77258-125">Por exemplo, as configurações de autenticação e as regras de autorização de URL indicados claramente na `Web.config` do arquivo `<authentication>` e `<authorization>` elementos geralmente são os mesmos, independentemente do ambiente.</span><span class="sxs-lookup"><span data-stu-id="77258-125">For instance, the authentication settings and URL authorization rules spelled out in the `Web.config` file's `<authentication>` and `<authorization>` elements are usually the same regardless of the environment.</span></span> <span data-ttu-id="77258-126">Mas outras informações de configuração - tais como informações sobre os recursos externos - normalmente varia dependendo do ambiente.</span><span class="sxs-lookup"><span data-stu-id="77258-126">But other configuration information - such as information about external resources - typically differs depending on the environment.</span></span>

<span data-ttu-id="77258-127">Cadeias de conexão de banco de dados são um excelente exemplo de informações de configuração que é diferente com base no ambiente.</span><span class="sxs-lookup"><span data-stu-id="77258-127">Database connections strings are a prime example of configuration information that differs based on the environment.</span></span> <span data-ttu-id="77258-128">Quando um aplicativo web se comunica com um servidor de banco de dados pela primeira vez, ele deve estabelecer uma conexão, e isso é conseguido por meio de um [cadeia de caracteres de conexão](http://www.connectionstrings.com/Articles/Show/what-is-a-connection-string).</span><span class="sxs-lookup"><span data-stu-id="77258-128">When a web application communicates with a database server it must first establish a connection, and that is achieved through a [connection string](http://www.connectionstrings.com/Articles/Show/what-is-a-connection-string).</span></span> <span data-ttu-id="77258-129">Embora seja possível codificar a cadeia de caracteres de conexão de banco de dados diretamente em páginas da web ou o código que se conecta ao banco de dados, é melhor colocá-lo `Web.config`do [ `<connectionStrings>` elemento](https://msdn.microsoft.com/library/bf7sd233.aspx) , de modo que a cadeia de caracteres de conexão informações estão em um único local centralizado.</span><span class="sxs-lookup"><span data-stu-id="77258-129">While it is possible to hard-code the database connection string directly in the web pages or the code that connects to the database, it is best to place it `Web.config`'s [`<connectionStrings>` element](https://msdn.microsoft.com/library/bf7sd233.aspx) so that the connection string information is in a single, centralized location.</span></span> <span data-ttu-id="77258-130">Muitas vezes, outro banco de dados é usado durante o desenvolvimento, que é usado em produção. Consequentemente, as informações de cadeia de caracteres de conexão devem ser exclusivas para cada ambiente.</span><span class="sxs-lookup"><span data-stu-id="77258-130">Oftentimes a different database is used during development than is used in production; consequently, the connection string information must be unique for each environment.</span></span>

> [!NOTE]
> <span data-ttu-id="77258-131">Tutoriais futuros exploram a implantação de aplicativos controlados por dados, no ponto em que vamos nos aprofundar nas especificações de como cadeias de conexão de banco de dados são armazenadas no arquivo de configuração.</span><span class="sxs-lookup"><span data-stu-id="77258-131">Future tutorials explore deploying data-driven applications, at which point we'll dive into the specifics of how database connection strings are stored in the configuration file.</span></span>


<span data-ttu-id="77258-132">O comportamento desejado dos ambientes de desenvolvimento e produção difere substancialmente.</span><span class="sxs-lookup"><span data-stu-id="77258-132">The intended behavior of the development and production environments differs substantially.</span></span> <span data-ttu-id="77258-133">Um aplicativo web no ambiente de desenvolvimento está sendo criado, testado e depurado por um pequeno grupo de desenvolvedores.</span><span class="sxs-lookup"><span data-stu-id="77258-133">A web application in the development environment is being created, tested, and debugged by a small group of developers.</span></span> <span data-ttu-id="77258-134">No ambiente de produção que o mesmo aplicativo está sendo visitado por muitos usuários simultâneos diferentes.</span><span class="sxs-lookup"><span data-stu-id="77258-134">In the production environment that same application is being visited by many different simultaneous users.</span></span> <span data-ttu-id="77258-135">O ASP.NET inclui uma série de recursos que ajudam os desenvolvedores em testes e depuração de um aplicativo, mas esses recursos devem ser desabilitados por motivos de segurança quando no ambiente de produção e de desempenho.</span><span class="sxs-lookup"><span data-stu-id="77258-135">ASP.NET includes a number of features that help developers in testing and debugging an application, but these features should be disabled for performance and security reasons when in the production environment.</span></span> <span data-ttu-id="77258-136">Vamos examinar alguns essas definições de configuração.</span><span class="sxs-lookup"><span data-stu-id="77258-136">Let's look at a few such configuration settings.</span></span>

### <a name="configuration-settings-that-impact-performance"></a><span data-ttu-id="77258-137">Definições de configuração que afetam o desempenho</span><span class="sxs-lookup"><span data-stu-id="77258-137">Configuration Settings That Impact Performance</span></span>

<span data-ttu-id="77258-138">Quando uma página ASP.NET é visitada para na primeira vez (ou na primeira vez após ele ter sido alterado), sua marcação declarativa deve ser convertida em uma classe e essa classe deve ser compilada.</span><span class="sxs-lookup"><span data-stu-id="77258-138">When an ASP.NET page is visited for the first time (or the first time after it has changed), its declarative markup must be converted into a class and this class must be compiled.</span></span> <span data-ttu-id="77258-139">Se o aplicativo web usa compilação automática classe de code-behind da página precisa ser compilado, muito.</span><span class="sxs-lookup"><span data-stu-id="77258-139">If the web application uses automatic compilation then the page's code-behind class needs to be compiled, too.</span></span> <span data-ttu-id="77258-140">Você pode configurar uma variedade de opções de compilação por meio de `Web.config` do arquivo [ `<compilation>` elemento](https://msdn.microsoft.com/library/s10awwz0.aspx).</span><span class="sxs-lookup"><span data-stu-id="77258-140">You can configure an assortment of compilation options via the `Web.config` file's [`<compilation>` element](https://msdn.microsoft.com/library/s10awwz0.aspx).</span></span>

<span data-ttu-id="77258-141">O atributo é um dos atributos mais importantes no `<compilation>` elemento.</span><span class="sxs-lookup"><span data-stu-id="77258-141">The debug attribute is one of the most important attributes in the `<compilation>` element.</span></span> <span data-ttu-id="77258-142">Se o `debug` atributo é definido como "true", em seguida, os assemblies compilados incluem símbolos de depuração, que são necessários ao depurar um aplicativo no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="77258-142">If the `debug` attribute is set to "true" then the compiled assemblies include debug symbols, which are needed when debugging an application in Visual Studio.</span></span> <span data-ttu-id="77258-143">Mas aumentam o tamanho do conjunto de símbolos de depuração e impõem requisitos de memória adicional ao executar o código.</span><span class="sxs-lookup"><span data-stu-id="77258-143">But debug symbols increase the size of the assembly and impose additional memory requirements when running the code.</span></span> <span data-ttu-id="77258-144">Além disso, quando o `debug` atributo é definido como "true" qualquer conteúdo retornado por `WebResource.axd` não está em cache, que significa que cada vez que um usuário visita uma página que eles precisarão baixar novamente o conteúdo estático retornado por `WebResource.axd`.</span><span class="sxs-lookup"><span data-stu-id="77258-144">Furthermore, when the `debug` attribute is set to "true" any content returned by `WebResource.axd` is not cached, meaning that each time a user visits a page they will need to re-download the static content returned by `WebResource.axd`.</span></span>

> [!NOTE]
> <span data-ttu-id="77258-145">`WebResource.axd` é um manipulador HTTP interno introduzido no ASP.NET 2.0 que controles de servidor usam para recuperar recursos inseridos, como arquivos de script, imagens, arquivos CSS e outros tipos de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="77258-145">`WebResource.axd` is a built-in HTTP Handler introduced in ASP.NET 2.0 that server controls use to retrieve embedded resources, such as script files, images, CSS files, and other content.</span></span> <span data-ttu-id="77258-146">Para obter mais informações sobre como `WebResource.axd` funciona e como você pode usá-lo para acessar os recursos inseridos em seus controles de servidor personalizado, consulte [acessando Embedded recursos por meio de uma URL usando `WebResource.axd` ](http://aspnet.4guysfromrolla.com/articles/080906-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="77258-146">For more information on how `WebResource.axd` works and how you can use it to access embedded resources from your custom server controls, see [Accessing Embedded Resources Through a URL Using `WebResource.axd`](http://aspnet.4guysfromrolla.com/articles/080906-1.aspx).</span></span>


<span data-ttu-id="77258-147">O `<compilation>` do elemento `debug` atributo geralmente é definido como "true" no ambiente de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="77258-147">The `<compilation>` element's `debug` attribute is usually set to "true" in the development environment.</span></span> <span data-ttu-id="77258-148">Na verdade, esse atributo deve ser definido como "true" para depurar um aplicativo web; Se você tentar depurar um aplicativo ASP.NET do Visual Studio e o `debug` atributo é definido como "false", o Visual Studio exibirá uma mensagem explicando que o aplicativo não pode ser depurado até que o `debug` atributo é definido como "true" e serão a oferta para fazer essa alteração para você.</span><span class="sxs-lookup"><span data-stu-id="77258-148">In fact, this attribute must be set to "true" in order to debug a web application; if you try to debug an ASP.NET application from Visual Studio and the `debug` attribute is set to "false", Visual Studio will display a message explaining that the application cannot be debugged until the `debug` attribute is set to "true" and will offer to make this change for you.</span></span>

<span data-ttu-id="77258-149">Você deve **nunca** têm o `debug` atributo definido como "true" em um ambiente de produção devido ao seu impacto no desempenho.</span><span class="sxs-lookup"><span data-stu-id="77258-149">You should **never** have the `debug` attribute set to "true" in a production environment because of its impact on performance.</span></span> <span data-ttu-id="77258-150">Para obter uma discussão mais completa sobre esse tópico, consulte [Scott Guthrie](https://weblogs.asp.net/scottgu/)da postagem de blog [não executar produção ASP.NET aplicativos com `debug="true"` habilitado](https://weblogs.asp.net/scottgu/442448).</span><span class="sxs-lookup"><span data-stu-id="77258-150">For a more thorough discussion on this topic, refer to [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s blog post, [Don't Run Production ASP.NET Applications With `debug="true"` Enabled](https://weblogs.asp.net/scottgu/442448).</span></span>

### <a name="custom-errors-and-tracing"></a><span data-ttu-id="77258-151">Rastreamento e erros personalizados</span><span class="sxs-lookup"><span data-stu-id="77258-151">Custom Errors and Tracing</span></span>

<span data-ttu-id="77258-152">Quando uma exceção não tratada ocorre em um aplicativo ASP.NET são exibidos até o tempo de execução no ponto em que uma das três coisas que acontece:</span><span class="sxs-lookup"><span data-stu-id="77258-152">When an unhandled exception occurs in an ASP.NET application it bubbles up to the runtime at which point one of three things happens:</span></span>

- <span data-ttu-id="77258-153">Será exibida uma mensagem de erro de tempo de execução genérico.</span><span class="sxs-lookup"><span data-stu-id="77258-153">A generic runtime error message is displayed.</span></span> <span data-ttu-id="77258-154">Esta página informa ao usuário que há um erro de tempo de execução, mas não fornece todos os detalhes sobre o erro.</span><span class="sxs-lookup"><span data-stu-id="77258-154">This page informs the user that there was a runtime error, but does not provide any details about the error.</span></span>
- <span data-ttu-id="77258-155">É exibida uma mensagem de detalhes da exceção, que inclui informações sobre a exceção que foi gerada apenas.</span><span class="sxs-lookup"><span data-stu-id="77258-155">An exception details message is displayed, which includes information on the exception that was just thrown.</span></span>
- <span data-ttu-id="77258-156">Uma página de erro personalizada é exibida, que é uma página ASP.NET que você criar que exiba qualquer mensagem que você deseja.</span><span class="sxs-lookup"><span data-stu-id="77258-156">A custom error page is displayed, which is an ASP.NET page that you create that displays any message you desire.</span></span>

<span data-ttu-id="77258-157">O que acontece em caso de uma exceção sem tratamento depende de `Web.config` do arquivo [ `<customErrors>` seção](https://msdn.microsoft.com/library/h0hfz6fc.aspx).</span><span class="sxs-lookup"><span data-stu-id="77258-157">What happens in the face of an unhandled exception depends on the `Web.config` file's [`<customErrors>` section](https://msdn.microsoft.com/library/h0hfz6fc.aspx).</span></span>

<span data-ttu-id="77258-158">Ao desenvolver e testar um aplicativo que ajuda a ver os detalhes de qualquer exceção no navegador.</span><span class="sxs-lookup"><span data-stu-id="77258-158">When developing and testing an application it helps to see details of any exception in the browser.</span></span> <span data-ttu-id="77258-159">No entanto, mostrar detalhes da exceção em um aplicativo em produção é um risco de segurança.</span><span class="sxs-lookup"><span data-stu-id="77258-159">However, showing exception details in an application on production is a potential security risk.</span></span> <span data-ttu-id="77258-160">Além disso, ele é unflattering e faz com que o seu site com aparência profissional.</span><span class="sxs-lookup"><span data-stu-id="77258-160">Moreover, it's unflattering and makes your website look unprofessional.</span></span> <span data-ttu-id="77258-161">O ideal é que, no caso de uma exceção sem tratamento um aplicativo web no ambiente de desenvolvimento mostrará os detalhes da exceção enquanto o mesmo aplicativo em produção mostrará uma página de erro personalizada.</span><span class="sxs-lookup"><span data-stu-id="77258-161">Ideally, in the event of an unhandled exception a web application in the development environment will show the exception's details while the same application in production will show a custom error page.</span></span>

> [!NOTE]
> <span data-ttu-id="77258-162">O padrão `<customErrors>` configuração da seção mostra os detalhes da exceção de mensagem somente quando a página está sendo visitada por meio de localhost e mostra a página de erro de tempo de execução genérico caso contrário.</span><span class="sxs-lookup"><span data-stu-id="77258-162">The default `<customErrors>` section setting shows the exception details message only when the page is being visited through localhost, and shows the generic runtime error page otherwise.</span></span> <span data-ttu-id="77258-163">Isso não é ideal, mas ele está garantindo para saber em que o comportamento padrão não revela detalhes da exceção para visitantes de não-local.</span><span class="sxs-lookup"><span data-stu-id="77258-163">This isn't ideal, but it's assuring to know that the default behavior doesn't reveal exception details to non-local visitors.</span></span> <span data-ttu-id="77258-164">Um tutorial futuro examina o `<customErrors>` seção mais detalhadamente e mostra como fazer com que uma página de erro personalizada mostrada quando ocorre um erro em produção.</span><span class="sxs-lookup"><span data-stu-id="77258-164">A future tutorial examines the `<customErrors>` section in more detail and shows how to have a custom error page shown when an error occurs in production.</span></span>


<span data-ttu-id="77258-165">Rastreamento de outro recurso do ASP.NET que é útil durante o desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="77258-165">Another ASP.NET feature that is useful during development is tracing.</span></span> <span data-ttu-id="77258-166">Rastreamento, se habilitada, registra as informações sobre cada solicitação de entrada e fornece uma página da web especial, `Trace.axd`, para exibir os detalhes da solicitação recente.</span><span class="sxs-lookup"><span data-stu-id="77258-166">Tracing, if enabled, records information about each incoming request and provides a special web page, `Trace.axd`, for viewing recent request details.</span></span> <span data-ttu-id="77258-167">Você pode ativar e configurar o rastreamento por meio de [ `<trace>` elemento](https://msdn.microsoft.com/library/6915t83k.aspx) em `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="77258-167">You can turn on and configure tracing via the [`<trace>` element](https://msdn.microsoft.com/library/6915t83k.aspx) in `Web.config`.</span></span>

<span data-ttu-id="77258-168">Se você habilitar o rastreamento Certifique-se de que ele está desabilitado na produção.</span><span class="sxs-lookup"><span data-stu-id="77258-168">If you enable tracing make sure that it is disabled in production.</span></span> <span data-ttu-id="77258-169">Como as informações de rastreamento incluem cookies, dados de sessão e outras informações potencialmente confidenciais, é importante desabilitar o rastreamento em produção.</span><span class="sxs-lookup"><span data-stu-id="77258-169">Because the trace information includes cookies, session data, and other potentially sensitive information, it is important to disable tracing in production.</span></span> <span data-ttu-id="77258-170">A boa notícia é que, por padrão, o rastreamento está desabilitado e o `Trace.axd` arquivo só é acessível por meio de localhost.</span><span class="sxs-lookup"><span data-stu-id="77258-170">The good news is that, by default, tracing is disabled and the `Trace.axd` file is only accessible through localhost.</span></span> <span data-ttu-id="77258-171">Se você alterar essas configurações padrão em desenvolvimento, certifique-se de que eles estão desativados volta em produção.</span><span class="sxs-lookup"><span data-stu-id="77258-171">If you change these default settings in development make sure that they are turned back off in production.</span></span>

## <a name="techniques-for-maintaining-separate-configuration-information"></a><span data-ttu-id="77258-172">Técnicas para manter informações de configuração separado</span><span class="sxs-lookup"><span data-stu-id="77258-172">Techniques for Maintaining Separate Configuration Information</span></span>

<span data-ttu-id="77258-173">Ter diferentes definições de configuração em ambientes de desenvolvimento e produção complica o processo de implantação.</span><span class="sxs-lookup"><span data-stu-id="77258-173">Having different configuration settings in the development and production environments complicates the deployment process.</span></span> <span data-ttu-id="77258-174">Nos tutoriais anteriores dois o processo de implantação envolvidos copiando todos os arquivos necessários do desenvolvimento à produção, mas essa abordagem funciona apenas se as informações de configuração são o mesmo em ambos os ambientes.</span><span class="sxs-lookup"><span data-stu-id="77258-174">In the previous two tutorials the deployment process involved copying all of the necessary files from development to production, but that approach only works if the configuration information is the same in both environments.</span></span> <span data-ttu-id="77258-175">Há uma variedade de técnicas para implantar um aplicativo com informações de configuração diferentes.</span><span class="sxs-lookup"><span data-stu-id="77258-175">There are a variety of techniques for deploying an application with varying configuration information.</span></span> <span data-ttu-id="77258-176">Vamos catálogo algumas dessas opções para aplicativos web hospedados.</span><span class="sxs-lookup"><span data-stu-id="77258-176">Let's catalog some of these options for hosted web applications.</span></span>

### <a name="manually-deploying-the-production-environment-configuration-file"></a><span data-ttu-id="77258-177">Implantar manualmente o arquivo de configuração do ambiente de produção</span><span class="sxs-lookup"><span data-stu-id="77258-177">Manually Deploying the Production Environment Configuration File</span></span>

<span data-ttu-id="77258-178">A abordagem mais simples é manter duas versões do `Web.config` arquivo: uma para o ambiente de desenvolvimento e outra para o ambiente de produção.</span><span class="sxs-lookup"><span data-stu-id="77258-178">The simplest approach is to maintain two versions of the `Web.config` file: one for the development environment and one for the production environment.</span></span> <span data-ttu-id="77258-179">Implantar um site para a produção envolve copiar todos os arquivos para o servidor de produção no ambiente de desenvolvimento *exceto* para o `Web.config` arquivo.</span><span class="sxs-lookup"><span data-stu-id="77258-179">Deploying a site to production entails copying all of the files to the production server in the development environment *except* for the `Web.config` file.</span></span> <span data-ttu-id="77258-180">Em vez disso, o ambiente de produção específico `Web.config` arquivo seria copiado para a produção.</span><span class="sxs-lookup"><span data-stu-id="77258-180">Instead, the production environment-specific `Web.config` file would be copied to production.</span></span>

<span data-ttu-id="77258-181">Essa abordagem não é muito sofisticada, mas é fácil de implementar, porque as informações de configuração mudam com pouca frequência.</span><span class="sxs-lookup"><span data-stu-id="77258-181">This approach is not very sophisticated, but it is easy to implement because configuration information changes infrequently.</span></span> <span data-ttu-id="77258-182">Ele funciona melhor para aplicativos com uma pequena equipe de desenvolvimento que são hospedados em um único servidor web e cujas informações de configuração são alteradas com pouca frequência.</span><span class="sxs-lookup"><span data-stu-id="77258-182">It works best for applications with a small development team that are hosted on a single web server and whose configuration information is infrequently changed.</span></span> <span data-ttu-id="77258-183">É mais tenable ao implantar manualmente os arquivos do aplicativo usando um cliente FTP autônomo.</span><span class="sxs-lookup"><span data-stu-id="77258-183">It's most tenable when manually deploying the application files using a stand-alone FTP client.</span></span> <span data-ttu-id="77258-184">Ao usar a ferramenta Copy Web Site ou a opção de publicação do Visual Studio você precisará primeiro trocar de implantação específicos `Web.config` de arquivos com aquele específicos de produção antes de implantar e, em seguida, trocá-los novamente após a conclusão da implantação.</span><span class="sxs-lookup"><span data-stu-id="77258-184">When using Visual Studio's Copy Web Site tool or Publish option you'll need to first swap out the deployment-specific `Web.config` file with the production-specific one before deploying, and then swap them back after deployment completes.</span></span>

### <a name="change-the-configuration-during-the-build-or-deployment-process"></a><span data-ttu-id="77258-185">Alterar a configuração durante a compilação ou o processo de implantação</span><span class="sxs-lookup"><span data-stu-id="77258-185">Change the Configuration During the Build or Deployment Process</span></span>

<span data-ttu-id="77258-186">As discussões até agora tem presume-se um processo de compilação e implantação do ad-hoc.</span><span class="sxs-lookup"><span data-stu-id="77258-186">The discussions thus far have assumed an ad-hoc build and deployment process.</span></span> <span data-ttu-id="77258-187">Muitos projetos de software maiores formalizou mais processos que tornam o uso do código-fonte aberto, personalizados, ou ferramentas de terceiros.</span><span class="sxs-lookup"><span data-stu-id="77258-187">Many larger software projects have more formalized processes that make use of open-source, home-grown, or third-party tools.</span></span> <span data-ttu-id="77258-188">Para esses projetos, você provavelmente pode personalizar o processo de compilação ou implantação para modificar adequadamente as informações de configuração antes de ser enviada para a produção.</span><span class="sxs-lookup"><span data-stu-id="77258-188">For such projects you can likely customize the build or deployment process to appropriately modify the configuration information before it is pushed to production.</span></span> <span data-ttu-id="77258-189">Se você compilar seu aplicativo web usando [MSBuild](http://en.wikipedia.org/wiki/MSBuild), [NAnt](http://nant.sourceforge.net/), ou alguma outra ferramenta de compilação, provavelmente você pode adicionar uma etapa de compilação para modificar o `Web.config` arquivo para incluir as configurações específicas de produção.</span><span class="sxs-lookup"><span data-stu-id="77258-189">If you build your web application using [MSBuild](http://en.wikipedia.org/wiki/MSBuild), [NAnt](http://nant.sourceforge.net/), or some other build tool, you can likely add a build step to modify the `Web.config` file to include the production-specific settings.</span></span> <span data-ttu-id="77258-190">Ou seu fluxo de trabalho de implantação por meio de programação pode se conectar ao servidor de controle de origem e recuperar apropriado `Web.config` arquivo.</span><span class="sxs-lookup"><span data-stu-id="77258-190">Or your deployment workflow could programmatically connect to the source control server and retrieve the appropriate `Web.config` file.</span></span>

<span data-ttu-id="77258-191">A abordagem real para obter as informações de configuração apropriado para a produção varia amplamente com base em suas ferramentas e fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="77258-191">The actual approach for getting the appropriate configuration information to production varies widely based on your tools and workflow.</span></span> <span data-ttu-id="77258-192">Dessa forma, podemos não irá aprofundar nesse tópico ainda mais.</span><span class="sxs-lookup"><span data-stu-id="77258-192">As such, we will not delve into this topic further.</span></span> <span data-ttu-id="77258-193">Se você estiver usando uma ferramenta de compilação populares, como o MSBuild ou NAnt você encontrará tutoriais e artigos sobre implantação específicas para essas ferramentas por meio de uma pesquisa na web.</span><span class="sxs-lookup"><span data-stu-id="77258-193">If you are using a popular build tool like MSBuild or NAnt you can find deployment articles and tutorials specific to these tools through a web search.</span></span>

### <a name="managing-configuration-differences-via-the-web-deployment-project-add-in"></a><span data-ttu-id="77258-194">Diferenças de configuração de gerenciamento por meio de implantação da Web de projeto suplementar</span><span class="sxs-lookup"><span data-stu-id="77258-194">Managing Configuration Differences via the Web Deployment Project Add-In</span></span>

<span data-ttu-id="77258-195">Em 2006 Microsoft lançou o Add-In de projeto de desenvolvimento de Web do Visual Studio 2005.</span><span class="sxs-lookup"><span data-stu-id="77258-195">In 2006 Microsoft released the Web Development Project Add-In for Visual Studio 2005.</span></span> <span data-ttu-id="77258-196">Um suplemento do Visual Studio 2008 foi lançado em 2008.</span><span class="sxs-lookup"><span data-stu-id="77258-196">An Add-In for Visual Studio 2008 was released in 2008.</span></span> <span data-ttu-id="77258-197">Esse suplemento permite que os desenvolvedores do ASP.NET criar um projeto de implantação da Web separada junto com seu projeto de aplicativo web que, quando criado, explicitamente compila o aplicativo web e copia os arquivos para implantar em um diretório de saída local.</span><span class="sxs-lookup"><span data-stu-id="77258-197">This Add-In allows for ASP.NET developers to create a separate Web Deployment Project alongside their web application project that, when built, explicitly compiles the web application and copies the files to deploy to a local output directory.</span></span> <span data-ttu-id="77258-198">O projeto de aplicativo Web usa o MSBuild em segundo plano.</span><span class="sxs-lookup"><span data-stu-id="77258-198">The Web Application Project uses MSBuild behind the scenes.</span></span>

<span data-ttu-id="77258-199">Por padrão, o ambiente de desenvolvimento `Web.config` arquivo é copiado para o diretório de saída, mas você pode configurar o projeto de implantação da Web para personalizar o</span><span class="sxs-lookup"><span data-stu-id="77258-199">By default, the development environment's `Web.config` file is copied to the output directory, but you can setup the Web Deployment Project to customize the</span></span>

<span data-ttu-id="77258-200">informações de configuração que são copiadas para esse diretório das seguintes maneiras:</span><span class="sxs-lookup"><span data-stu-id="77258-200">configuration information that gets copied to this directory in the following ways:</span></span>

- <span data-ttu-id="77258-201">Por meio de `Web.config` de substituição de seção, em que você especifique a seção para substituir e um arquivo XML que contém o texto de substituição de arquivo.</span><span class="sxs-lookup"><span data-stu-id="77258-201">Via `Web.config` file section replacement, in which you specify the section to replace and an XML file that contains the replacement text.</span></span>
- <span data-ttu-id="77258-202">Fornecendo um caminho para um arquivo de origem de configuração externo.</span><span class="sxs-lookup"><span data-stu-id="77258-202">By providing a path to an external configuration source file.</span></span> <span data-ttu-id="77258-203">Com essa opção selecionada, o projeto de implantação da Web copia um determinado `Web.config` arquivo para o diretório de saída (em vez de `Web.config` arquivo usado no ambiente de desenvolvimento).</span><span class="sxs-lookup"><span data-stu-id="77258-203">With this option selected, the Web Deployment Project copies a particular `Web.config` file to the output directory (rather than the `Web.config` file used in the development environment).</span></span>
- <span data-ttu-id="77258-204">Adicionando regras personalizadas para o arquivo do MSBuild usado pelo projeto de implantação da Web.</span><span class="sxs-lookup"><span data-stu-id="77258-204">By adding custom rules to the MSBuild file used by the Web Deployment Project.</span></span>

<span data-ttu-id="77258-205">Para implantar a compilação do aplicativo web do projeto de implantação da Web e, em seguida, copie os arquivos da pasta de saída do projeto para o ambiente de produção.</span><span class="sxs-lookup"><span data-stu-id="77258-205">To deploy the web application build the Web Deployment Project and then copy the files from the project's output folder to the production environment.</span></span>

<span data-ttu-id="77258-206">Para saber mais sobre como usar o projeto de implantação da Web, confira [deste artigo Web Deployment Projects](https://msdn.microsoft.com/magazine/cc163448.aspx) da edição de abril de 2007 da [MSDN Magazine](https://msdn.microsoft.com/magazine/default.aspx), ou consulte os links na seção leitura adicional no fim deste tutorial.</span><span class="sxs-lookup"><span data-stu-id="77258-206">To learn more about using the Web Deployment Project check out [this Web Deployment Projects article](https://msdn.microsoft.com/magazine/cc163448.aspx) from the April 2007 issue of [MSDN Magazine](https://msdn.microsoft.com/magazine/default.aspx), or consult the links in the Further Reading section at the end of this tutorial.</span></span>

> [!NOTE]
> <span data-ttu-id="77258-207">Você não pode usar o projeto de implantação da Web com o Visual Web Developer, porque o projeto de implantação da Web é implementado como um Visual Studio Add-In e o Visual Studio Express Editions (incluindo o Visual Web Developer) não dão suporte a suplementos.</span><span class="sxs-lookup"><span data-stu-id="77258-207">You cannot use the Web Deployment Project with Visual Web Developer because the Web Deployment Project is implemented as a Visual Studio Add-In and the Visual Studio Express Editions (including Visual Web Developer) do not support Add-Ins.</span></span>


## <a name="summary"></a><span data-ttu-id="77258-208">Resumo</span><span class="sxs-lookup"><span data-stu-id="77258-208">Summary</span></span>

<span data-ttu-id="77258-209">O comportamento de um aplicativo web em desenvolvimento e recursos externos são normalmente é diferentes de quando o mesmo aplicativo está em produção.</span><span class="sxs-lookup"><span data-stu-id="77258-209">The external resources and behavior of a web application in development are typically different than when the same application is in production.</span></span> <span data-ttu-id="77258-210">Por exemplo, cadeias de conexão de banco de dados, opções de compilação e o comportamento quando uma exceção sem tratamento ocorre normalmente são diferentes entre ambientes.</span><span class="sxs-lookup"><span data-stu-id="77258-210">For instance, database connection strings, compilation options, and the behavior when an unhandled exception occurs commonly differ between environments.</span></span> <span data-ttu-id="77258-211">O processo de implantação deve acomodar essas diferenças.</span><span class="sxs-lookup"><span data-stu-id="77258-211">The deployment process must accommodate these differences.</span></span> <span data-ttu-id="77258-212">Conforme discutimos neste tutorial, a abordagem mais simples é copiar manualmente um arquivo de configuração alternativa para o ambiente de produção.</span><span class="sxs-lookup"><span data-stu-id="77258-212">As we discussed in this tutorial, the simplest approach is to manually copy an alternate configuration file to the production environment.</span></span> <span data-ttu-id="77258-213">Soluções mais apuradas são possíveis ao usar o suplemento da Web Deployment Project ou com um processo de compilação ou implantação mais formal que pode acomodar tais personalizações.</span><span class="sxs-lookup"><span data-stu-id="77258-213">More elegant solutions are possible when using the Web Deployment Project Add-In or with a more formalized build or deployment process that can accommodate such customizations.</span></span>

<span data-ttu-id="77258-214">Boa programação!</span><span class="sxs-lookup"><span data-stu-id="77258-214">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="77258-215">Leitura adicional</span><span class="sxs-lookup"><span data-stu-id="77258-215">Further Reading</span></span>

<span data-ttu-id="77258-216">Para obter mais informações sobre os tópicos abordados neste tutorial, consulte os seguintes recursos:</span><span class="sxs-lookup"><span data-stu-id="77258-216">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="77258-217">Cadeias de caracteres de Conexão explicadas</span><span class="sxs-lookup"><span data-stu-id="77258-217">Connection Strings Explained</span></span>](http://www.connectionstrings.com/Articles/Show/what-is-a-connection-string)
- [<span data-ttu-id="77258-218">ConnectionStrings.com @ cadeias de caracteres de Conexão de banco de dados</span><span class="sxs-lookup"><span data-stu-id="77258-218">Database Connection Strings @ ConnectionStrings.com</span></span>](http://www.connectionstrings.com/)
- [<span data-ttu-id="77258-219">Não execute aplicativos do ASP.NET de produção com `debug="true"` habilitado</span><span class="sxs-lookup"><span data-stu-id="77258-219">Don't Run Production ASP.NET Applications with `debug="true"` Enabled</span></span>](https://weblogs.asp.net/scottgu/Don_1920_t-run-production-ASP.NET-Applications-with-debug_3D001D20_true_1D20_-enabled)
- [<span data-ttu-id="77258-220">Normalmente, responder a exceções sem tratamento - exibir páginas de erro amigável</span><span class="sxs-lookup"><span data-stu-id="77258-220">Gracefully Responding to Unhandled Exceptions - Displaying User-Friendly Error Pages</span></span>](http://aspnet.4guysfromrolla.com/articles/090606-1.aspx)
- [<span data-ttu-id="77258-221">Como faço Usar um projeto de implantação de Web do Visual Studio 2008?</span><span class="sxs-lookup"><span data-stu-id="77258-221">How Do I: Use a Visual Studio 2008 Web Deployment Project?</span></span>](../../../videos/how-do-i/how-do-i-use-a-visual-studio-2008-web-deployment-project.md)
- [<span data-ttu-id="77258-222">Configurações de chave de configuração ao implantar um banco de dados</span><span class="sxs-lookup"><span data-stu-id="77258-222">Key Configuration Settings When Deploying a Database</span></span>](http://aspnet.4guysfromrolla.com/articles/121008-1.aspx)
- <span data-ttu-id="77258-223">[Download de projetos do Visual Studio 2008 Web Deployment](https://www.microsoft.com/downloads/details.aspx?FamilyId=0AA30AE8-C73B-4BDD-BB1B-FE697256C459&amp;displaylang=en) | [Download de projetos do Visual Studio 2005 Web Deployment](https://download.microsoft.com/download/9/4/9/9496adc4-574e-4043-bb70-bc841e27f13c/WebDeploymentSetup.msi)</span><span class="sxs-lookup"><span data-stu-id="77258-223">[Visual Studio 2008 Web Deployment Projects Download](https://www.microsoft.com/downloads/details.aspx?FamilyId=0AA30AE8-C73B-4BDD-BB1B-FE697256C459&amp;displaylang=en) | [Visual Studio 2005 Web Deployment Projects Download](https://download.microsoft.com/download/9/4/9/9496adc4-574e-4043-bb70-bc841e27f13c/WebDeploymentSetup.msi)</span></span>
- <span data-ttu-id="77258-224">[VS 2008 Web Deployment Projects](https://weblogs.asp.net/scottgu/archive/2005/11/06/429723.aspx) | [suporte de projeto de implantação do VS 2008 Web lançado](https://weblogs.asp.net/scottgu/archive/2008/01/28/vs-2008-web-deployment-project-support-released.aspx)</span><span class="sxs-lookup"><span data-stu-id="77258-224">[VS 2008 Web Deployment Projects](https://weblogs.asp.net/scottgu/archive/2005/11/06/429723.aspx) | [VS 2008 Web Deployment Project Support Released](https://weblogs.asp.net/scottgu/archive/2008/01/28/vs-2008-web-deployment-project-support-released.aspx)</span></span>
- [<span data-ttu-id="77258-225">Projetos de Implantação da Web</span><span class="sxs-lookup"><span data-stu-id="77258-225">Web Deployment Projects</span></span>](https://msdn.microsoft.com/magazine/cc163448.aspx)

> [!div class="step-by-step"]
> <span data-ttu-id="77258-226">[Anterior](deploying-your-site-using-visual-studio-cs.md)
> [Próximo](core-differences-between-iis-and-the-asp-net-development-server-cs.md)</span><span class="sxs-lookup"><span data-stu-id="77258-226">[Previous](deploying-your-site-using-visual-studio-cs.md)
[Next](core-differences-between-iis-and-the-asp-net-development-server-cs.md)</span></span>
