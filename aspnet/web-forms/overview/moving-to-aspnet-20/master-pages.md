---
uid: web-forms/overview/moving-to-aspnet-20/master-pages
title: Páginas mestras | Microsoft Docs
author: microsoft
description: Um dos principais componentes para o êxito de um site da Web é uma aparência consistente. No ASP.NET 1. x, os desenvolvedores usavam os controles de usuário para replicar Elem de página comuns....
ms.author: riande
ms.date: 02/20/2005
ms.assetid: 9c0cce4d-efd9-4c14-b0e8-a1a140abb3f4
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/master-pages
msc.type: authoredcontent
ms.openlocfilehash: 348e28778e0e7d96230534df1d61386ed39f8f11
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/17/2019
ms.locfileid: "59381140"
---
# <a name="master-pages"></a><span data-ttu-id="3d477-104">Páginas mestras</span><span class="sxs-lookup"><span data-stu-id="3d477-104">Master Pages</span></span>

<span data-ttu-id="3d477-105">por [Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="3d477-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="3d477-106">Um dos principais componentes para o êxito de um site da Web é uma aparência consistente.</span><span class="sxs-lookup"><span data-stu-id="3d477-106">One of the key components to a successful Web site is a consistent look and feel.</span></span> <span data-ttu-id="3d477-107">No ASP.NET 1. x, os desenvolvedores usavam os controles de usuário para replicar os elementos de página comuns entre um aplicativo da Web.</span><span class="sxs-lookup"><span data-stu-id="3d477-107">In ASP.NET 1.x, developers used user controls to replicate common page elements across a Web application.</span></span> <span data-ttu-id="3d477-108">Embora seja certamente uma solução viável, usando controles de usuário tem algumas desvantagens.</span><span class="sxs-lookup"><span data-stu-id="3d477-108">While that is certainly a workable solution, using user controls does have some drawbacks.</span></span> <span data-ttu-id="3d477-109">Por exemplo, uma alteração na posição de um controle de usuário requer uma alteração em várias páginas em um site.</span><span class="sxs-lookup"><span data-stu-id="3d477-109">For example, a change in position of a user control requires a change to multiple pages across a site.</span></span> <span data-ttu-id="3d477-110">Controles de usuário também não são renderizados no modo de exibição de Design depois que está sendo inserido em uma página.</span><span class="sxs-lookup"><span data-stu-id="3d477-110">User controls are also not rendered in Design view after being inserted on a page.</span></span>


<span data-ttu-id="3d477-111">Um dos principais componentes para o êxito de um site da Web é uma aparência consistente.</span><span class="sxs-lookup"><span data-stu-id="3d477-111">One of the key components to a successful Web site is a consistent look and feel.</span></span> <span data-ttu-id="3d477-112">No ASP.NET 1. x, os desenvolvedores usavam os controles de usuário para replicar os elementos de página comuns entre um aplicativo da Web.</span><span class="sxs-lookup"><span data-stu-id="3d477-112">In ASP.NET 1.x, developers used user controls to replicate common page elements across a Web application.</span></span> <span data-ttu-id="3d477-113">Embora seja certamente uma solução viável, usando controles de usuário tem algumas desvantagens.</span><span class="sxs-lookup"><span data-stu-id="3d477-113">While that is certainly a workable solution, using user controls does have some drawbacks.</span></span> <span data-ttu-id="3d477-114">Por exemplo, uma alteração na posição de um controle de usuário requer uma alteração em várias páginas em um site.</span><span class="sxs-lookup"><span data-stu-id="3d477-114">For example, a change in position of a user control requires a change to multiple pages across a site.</span></span> <span data-ttu-id="3d477-115">Controles de usuário também não são renderizados no modo de exibição de Design depois que está sendo inserido em uma página.</span><span class="sxs-lookup"><span data-stu-id="3d477-115">User controls are also not rendered in Design view after being inserted on a page.</span></span>

<span data-ttu-id="3d477-116">O ASP.NET 2.0 apresenta mestre páginas como uma maneira de manter uma aparência consistente e como você verá em breve, mestre páginas representam uma melhoria significativa em relação ao método de controle de usuário.</span><span class="sxs-lookup"><span data-stu-id="3d477-116">ASP.NET 2.0 introduces Master pages as a way of maintaining a consistent look and feel, and as you'll soon see, Master pages represent a significant improvement over the user control method.</span></span>

## <a name="why-master-pages"></a><span data-ttu-id="3d477-117">Por que páginas-mestre?</span><span class="sxs-lookup"><span data-stu-id="3d477-117">Why Master Pages?</span></span>

<span data-ttu-id="3d477-118">Você pode estar se perguntando por que as páginas mestras eram necessários no ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="3d477-118">You may be wondering why master pages were needed in ASP.NET 2.0.</span></span> <span data-ttu-id="3d477-119">Afinal de contas, os desenvolvedores de sites já estiver usando controles de usuário no ASP.NET 1.x para compartilhar as áreas de conteúdo entre as páginas.</span><span class="sxs-lookup"><span data-stu-id="3d477-119">After all, Web site developers are already using user controls in ASP.NET 1.x to share content areas between pages.</span></span> <span data-ttu-id="3d477-120">Há, na verdade, vários motivos por que os controles de usuário são uma solução menos ideal para criar um layout comum.</span><span class="sxs-lookup"><span data-stu-id="3d477-120">There are actually several reasons why user controls are a less-than-optimal solution for creating a common layout.</span></span>

<span data-ttu-id="3d477-121">Controles de usuário, na verdade, não definem o layout da página.</span><span class="sxs-lookup"><span data-stu-id="3d477-121">User controls don't actually define page layout.</span></span> <span data-ttu-id="3d477-122">Em vez disso, elas definem o layout e a funcionalidade de uma parte de uma página.</span><span class="sxs-lookup"><span data-stu-id="3d477-122">Instead, they define the layout and functionality for a portion of a page.</span></span> <span data-ttu-id="3d477-123">A distinção entre essas duas é importante, pois ele torna a capacidade de gerenciamento de uma solução de controle de usuário muito mais difícil.</span><span class="sxs-lookup"><span data-stu-id="3d477-123">The distinction between these two is important because it makes manageability of a user control solution much more difficult.</span></span> <span data-ttu-id="3d477-124">Por exemplo, quando você deseja alterar a posição de um controle de usuário em sua página, você deve editar a página real na qual o controle de usuário é exibida.</span><span class="sxs-lookup"><span data-stu-id="3d477-124">For example, when you want to change the position of a user control on your page, you must edit the actual page on which the user control appears.</span></span> <span data-ttu-id="3d477-125">Que bem se você tiver apenas algumas páginas, mas em sites grandes, ele rapidamente vira um pesadelo de gerenciamento do site!</span><span class="sxs-lookup"><span data-stu-id="3d477-125">Thats fine if you have only a few pages, but in large sites, it quickly becomes a site management nightmare!</span></span>

<span data-ttu-id="3d477-126">Outra desvantagem do uso de controles de usuário para definir um layout comum está enraizada na arquitetura do ASP.NET em si.</span><span class="sxs-lookup"><span data-stu-id="3d477-126">Another drawback of using user controls for defining a common layout is rooted in the architecture of ASP.NET itself.</span></span> <span data-ttu-id="3d477-127">Se nenhum membro público de um controle de usuário for alterado, ele exige que você recompile todas as páginas que usam o controle de usuário.</span><span class="sxs-lookup"><span data-stu-id="3d477-127">If any public member of a user control is changed, it requires you to recompile all of the pages that use the user control.</span></span> <span data-ttu-id="3d477-128">Por sua vez, o ASP.NET irá então recompilado por JIT suas páginas quando são acessadas.</span><span class="sxs-lookup"><span data-stu-id="3d477-128">In turn, ASP.NET will then re-JIT your pages when they are first accessed.</span></span> <span data-ttu-id="3d477-129">Isso, mais uma vez, produz uma arquitetura não escalonável e um problema de gerenciamento de site para sites maiores.</span><span class="sxs-lookup"><span data-stu-id="3d477-129">This, once again, produces a non-scalable architecture and a site management problem for larger sites.</span></span>

<span data-ttu-id="3d477-130">Muito bem, ambos esses problemas (e muito mais) são endereçados por páginas mestras no ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="3d477-130">Both of these problems (and many more) are nicely addressed by master pages in ASP.NET 2.0.</span></span>

## <a name="how-master-pages-work"></a><span data-ttu-id="3d477-131">Como páginas mestras funcionam</span><span class="sxs-lookup"><span data-stu-id="3d477-131">How Master Pages Work</span></span>

<span data-ttu-id="3d477-132">Uma página mestra é análoga a um modelo para outras páginas.</span><span class="sxs-lookup"><span data-stu-id="3d477-132">A master page is analogous to a template for other pages.</span></span> <span data-ttu-id="3d477-133">Elementos de página que devem ser compartilhados com outras páginas (ou seja, menus, bordas, etc.) são adicionados à página mestra.</span><span class="sxs-lookup"><span data-stu-id="3d477-133">Page elements that should be shared among other pages (i.e. menus, borders, etc.) are added to the master page.</span></span> <span data-ttu-id="3d477-134">Quando novas páginas são adicionadas ao site, você pode associá-los com uma página mestra.</span><span class="sxs-lookup"><span data-stu-id="3d477-134">When new pages are added to the site, you can associate them with a master page.</span></span> <span data-ttu-id="3d477-135">Uma página que está associada uma página mestra é chamada de um **página de conteúdo**.</span><span class="sxs-lookup"><span data-stu-id="3d477-135">A page that is associated with a master page is called a **content page**.</span></span> <span data-ttu-id="3d477-136">Por padrão, uma página de conteúdo assume a aparência da página mestra.</span><span class="sxs-lookup"><span data-stu-id="3d477-136">By default, a content page takes on the appearance from the master page.</span></span> <span data-ttu-id="3d477-137">No entanto, quando você cria uma página mestra, você pode definir as partes da página que a página de conteúdo pode substituir por seu próprio conteúdo.</span><span class="sxs-lookup"><span data-stu-id="3d477-137">However, when you create a master page, you can define portions of the page that the content page can replace with its own content.</span></span> <span data-ttu-id="3d477-138">Essas partes são definidas usando um novo controle introduzido no ASP.NET 2.0; o **ContentPlaceHolder** controle.</span><span class="sxs-lookup"><span data-stu-id="3d477-138">These portions are defined using a new control introduced in ASP.NET 2.0; the **ContentPlaceHolder** control.</span></span>

<span data-ttu-id="3d477-139">Uma página mestra pode conter qualquer número de controles ContentPlaceHolder (ou nenhum). Na página de conteúdo, o conteúdo dos controles ContentPlaceHolder aparece dentro de **conteúdo** controles, outro controle novo no ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="3d477-139">A master page can contain any number of ContentPlaceHolder controls (or none at all.) On the content page, the content from the ContentPlaceHolder controls appears inside of **Content** controls, another new control in ASP.NET 2.0.</span></span> <span data-ttu-id="3d477-140">Por padrão, os controles de conteúdo de páginas de conteúdo estão vazias, para que você possa fornecer seu próprio conteúdo.</span><span class="sxs-lookup"><span data-stu-id="3d477-140">By default, the content pages Content controls are empty so that you can provide your own content.</span></span> <span data-ttu-id="3d477-141">Se você quiser usar o conteúdo da página mestra dentro de controles de conteúdo, você pode fazer então como você verá neste módulo.</span><span class="sxs-lookup"><span data-stu-id="3d477-141">If you want to use the content from the master page inside of the Content controls, you can do so as you will see later in this module.</span></span> <span data-ttu-id="3d477-142">O controle de conteúdo é mapeado para o controle ContentPlaceHolder por meio do atributo ContentPlaceHolderID do controle de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="3d477-142">The Content control is mapped to the ContentPlaceHolder control via the ContentPlaceHolderID attribute of the Content control.</span></span> <span data-ttu-id="3d477-143">O código a seguir mapeia um conteúdo de controle para um controle de ContentPlaceHolder chamado mainBody em uma página mestra.</span><span class="sxs-lookup"><span data-stu-id="3d477-143">The code below maps a Content control to a ContentPlaceHolder control called mainBody on a master page.</span></span>

[!code-aspx[Main](master-pages/samples/sample1.aspx)]

> [!NOTE]
> <span data-ttu-id="3d477-144">Normalmente as pessoas descrevem as páginas mestras como sendo uma classe base para outras páginas.</span><span class="sxs-lookup"><span data-stu-id="3d477-144">You will often hear people describe master pages as being a base class for other pages.</span></span> <span data-ttu-id="3d477-145">Que, na verdade, não é verdade.</span><span class="sxs-lookup"><span data-stu-id="3d477-145">Thats actually not true.</span></span> <span data-ttu-id="3d477-146">A relação entre as páginas mestras e páginas de conteúdo não é um de herança.</span><span class="sxs-lookup"><span data-stu-id="3d477-146">The relationship between master pages and content pages is not one of inheritance.</span></span>


<span data-ttu-id="3d477-147">**Figura 1** mostra uma página mestra e uma página de conteúdo associada que aparecem no Visual Studio 2005.</span><span class="sxs-lookup"><span data-stu-id="3d477-147">**Figure 1** shows a master page and an associated content page as they appear in Visual Studio 2005.</span></span> <span data-ttu-id="3d477-148">Você pode ver o controle ContentPlaceHolder na página mestra e o correspondente controle na página de conteúdo de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="3d477-148">You can see the ContentPlaceHolder control in the master page and the corresponding Content control in the content page.</span></span> <span data-ttu-id="3d477-149">Observe que o conteúdo de páginas mestras que está fora de ContentPlaceHolder é visível, mas esmaecidos na página de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="3d477-149">Notice that the master pages content that is outside of the ContentPlaceHolder is visible but grayed out in the content page.</span></span> <span data-ttu-id="3d477-150">Somente o conteúdo dentro de ContentPlaceHolder pode ser suplantado pela página de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="3d477-150">Only the content inside of the ContentPlaceHolder can be supplanted by the content page.</span></span> <span data-ttu-id="3d477-151">Todos os outros conteúdos que vem da página mestra é imutável.</span><span class="sxs-lookup"><span data-stu-id="3d477-151">All other content that comes from the master page is immutable.</span></span>


![Uma página mestra e sua página de conteúdo associada](master-pages/_static/image1.jpg)

<span data-ttu-id="3d477-153">**Figura 1**: Uma página mestra e sua página de conteúdo associada</span><span class="sxs-lookup"><span data-stu-id="3d477-153">**Figure 1**: A master page and its associated content page</span></span>


## <a name="creating-a-master-page"></a><span data-ttu-id="3d477-154">Criando uma página mestra</span><span class="sxs-lookup"><span data-stu-id="3d477-154">Creating a Master Page</span></span>

<span data-ttu-id="3d477-155">Para criar uma nova página mestra:</span><span class="sxs-lookup"><span data-stu-id="3d477-155">To create a new master page:</span></span>

1. <span data-ttu-id="3d477-156">Abra o Visual Studio 2005 e crie um novo site.</span><span class="sxs-lookup"><span data-stu-id="3d477-156">Open Visual Studio 2005 and create a new Web site.</span></span>
2. <span data-ttu-id="3d477-157">Clique em arquivo, novo, de arquivos.</span><span class="sxs-lookup"><span data-stu-id="3d477-157">Click File, New, File.</span></span>
3. <span data-ttu-id="3d477-158">Escolha o arquivo mestre na caixa de diálogo Add New Item, como mostrado na **Figura 2**.</span><span class="sxs-lookup"><span data-stu-id="3d477-158">Choose Master File from the Add New Item dialog as shown in **figure 2**.</span></span>
4. <span data-ttu-id="3d477-159">Clique em Adicionar.</span><span class="sxs-lookup"><span data-stu-id="3d477-159">Click Add.</span></span>


![Criando uma nova página mestra](master-pages/_static/image2.jpg)

<span data-ttu-id="3d477-161">**Figura 2**: Criando uma nova página mestra</span><span class="sxs-lookup"><span data-stu-id="3d477-161">**Figure 2**: Creating a New Master Page</span></span>


<span data-ttu-id="3d477-162">Observe que é a extensão de arquivo para uma página mestra *. master*.</span><span class="sxs-lookup"><span data-stu-id="3d477-162">Notice that the file extension for a master page is *.master*.</span></span> <span data-ttu-id="3d477-163">Essa é uma das maneiras que uma página mestra difere de uma página comum.</span><span class="sxs-lookup"><span data-stu-id="3d477-163">This is one of the ways that a master page differs from an ordinary page.</span></span> <span data-ttu-id="3d477-164">A principal diferença é que no lugar de um @Page diretiva, a página mestra contém um @Master diretiva.</span><span class="sxs-lookup"><span data-stu-id="3d477-164">The other primary difference is that in lieu of a @Page directive, the master page contains a @Master directive.</span></span> <span data-ttu-id="3d477-165">Alternar a exibição da fonte para o mestre de página que você acabou de criar e revisar o código.</span><span class="sxs-lookup"><span data-stu-id="3d477-165">Switch to Source View for the master page you've just created and review the code.</span></span>

<span data-ttu-id="3d477-166">Uma nova página mestra terá um controle de ContentPlaceHolder por padrão.</span><span class="sxs-lookup"><span data-stu-id="3d477-166">A new master page will have one ContentPlaceHolder control by default.</span></span> <span data-ttu-id="3d477-167">Na maioria dos casos, ele faz mais sentido para criar os elementos de página comuns primeiro e, em seguida, inserir controles ContentPlaceHolder onde o conteúdo personalizado é desejado.</span><span class="sxs-lookup"><span data-stu-id="3d477-167">In most cases, it makes more sense to create the common page elements first and then insert ContentPlaceHolder controls where custom content is desired.</span></span> <span data-ttu-id="3d477-168">Nesses casos, os desenvolvedores desejará excluir o controle padrão ContentPlaceHolder e inserir novos registros, como a página é desenvolvida.</span><span class="sxs-lookup"><span data-stu-id="3d477-168">In those cases, developers will want to delete the default ContentPlaceHolder control and insert new ones as the page is developed.</span></span> <span data-ttu-id="3d477-169">ContentPlaceHolder controles não são redimensionáveis apesar do fato de que elas exibem as alças de dimensionamento.</span><span class="sxs-lookup"><span data-stu-id="3d477-169">ContentPlaceHolder controls are not resizable despite the fact that they do display sizing handles.</span></span> <span data-ttu-id="3d477-170">Os tamanhos de controle de ContentPlaceHolder automaticamente com base no conteúdo que ele contém com uma exceção; Se você colocar um controle ContentPlaceHolder dentro de um elemento de bloco, como uma célula de tabela, ele será redimensionado acordo com o tamanho do elemento.</span><span class="sxs-lookup"><span data-stu-id="3d477-170">The ContentPlaceHolder control sizes automatically based upon the content that it contains with one exception; if you place a ContentPlaceHolder control inside of a block element such as a table cell, it will size according to the size of the element.</span></span>

## <a name="lab-1-working-with-master-pages"></a><span data-ttu-id="3d477-171">Laboratório 1 trabalhando com páginas mestras</span><span class="sxs-lookup"><span data-stu-id="3d477-171">Lab 1 Working with Master Pages</span></span>

<span data-ttu-id="3d477-172">Neste laboratório, você criará uma nova página mestra e definir três controles ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="3d477-172">In this lab, you will create a new master page and define three ContentPlaceHolder controls.</span></span> <span data-ttu-id="3d477-173">Você, em seguida, crie uma nova página de conteúdo e substitua o conteúdo de pelo menos um dos controles ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="3d477-173">You will then create a new Content page and replace the content from at least one of the ContentPlaceHolder controls.</span></span>

1. <span data-ttu-id="3d477-174">Criar uma página mestra e inserir controles ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="3d477-174">Create a master page and insert ContentPlaceHolder controls.</span></span> 

    1. <span data-ttu-id="3d477-175">Crie uma nova página mestra, conforme descrito acima.</span><span class="sxs-lookup"><span data-stu-id="3d477-175">Create a new master page as described above.</span></span>
    2. <span data-ttu-id="3d477-176">Exclua o controle de ContentPlaceHolder padrão.</span><span class="sxs-lookup"><span data-stu-id="3d477-176">Delete the default ContentPlaceHolder control.</span></span>
    3. <span data-ttu-id="3d477-177">Selecione o controle ContentPlaceHolder clicando na borda sombreada superior do controle e, em seguida, excluí-lo pressionando a tecla DEL no seu teclado.</span><span class="sxs-lookup"><span data-stu-id="3d477-177">Select the ContentPlaceHolder control by clicking the shaded top border of the control and then delete it by hitting the DEL key on your keyboard.</span></span>
    4. <span data-ttu-id="3d477-178">Inserir uma nova tabela usando o *cabeçalho e o lado* modelo conforme mostrado na Figura 3.</span><span class="sxs-lookup"><span data-stu-id="3d477-178">Insert a new table using the *Header and side* template as shown in figure 3.</span></span> <span data-ttu-id="3d477-179">Altere a largura e altura para 90% cada para que a tabela inteira está visível no designer.</span><span class="sxs-lookup"><span data-stu-id="3d477-179">Change the width and height to 90% each so that the entire table is visible in the designer.</span></span>


![](master-pages/_static/image3.jpg)

<span data-ttu-id="3d477-180">**Figura 3**</span><span class="sxs-lookup"><span data-stu-id="3d477-180">**Figure 3**</span></span>


1. <span data-ttu-id="3d477-181">Coloque o cursor em cada célula da tabela e defina as *valign* propriedade *superior*.</span><span class="sxs-lookup"><span data-stu-id="3d477-181">Place the cursor into each cell of the table and set the *valign* property to *top*.</span></span>
2. <span data-ttu-id="3d477-182">Na caixa de ferramentas, inserir um controle ContentPlaceHolder na célula superior da tabela (a célula de cabeçalho).</span><span class="sxs-lookup"><span data-stu-id="3d477-182">From the Toolbox, insert a ContentPlaceHolder control in the top cell of the table (the header cell.)</span></span>
3. <span data-ttu-id="3d477-183">Quando você insere esse controle ContentPlaceHolder, você observará que a altura da linha será levar até quase toda a página, conforme mostrado na Figura 4.</span><span class="sxs-lookup"><span data-stu-id="3d477-183">When you insert this ContentPlaceHolder control, you will notice that the row height will take up almost the entire page as shown in figure 4.</span></span> <span data-ttu-id="3d477-184">Não estar preocupado que neste momento.</span><span class="sxs-lookup"><span data-stu-id="3d477-184">Don't be concerned about that at this point.</span></span>


![O espaço vazio está na mesma célula como o ContentPlaceHolder](master-pages/_static/image1.gif)

<span data-ttu-id="3d477-186">**Figura 4**: O espaço vazio está na mesma célula como o ContentPlaceHolder</span><span class="sxs-lookup"><span data-stu-id="3d477-186">**Figure 4**: The empty space is in the same cell as the ContentPlaceHolder</span></span>


1. <span data-ttu-id="3d477-187">Coloque um controle de ContentPlaceHolder nas outras duas células.</span><span class="sxs-lookup"><span data-stu-id="3d477-187">Place a ContentPlaceHolder control in the other two cells.</span></span> <span data-ttu-id="3d477-188">Depois que os outros controles ContentPlaceHolder foram inseridos, o tamanho das células da tabela deve ser como você esperaria.</span><span class="sxs-lookup"><span data-stu-id="3d477-188">Once the other ContentPlaceHolder controls have been inserted, the size of the table cells should be as you would expect.</span></span> <span data-ttu-id="3d477-189">A página agora deve ser semelhante a página mostrada na **Figura 5**.</span><span class="sxs-lookup"><span data-stu-id="3d477-189">The page should now look like the page shown in **figure 5**.</span></span>


![O mestre com todos os controles de ContentPlaceHolder.](master-pages/_static/image2.gif)

<span data-ttu-id="3d477-192">**Figura 5**: O mestre com todos os controles de ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="3d477-192">**Figure 5**: The Master with all ContentPlaceHolder controls.</span></span> <span data-ttu-id="3d477-193">Observe que a altura da célula para a célula de cabeçalho é agora o que deve ser</span><span class="sxs-lookup"><span data-stu-id="3d477-193">Notice that the cell height for the header cell is now what it should be</span></span>


1. <span data-ttu-id="3d477-194">Digite algum texto de sua escolha em cada um dos três controles ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="3d477-194">Enter some text of your choice into each of the three ContentPlaceHolder controls.</span></span>
2. <span data-ttu-id="3d477-195">Salve a página mestra como exercise1.master.</span><span class="sxs-lookup"><span data-stu-id="3d477-195">Save the master page as exercise1.master.</span></span>
3. <span data-ttu-id="3d477-196">Criar um novo formulário da Web e associá-la com a página mestra do exercise1.master.</span><span class="sxs-lookup"><span data-stu-id="3d477-196">Create a new Web Form and associate it with the exercise1.master master page.</span></span>
4. <span data-ttu-id="3d477-197">Selecione o arquivo, novo, de arquivos no Visual Studio 2005.</span><span class="sxs-lookup"><span data-stu-id="3d477-197">Select File, New, File in Visual Studio 2005.</span></span>
5. <span data-ttu-id="3d477-198">Selecione **Web Form** na caixa de diálogo Adicionar Novo Item.</span><span class="sxs-lookup"><span data-stu-id="3d477-198">Select **Web Form** in the Add New Item dialog.</span></span>
6. <span data-ttu-id="3d477-199">Certifique-se de que a caixa de seleção Selecionar página mestre é verificada, conforme mostrado na Figura 6.</span><span class="sxs-lookup"><span data-stu-id="3d477-199">Make sure that the Select master page checkbox is checked as shown in figure 6.</span></span>


![Adicionando uma nova página de conteúdo](master-pages/_static/image3.gif)

<span data-ttu-id="3d477-201">**Figura 6**: Adicionando uma nova página de conteúdo</span><span class="sxs-lookup"><span data-stu-id="3d477-201">**Figure 6**: Adding a new Content Page</span></span>


1. <span data-ttu-id="3d477-202">Clique em Adicionar.</span><span class="sxs-lookup"><span data-stu-id="3d477-202">Click Add.</span></span>
2. <span data-ttu-id="3d477-203">Selecione exercise1.master no, selecione uma caixa de diálogo de página mestra conforme mostrado na Figura 7.</span><span class="sxs-lookup"><span data-stu-id="3d477-203">Select exercise1.master in the Select a master page dialog as shown in figure 7.</span></span>
3. <span data-ttu-id="3d477-204">Clique em Okey para adicionar a nova página de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="3d477-204">Click OK to add the new content page.</span></span>

<span data-ttu-id="3d477-205">Nova página de conteúdo é exibido no Visual Studio com um controle de conteúdo para cada controle ContentPlaceHolder na página mestra.</span><span class="sxs-lookup"><span data-stu-id="3d477-205">The new content page appears in Visual Studio with one Content control for each ContentPlaceHolder control on the master page.</span></span> <span data-ttu-id="3d477-206">Por padrão, os controles de conteúdo estão vazios, para que você possa adicionar seu próprio conteúdo.</span><span class="sxs-lookup"><span data-stu-id="3d477-206">By default, the Content controls are empty so that you can add your own content.</span></span> <span data-ttu-id="3d477-207">Se você gostaria de usar o conteúdo do controle ContentPlaceHolder na página mestra, basta clicar no símbolo de marca inteligente (a pequena seta preta no canto superior direito do controle) e escolha *padrão para o conteúdo de mestres* da marca inteligente conforme mostrado na **Figura 8**.</span><span class="sxs-lookup"><span data-stu-id="3d477-207">If you'd like for them to use the content from the ContentPlaceHolder control on the master page, simply click on the smart tag symbol (the small black arrow in the upper-right corner of the control) and choose *Default to Masters Content* from the smart tag as shown in **figure 8**.</span></span> <span data-ttu-id="3d477-208">Quando você fizer isso, o item de menu muda para *criar conteúdo personalizado*.</span><span class="sxs-lookup"><span data-stu-id="3d477-208">When you do so, the menu item changes to *Create Custom Content*.</span></span> <span data-ttu-id="3d477-209">Ao clicar nesse ponto remove o conteúdo da página mestra, permitindo que você defina o conteúdo personalizado para esse determinado controle de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="3d477-209">Clicking it at that point removes the content from the master page allowing you to define custom content for that particular Content control.</span></span>


![Definir um controle de conteúdo padrão para o conteúdo de páginas mestras](master-pages/_static/image4.gif)

<span data-ttu-id="3d477-211">**Figura 7**: Definir um controle de conteúdo padrão para o conteúdo de páginas mestras</span><span class="sxs-lookup"><span data-stu-id="3d477-211">**Figure 7**: Setting a Content Control to Default to the Master Pages Content</span></span>


## <a name="connecting-master-page-and-content-pages"></a><span data-ttu-id="3d477-212">Conectar-se a página mestra e páginas de conteúdo</span><span class="sxs-lookup"><span data-stu-id="3d477-212">Connecting Master Page and Content Pages</span></span>

<span data-ttu-id="3d477-213">A associação entre uma página mestra e uma página de conteúdo pode ser configurada em uma das quatro maneiras diferentes:</span><span class="sxs-lookup"><span data-stu-id="3d477-213">The association between a master page and a content page can be configured in one of four different ways:</span></span>

- <span data-ttu-id="3d477-214">O <strong>MasterPageFile</strong> atributo do @Page diretiva</span><span class="sxs-lookup"><span data-stu-id="3d477-214">The <strong>MasterPageFile</strong> attribute of the @Page directive</span></span>
- <span data-ttu-id="3d477-215">Definindo o **Page.MasterPageFile** propriedade no código.</span><span class="sxs-lookup"><span data-stu-id="3d477-215">Setting the **Page.MasterPageFile** property in code.</span></span>
- <span data-ttu-id="3d477-216">O **&lt;páginas&gt;** elemento no arquivo de configuração do aplicativo (Web. config na pasta raiz do aplicativo)</span><span class="sxs-lookup"><span data-stu-id="3d477-216">The **&lt;pages&gt;** element in the applications configuration file (web.config in the root folder of the application)</span></span>
- <span data-ttu-id="3d477-217">O **&lt;páginas&gt;** elemento em um arquivo de configuração de subpastas (Web. config em uma subpasta)</span><span class="sxs-lookup"><span data-stu-id="3d477-217">The **&lt;pages&gt;** element in a subfolders configuration file (web.config in a subfolder)</span></span>

## <a name="masterpagefile-attribute"></a><span data-ttu-id="3d477-218">Atributo MasterPageFile</span><span class="sxs-lookup"><span data-stu-id="3d477-218">MasterPageFile Attribute</span></span>

<span data-ttu-id="3d477-219">O atributo MasterPageFile torna mais fácil de aplicar uma página mestra para uma determinada página do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="3d477-219">The MasterPageFile attribute makes it easy to apply a master page to a particular ASP.NET page.</span></span> <span data-ttu-id="3d477-220">Também é o método usado para aplicar a página mestra ao verificar a **selecionar a página mestra** caixa de seleção que você fez no Exercício 1.</span><span class="sxs-lookup"><span data-stu-id="3d477-220">It is also the method used to apply the master page when you check the **Select Master Page** checkbox as you did in Exercise 1.</span></span>

## <a name="setting-pagemasterpagefile-in-code"></a><span data-ttu-id="3d477-221">Configurando Page.MasterPageFile no código</span><span class="sxs-lookup"><span data-stu-id="3d477-221">Setting Page.MasterPageFile in Code</span></span>

<span data-ttu-id="3d477-222">Definindo a propriedade MasterPageFile no código, você pode aplicar uma página mestra específica ao seu conteúdo em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="3d477-222">By setting the MasterPageFile property in code, you can apply a particular master page to your content at runtime.</span></span> <span data-ttu-id="3d477-223">Isso é útil em casos em que você talvez seja necessário aplicar uma página mestra específica com base em uma função de usuários ou algum outro critério.</span><span class="sxs-lookup"><span data-stu-id="3d477-223">This is useful in cases where you may need to apply a specific master page based upon a users role or some other criteria.</span></span> <span data-ttu-id="3d477-224">A propriedade MasterPageFile deve ser definida no método PreInit.</span><span class="sxs-lookup"><span data-stu-id="3d477-224">The MasterPageFile property must be set in the PreInit method.</span></span> <span data-ttu-id="3d477-225">Se ele é definido após o método PreInit, será gerada uma InvalidOperationException.</span><span class="sxs-lookup"><span data-stu-id="3d477-225">If it is set after the PreInit method, an InvalidOperationException will be thrown.</span></span> <span data-ttu-id="3d477-226">A página em que essa propriedade está sendo definida também deve ter um conteúdo de controle como o controle de nível superior da página.</span><span class="sxs-lookup"><span data-stu-id="3d477-226">The page on which this property is being set must also have a Content control as the top-level control for the page.</span></span> <span data-ttu-id="3d477-227">Caso contrário, um HttpException será gerada quando a propriedade MasterPageFile está definida.</span><span class="sxs-lookup"><span data-stu-id="3d477-227">Otherwise an HttpException will be thrown when the MasterPageFile property is set.</span></span>

## <a name="using-the-ltpagesgt-element"></a><span data-ttu-id="3d477-228">Usando o &lt;páginas&gt; elemento</span><span class="sxs-lookup"><span data-stu-id="3d477-228">Using the &lt;pages&gt; Element</span></span>

<span data-ttu-id="3d477-229">Você pode configurar uma página mestra para suas páginas, definindo o atributo masterPageFile na &lt;páginas&gt; elemento do arquivo Web. config.</span><span class="sxs-lookup"><span data-stu-id="3d477-229">You can configure a master page for your pages by setting the masterPageFile attribute in the &lt;pages&gt; element of the web.config file.</span></span> <span data-ttu-id="3d477-230">Ao usar esse método, lembre-se de que arquivos Web. config inferiores na estrutura de aplicativo podem substituir essa configuração.</span><span class="sxs-lookup"><span data-stu-id="3d477-230">When using this method, keep in mind that web.config files lower in the application structure can override this setting.</span></span> <span data-ttu-id="3d477-231">Qualquer atributo MasterPageFile definido um @Page diretiva também irá substituir essa configuração.</span><span class="sxs-lookup"><span data-stu-id="3d477-231">Any MasterPageFile attribute set in a @Page directive will also override this setting.</span></span> <span data-ttu-id="3d477-232">Usando o &lt;páginas&gt; elemento torna simples para criar um *mestre* página mestra que pode ser substituída se for necessário em determinadas pastas ou arquivos.</span><span class="sxs-lookup"><span data-stu-id="3d477-232">Using the &lt;pages&gt; element makes it simple to create a *master* master page that can be overridden if necessary in particular folders or files.</span></span>

## <a name="properties-in-master-pages"></a><span data-ttu-id="3d477-233">Propriedades em páginas mestras</span><span class="sxs-lookup"><span data-stu-id="3d477-233">Properties in Master Pages</span></span>

<span data-ttu-id="3d477-234">Uma página mestra pode expor propriedades, basta fazer essas propriedades públicas dentro da página mestra.</span><span class="sxs-lookup"><span data-stu-id="3d477-234">A master page can expose properties by simply making those properties public within the master page.</span></span> <span data-ttu-id="3d477-235">Por exemplo, o código a seguir define uma propriedade chamada SomeProperty:</span><span class="sxs-lookup"><span data-stu-id="3d477-235">For example, the following code defines a property called SomeProperty:</span></span>

[!code-csharp[Main](master-pages/samples/sample2.cs)]

<span data-ttu-id="3d477-236">Para acessar a propriedade SomeProperty da página de conteúdo, você precisará usar o mestre de propriedade da seguinte forma:</span><span class="sxs-lookup"><span data-stu-id="3d477-236">To access the SomeProperty property from the Content page, you will need to use the Master property like so:</span></span>

[!code-csharp[Main](master-pages/samples/sample3.cs)]

## <a name="nesting-master-pages"></a><span data-ttu-id="3d477-237">Páginas mestras de aninhamento</span><span class="sxs-lookup"><span data-stu-id="3d477-237">Nesting Master Pages</span></span>

<span data-ttu-id="3d477-238">Páginas mestras são a solução perfeita para garantir uma aparência comum em um aplicativo Web grande.</span><span class="sxs-lookup"><span data-stu-id="3d477-238">Master pages are the perfect solution for ensuring a common look and feel across a large Web application.</span></span> <span data-ttu-id="3d477-239">No entanto, não é incomum ter algumas partes de um compartilhamento de sites grande uma interface comum, enquanto outras partes compartilham uma interface diferente.</span><span class="sxs-lookup"><span data-stu-id="3d477-239">However, it's not uncommon to have certain parts of a large site share a common interface while other parts share a different interface.</span></span> <span data-ttu-id="3d477-240">Para atender a essa necessidade, várias páginas mestras são a solução perfeita.</span><span class="sxs-lookup"><span data-stu-id="3d477-240">To address that need, multiple master pages are the perfect solution.</span></span> <span data-ttu-id="3d477-241">No entanto, isso ainda não aborda o fato de que um aplicativo grande pode ter alguns componentes (como um menu, por exemplo) que são compartilhados entre todas as páginas e outros componentes que são compartilhados somente entre determinadas seções do site.</span><span class="sxs-lookup"><span data-stu-id="3d477-241">However, that still doesn't address the fact that a large application may have certain components (such as a menu, for example) that are shared among all pages and other components that are shared only among certain sections of the site.</span></span> <span data-ttu-id="3d477-242">Para esse tipo de situação, páginas mestras aninhadas atender a essa necessidade muito bem.</span><span class="sxs-lookup"><span data-stu-id="3d477-242">For that type of situation, nested master pages fill the need nicely.</span></span> <span data-ttu-id="3d477-243">Como você viu, uma página mestra normal consiste em uma página mestra e uma página de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="3d477-243">As you've seen, a normal master page consists of a master page and a content page.</span></span> <span data-ttu-id="3d477-244">Em uma situação de página mestra aninhada, há duas páginas mestras. um mestre de pai e um mestre de filho.</span><span class="sxs-lookup"><span data-stu-id="3d477-244">In a nested master page situation, there are two master pages; a parent master and a child master.</span></span> <span data-ttu-id="3d477-245">A página mestra filha também é uma página de conteúdo e seu mestre é a página mestra pai.</span><span class="sxs-lookup"><span data-stu-id="3d477-245">The child master page is also a content page and its master is the parent master page.</span></span>

<span data-ttu-id="3d477-246">Aqui está o código para uma página mestra típico:</span><span class="sxs-lookup"><span data-stu-id="3d477-246">Here is the code for a typical master page:</span></span>

[!code-aspx[Main](master-pages/samples/sample4.aspx)]

<span data-ttu-id="3d477-247">Em um cenário de mestre aninhado, isso seria o mestre do pai.</span><span class="sxs-lookup"><span data-stu-id="3d477-247">In a nested master scenario, this would be the parent master.</span></span> <span data-ttu-id="3d477-248">Outra página mestra usaria esta página como sua página mestra e que o código ficaria assim:</span><span class="sxs-lookup"><span data-stu-id="3d477-248">Another master page would use this page as its master page, and that code would look like this:</span></span>

[!code-aspx[Main](master-pages/samples/sample5.aspx)]

<span data-ttu-id="3d477-249">Observe que, nesse cenário, o mestre de filho também é uma página de conteúdo para o mestre do pai.</span><span class="sxs-lookup"><span data-stu-id="3d477-249">Note that in this scenario, the child master is also a content page for the parent master.</span></span> <span data-ttu-id="3d477-250">Todo o conteúdo do mestre filho é exibido dentro de um controle de conteúdo que obtém seu conteúdo do controle de ContentPlaceHolder do pai.</span><span class="sxs-lookup"><span data-stu-id="3d477-250">All of the child master's content appears inside of a Content control that gets its content from the parent's ContentPlaceHolder control.</span></span>

> [!NOTE]
> <span data-ttu-id="3d477-251">Suporte do Designer não está disponível para páginas mestras aninhadas.</span><span class="sxs-lookup"><span data-stu-id="3d477-251">Designer support is not available for nested master pages.</span></span> <span data-ttu-id="3d477-252">Quando você estiver desenvolvendo usando mestres aninhadas, você precisará usar exibição da fonte.</span><span class="sxs-lookup"><span data-stu-id="3d477-252">When you are developing using nested masters, you will need to use source view.</span></span>


<span data-ttu-id="3d477-253">Este vídeo mostra um passo a passo de como usar páginas mestras aninhadas.</span><span class="sxs-lookup"><span data-stu-id="3d477-253">This video shows a walkthrough of using nested master pages.</span></span>


![](master-pages/_static/image1.png)


[<span data-ttu-id="3d477-254">Abra vídeo de tela inteira</span><span class="sxs-lookup"><span data-stu-id="3d477-254">Open Full-Screen Video</span></span>](master-pages/_static/nested1.wmv)


![Selecionar uma página mestra](master-pages/_static/image4.jpg)

<span data-ttu-id="3d477-256">**Figura 8**: Selecionar uma página mestra</span><span class="sxs-lookup"><span data-stu-id="3d477-256">**Figure 8**: Selecting a Master Page</span></span>
