---
uid: web-forms/overview/older-versions-security/introduction/security-basics-and-asp-net-support-cs
title: Noções básicas sobre segurança e suporte do ASP.NET (c#) | Microsoft Docs
author: rick-anderson
description: Este é o primeiro tutorial de uma série de tutoriais que exploram técnicas para autenticar os visitantes por meio de um formulário da web, autorizar o acesso a determinado...
ms.author: riande
ms.date: 01/13/2008
ms.assetid: 07e15538-2f29-40c6-b2e7-e6115075ac83
msc.legacyurl: /web-forms/overview/older-versions-security/introduction/security-basics-and-asp-net-support-cs
msc.type: authoredcontent
ms.openlocfilehash: 8f6fb4348e6ff703d329331b908e41763f24bb1f
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/09/2019
ms.locfileid: "59402941"
---
# <a name="security-basics-and-aspnet-support-c"></a><span data-ttu-id="52ac3-103">Noções básicas sobre segurança e suporte do ASP.NET (C#)</span><span class="sxs-lookup"><span data-stu-id="52ac3-103">Security Basics and ASP.NET Support (C#)</span></span>

<span data-ttu-id="52ac3-104">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="52ac3-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

[<span data-ttu-id="52ac3-105">Baixar PDF</span><span class="sxs-lookup"><span data-stu-id="52ac3-105">Download PDF</span></span>](http://download.microsoft.com/download/2/F/7/2F705A34-F9DE-4112-BBDE-60098089645E/aspnet_tutorial01_Basics_cs.pdf)

> <span data-ttu-id="52ac3-106">Este é o primeiro tutorial de uma série de tutoriais que exploram técnicas para autenticar os visitantes por meio de um formulário da web, autorizar o acesso a páginas específicas e funcionalidade e gerenciamento de contas de usuário em um aplicativo ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="52ac3-106">This is the first tutorial in a series of tutorials that will explore techniques for authenticating visitors through a web form, authorizing access to particular pages and functionality, and managing user accounts in an ASP.NET application.</span></span>


## <a name="introduction"></a><span data-ttu-id="52ac3-107">Introdução</span><span class="sxs-lookup"><span data-stu-id="52ac3-107">Introduction</span></span>

<span data-ttu-id="52ac3-108">O que é a fóruns de uma coisa, sites de comércio eletrônico, email online sites, sites de portal e sites de rede social que todos têm em comum?</span><span class="sxs-lookup"><span data-stu-id="52ac3-108">What is the one thing forums, eCommerce sites, online email websites, portal websites, and social network sites all have in common?</span></span> <span data-ttu-id="52ac3-109">Todos eles oferecem *contas de usuário*.</span><span class="sxs-lookup"><span data-stu-id="52ac3-109">They all offer *user accounts*.</span></span> <span data-ttu-id="52ac3-110">Sites que oferecem as contas de usuário devem fornecer um número de serviços.</span><span class="sxs-lookup"><span data-stu-id="52ac3-110">Sites that offer user accounts must provide a number of services.</span></span> <span data-ttu-id="52ac3-111">No mínimo, novos visitantes precisam ser capaz de criar uma conta e visitantes de retornados devem ser capazes de fazer logon.</span><span class="sxs-lookup"><span data-stu-id="52ac3-111">At a minimum, new visitors need to be able to create an account and returning visitors must be able to log in.</span></span> <span data-ttu-id="52ac3-112">Esses aplicativos web podem tomar decisões com base no usuário conectado: algumas páginas ou ações podem ser restritas a somente conectado em usuários ou para um certo subconjunto de usuários. outras páginas podem mostrar as informações específicas para o usuário conectado, ou podem mostrar mais ou menos informações, dependendo do que o usuário está exibindo a página.</span><span class="sxs-lookup"><span data-stu-id="52ac3-112">Such web applications can make decisions based on the logged in user: some pages or actions might be restricted to only logged in users, or to a certain subset of users; other pages might show information specific to the logged in user, or might show more or less information, depending on what user is viewing the page.</span></span>

<span data-ttu-id="52ac3-113">Este é o primeiro tutorial de uma série de tutoriais que exploram técnicas para autenticar os visitantes por meio de um formulário da web, autorizar o acesso a páginas específicas e funcionalidade e gerenciamento de contas de usuário em um aplicativo ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="52ac3-113">This is the first tutorial in a series of tutorials that will explore techniques for authenticating visitors through a web form, authorizing access to particular pages and functionality, and managing user accounts in an ASP.NET application.</span></span> <span data-ttu-id="52ac3-114">Ao longo destes tutoriais, examinaremos como:</span><span class="sxs-lookup"><span data-stu-id="52ac3-114">Over the course of these tutorials we will examine how to:</span></span>

- <span data-ttu-id="52ac3-115">Identificar e registrar usuários para um site da Web</span><span class="sxs-lookup"><span data-stu-id="52ac3-115">Identify and log users in to a website</span></span>
- <span data-ttu-id="52ac3-116">Use o ASP. Estrutura de associação da rede para gerenciar contas de usuário</span><span class="sxs-lookup"><span data-stu-id="52ac3-116">Use ASP.NET's Membership framework to manage user accounts</span></span>
- <span data-ttu-id="52ac3-117">Criar, atualizar e excluir contas de usuário</span><span class="sxs-lookup"><span data-stu-id="52ac3-117">Create, update, and delete user accounts</span></span>
- <span data-ttu-id="52ac3-118">Limitar o acesso a uma página da web, o diretório ou a funcionalidade específica com base no usuário conectado</span><span class="sxs-lookup"><span data-stu-id="52ac3-118">Limit access to a web page, directory, or specific functionality based on the logged in user</span></span>
- <span data-ttu-id="52ac3-119">Use o ASP. Framework de funções do .NET para associar a funções de contas de usuário</span><span class="sxs-lookup"><span data-stu-id="52ac3-119">Use ASP.NET's Roles framework to associate user accounts with roles</span></span>
- <span data-ttu-id="52ac3-120">Gerenciar funções de usuário</span><span class="sxs-lookup"><span data-stu-id="52ac3-120">Manage user roles</span></span>
- <span data-ttu-id="52ac3-121">Limitar o acesso a uma página da web, o diretório ou a funcionalidade específica com base na função do usuário conectado</span><span class="sxs-lookup"><span data-stu-id="52ac3-121">Limit access to a web page, directory, or specific functionality based on the logged in user's role</span></span>
- <span data-ttu-id="52ac3-122">Personalize e estenda o ASP. Controles de Web de segurança da rede</span><span class="sxs-lookup"><span data-stu-id="52ac3-122">Customize and extend ASP.NET's security Web controls</span></span>

<span data-ttu-id="52ac3-123">Esses tutoriais se destinam a ser concisas e fornecem instruções passo a passo com capturas de tela suficiente para orientá-lo pelo processo visualmente.</span><span class="sxs-lookup"><span data-stu-id="52ac3-123">These tutorials are geared to be concise and provide step-by-step instructions with plenty of screen shots to walk you through the process visually.</span></span> <span data-ttu-id="52ac3-124">Cada tutorial está disponível nas versões do Visual Basic e do c# e inclui um download do código completo usado.</span><span class="sxs-lookup"><span data-stu-id="52ac3-124">Each tutorial is available in C# and Visual Basic versions and includes a download of the complete code used.</span></span> <span data-ttu-id="52ac3-125">(Este primeiro tutorial concentra-se nos conceitos de segurança de um ponto de vista de alto nível e, portanto, não contém qualquer código associado.)</span><span class="sxs-lookup"><span data-stu-id="52ac3-125">(This first tutorial focuses on security concepts from a high-level viewpoint and therefore does not contain any associated code.)</span></span>

<span data-ttu-id="52ac3-126">Neste tutorial, abordaremos os conceitos de segurança importantes e quais recursos estão disponíveis no ASP.NET para ajudá-lo na implementação de formulários de autenticação, autorização, contas de usuário e funções.</span><span class="sxs-lookup"><span data-stu-id="52ac3-126">In this tutorial we will discuss important security concepts and what facilities are available in ASP.NET to assist in implementing forms authentication, authorization, user accounts, and roles.</span></span> <span data-ttu-id="52ac3-127">Vamos começar!</span><span class="sxs-lookup"><span data-stu-id="52ac3-127">Let's get started!</span></span>

> [!NOTE]
> <span data-ttu-id="52ac3-128">A segurança é um aspecto importante de qualquer aplicativo que abrange físico, tecnológico e decisões de política e requer um alto grau de planejamento e conhecimento do domínio.</span><span class="sxs-lookup"><span data-stu-id="52ac3-128">Security is an important aspect of any application that spans physical, technological, and policy decisions and requires a high degree of planning and domain knowledge.</span></span> <span data-ttu-id="52ac3-129">Esta série de tutoriais não destina-se como um guia para o desenvolvimento de aplicativos da web seguros.</span><span class="sxs-lookup"><span data-stu-id="52ac3-129">This tutorial series is not intended as a guide for developing secure web applications.</span></span> <span data-ttu-id="52ac3-130">Em vez disso, ele se concentra especificamente nos formulários de autenticação, autorização, contas de usuário e funções.</span><span class="sxs-lookup"><span data-stu-id="52ac3-130">Rather, it focuses specifically on forms authentication, authorization, user accounts, and roles.</span></span> <span data-ttu-id="52ac3-131">Enquanto alguns conceitos de segurança revolução em torno desses problemas são discutidos nesta série, outros são deixados inexplorado.</span><span class="sxs-lookup"><span data-stu-id="52ac3-131">While some security concepts revolving around these issues are discussed in this series, others are left unexplored.</span></span>


## <a name="authentication-authorization-user-accounts-and-roles"></a><span data-ttu-id="52ac3-132">Autenticação, autorização, contas de usuário e funções</span><span class="sxs-lookup"><span data-stu-id="52ac3-132">Authentication, Authorization, User Accounts, and Roles</span></span>

<span data-ttu-id="52ac3-133">Autenticação, autorização, contas de usuário e funções são quatro termos que serão usados com muita frequência em toda esta série de tutoriais, portanto, eu gostaria de Reserve um tempo rápido para definir esses termos dentro do contexto de segurança da web.</span><span class="sxs-lookup"><span data-stu-id="52ac3-133">Authentication, authorization, user accounts, and roles are four terms that will be used very often throughout this tutorial series, so I'd like to take a quick moment to define these terms within the context of web security.</span></span> <span data-ttu-id="52ac3-134">Em um modelo cliente-servidor, como a Internet, há muitos cenários em que o servidor precisa identificar o cliente está fazendo a solicitação.</span><span class="sxs-lookup"><span data-stu-id="52ac3-134">In a client-server model, such as the Internet, there are many scenarios in which the server needs to identify the client making the request.</span></span> <span data-ttu-id="52ac3-135">*Autenticação* é o processo de atestar a identidade do cliente.</span><span class="sxs-lookup"><span data-stu-id="52ac3-135">*Authentication* is the process of ascertaining the client's identity.</span></span> <span data-ttu-id="52ac3-136">Um cliente que foi identificado com êxito será considerado *autenticado*.</span><span class="sxs-lookup"><span data-stu-id="52ac3-136">A client who has been successfully identified is said to be *authenticated*.</span></span> <span data-ttu-id="52ac3-137">Um cliente não identificado é considerado *não autenticado* ou *anônimo*.</span><span class="sxs-lookup"><span data-stu-id="52ac3-137">An unidentified client is said to be *unauthenticated* or *anonymous*.</span></span>

<span data-ttu-id="52ac3-138">Sistemas de autenticação segura envolvem a pelo menos um dos três observações a seguir: [algo que você sabe, algo que você tem, ou algo que você é](http://www.cs.cornell.edu/Courses/cs513/2005fa/NNLauthPeople.html).</span><span class="sxs-lookup"><span data-stu-id="52ac3-138">Secure authentication systems involve at least one of the following three facets: [something you know, something you have, or something you are](http://www.cs.cornell.edu/Courses/cs513/2005fa/NNLauthPeople.html).</span></span> <span data-ttu-id="52ac3-139">A maioria dos aplicativos web confie em algo que sabe que o cliente, como uma senha ou um PIN.</span><span class="sxs-lookup"><span data-stu-id="52ac3-139">Most web applications rely on something the client knows, such as a password or a PIN.</span></span> <span data-ttu-id="52ac3-140">As informações usadas para identificar um usuário - seu nome de usuário e senha, por exemplo - são denominados *credenciais*.</span><span class="sxs-lookup"><span data-stu-id="52ac3-140">The information used to identify a user - her username and password, for example - are referred to as *credentials*.</span></span> <span data-ttu-id="52ac3-141">Esta série de tutoriais enfoca *autenticação de formulários*, que é um modelo de autenticação, onde os usuários fazer logon site fornecendo suas credenciais em um formulário de página da web.</span><span class="sxs-lookup"><span data-stu-id="52ac3-141">This tutorial series focuses on *forms authentication*, which is an authentication model where users log in to the site by providing their credentials in a web page form.</span></span> <span data-ttu-id="52ac3-142">Todos tivemos esse tipo de autenticação antes.</span><span class="sxs-lookup"><span data-stu-id="52ac3-142">We have all experienced this type of authentication before.</span></span> <span data-ttu-id="52ac3-143">Vá para qualquer site de comércio eletrônico.</span><span class="sxs-lookup"><span data-stu-id="52ac3-143">Go to any eCommerce site.</span></span> <span data-ttu-id="52ac3-144">Quando você estiver pronto para fazer check-out será solicitado para fazer logon digitando seu nome de usuário e senha nas caixas de texto em uma página da web.</span><span class="sxs-lookup"><span data-stu-id="52ac3-144">When you are ready to check out you are asked to log in by entering your username and password into textboxes on a web page.</span></span>

<span data-ttu-id="52ac3-145">Além de identificar os clientes, um servidor talvez precise limitar quais recursos ou funcionalidades são acessíveis, dependendo do cliente que fez a solicitação.</span><span class="sxs-lookup"><span data-stu-id="52ac3-145">In addition to identifying clients, a server may need to limit what resources or functionalities are accessible depending on the client making the request.</span></span> <span data-ttu-id="52ac3-146">*Autorização* é o processo de determinar se um determinado usuário tem autoridade para acessar um determinado recurso ou funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="52ac3-146">*Authorization* is the process of determining whether a particular user has the authority to access a specific resource or functionality.</span></span>

<span data-ttu-id="52ac3-147">Um *conta de usuário* é um repositório para manter informações sobre um determinado usuário.</span><span class="sxs-lookup"><span data-stu-id="52ac3-147">A *user account* is a store for persisting information about a particular user.</span></span> <span data-ttu-id="52ac3-148">Contas de usuário com o mínimo devem incluir informações que identificam exclusivamente o usuário, como nome de logon do usuário e senha.</span><span class="sxs-lookup"><span data-stu-id="52ac3-148">User accounts must minimally include information that uniquely identifies the user, such as the user's login name and password.</span></span> <span data-ttu-id="52ac3-149">Junto com essas informações essenciais, contas de usuário podem incluir coisas como: endereço de email do usuário; a data e hora que a conta foi criada; a data e hora que da última eles conectaram; nome e sobrenome; número de telefone; e o endereço para correspondência.</span><span class="sxs-lookup"><span data-stu-id="52ac3-149">Along with this essential information, user accounts may include things like: the user's email address; the date and time the account was created; the date and time they last logged in; first and last name; phone number; and mailing address.</span></span> <span data-ttu-id="52ac3-150">Ao usar a autenticação de formulários, informações de conta de usuário normalmente são armazenadas no banco de dados relacional como o Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="52ac3-150">When using forms authentication, user account information is typically stored in a relational database like Microsoft SQL Server.</span></span>

<span data-ttu-id="52ac3-151">Aplicativos da Web que dá suporte a contas de usuário, opcionalmente, podem agrupar usuários em *funções*.</span><span class="sxs-lookup"><span data-stu-id="52ac3-151">Web applications that support user accounts may optionally group users into *roles*.</span></span> <span data-ttu-id="52ac3-152">Uma função é simplesmente um rótulo que é aplicado a um usuário e fornece uma abstração para definir regras de autorização e a funcionalidade de nível de página.</span><span class="sxs-lookup"><span data-stu-id="52ac3-152">A role is simply a label that is applied to a user and provides an abstraction for defining authorization rules and page-level functionality.</span></span> <span data-ttu-id="52ac3-153">Por exemplo, um site pode incluir uma função de administrador com as regras de autorização que proíbem a qualquer pessoa, mas um administrador para acessar um determinado conjunto de páginas da web.</span><span class="sxs-lookup"><span data-stu-id="52ac3-153">For example, a website might include an Administrator role with authorization rules that prohibit anyone but an Administrator to access a particular set of web pages.</span></span> <span data-ttu-id="52ac3-154">Além disso, uma variedade de páginas que são acessíveis a todos os usuários (incluindo a não administradores) pode exibir dados adicionais ou oferecer funcionalidade extra quando acessadas por usuários na função de administradores.</span><span class="sxs-lookup"><span data-stu-id="52ac3-154">Moreover, a variety of pages that are accessible to all users (including non-Administrators) might display additional data or offer extra functionality when visited by users in the Administrators role.</span></span> <span data-ttu-id="52ac3-155">Usando funções, podemos definir essas regras de autorização em uma base de função por função em vez de por usuário.</span><span class="sxs-lookup"><span data-stu-id="52ac3-155">Using roles, we can define these authorization rules on a role-by-role basis rather than user-by-user.</span></span>

## <a name="authenticating-users-in-an-aspnet-application"></a><span data-ttu-id="52ac3-156">Autenticação de usuários em um aplicativo ASP.NET</span><span class="sxs-lookup"><span data-stu-id="52ac3-156">Authenticating Users in an ASP.NET Application</span></span>

<span data-ttu-id="52ac3-157">Quando um usuário insere uma URL na janela de endereço de seu navegador ou cliques em um link, o navegador faz uma [protocolo HTTP (Hypertext Transfer)](http://en.wikipedia.org/wiki/HTTP) a solicitação para o servidor web para o conteúdo especificado, seja ele um ASP.NET de página, uma imagem, um JavaScript arquivo ou qualquer outro tipo de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="52ac3-157">When a user enters a URL into their browser's address window or clicks on a link, the browser makes a [Hypertext Transfer Protocol (HTTP)](http://en.wikipedia.org/wiki/HTTP) request to the web server for the specified content, be it an ASP.NET page, an image, a JavaScript file, or any other type of content.</span></span> <span data-ttu-id="52ac3-158">O servidor web está encarregado de retornar o conteúdo solicitado.</span><span class="sxs-lookup"><span data-stu-id="52ac3-158">The web server is tasked with returning the requested content.</span></span> <span data-ttu-id="52ac3-159">Dessa forma, ele deve determinar uma série de coisas sobre a solicitação, incluindo quem fez a solicitação e se a identidade está autorizada para recuperar o conteúdo solicitado.</span><span class="sxs-lookup"><span data-stu-id="52ac3-159">In doing so, it must determine a number of things about the request, including who made the request and whether the identity is authorized to retrieve the requested content.</span></span>

<span data-ttu-id="52ac3-160">Por padrão, os navegadores enviam solicitações HTTP que não têm qualquer tipo de informações de identificação.</span><span class="sxs-lookup"><span data-stu-id="52ac3-160">By default, browsers send HTTP requests that lack any sort of identification information.</span></span> <span data-ttu-id="52ac3-161">Mas, se o navegador incluem informações de autenticação, em seguida, o servidor web inicia o fluxo de trabalho de autenticação, que tenta identificar o cliente está fazendo a solicitação.</span><span class="sxs-lookup"><span data-stu-id="52ac3-161">But if the browser does include authentication information then the web server starts the authentication workflow, which attempts to identify the client making the request.</span></span> <span data-ttu-id="52ac3-162">As etapas do fluxo de trabalho de autenticação dependem do tipo de autenticação que está sendo usado pelo aplicativo web.</span><span class="sxs-lookup"><span data-stu-id="52ac3-162">The steps of the authentication workflow depend on the type of authentication being used by the web application.</span></span> <span data-ttu-id="52ac3-163">ASP.NET oferece suporte a três tipos de autenticação: Windows, Passport e formulários.</span><span class="sxs-lookup"><span data-stu-id="52ac3-163">ASP.NET supports three types of authentication: Windows, Passport, and forms.</span></span> <span data-ttu-id="52ac3-164">Esta série de tutoriais se concentra na autenticação de formulários, mas vamos levar um minuto para comparar e contrastar os repositórios de usuário de autenticação do Windows e o fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="52ac3-164">This tutorial series focuses on forms authentication, but let's take a minute to compare and contrast Windows authentication user stores and workflow.</span></span>

### <a name="authentication-via-windows-authentication"></a><span data-ttu-id="52ac3-165">Autenticação por meio da autenticação do Windows</span><span class="sxs-lookup"><span data-stu-id="52ac3-165">Authentication via Windows Authentication</span></span>

<span data-ttu-id="52ac3-166">O fluxo de trabalho de autenticação do Windows usa uma das seguintes técnicas de autenticação:</span><span class="sxs-lookup"><span data-stu-id="52ac3-166">The Windows authentication workflow uses one of the following authentication techniques:</span></span>

- <span data-ttu-id="52ac3-167">Autenticação básica</span><span class="sxs-lookup"><span data-stu-id="52ac3-167">Basic authentication</span></span>
- <span data-ttu-id="52ac3-168">Autenticação Digest</span><span class="sxs-lookup"><span data-stu-id="52ac3-168">Digest authentication</span></span>
- <span data-ttu-id="52ac3-169">Autenticação integrada do Windows</span><span class="sxs-lookup"><span data-stu-id="52ac3-169">Windows Integrated Authentication</span></span>

<span data-ttu-id="52ac3-170">Todas as três técnicas funcionam em aproximadamente da mesma forma: quando um não autorizado, chega de solicitação anônima, o servidor web envia de volta uma resposta HTTP que indica que a autorização é necessária para continuar.</span><span class="sxs-lookup"><span data-stu-id="52ac3-170">All three techniques work in roughly the same way: when an unauthorized, anonymous request arrives, the web server sends back an HTTP response that indicates that authorization is required to continue.</span></span> <span data-ttu-id="52ac3-171">O navegador, em seguida, exibe uma caixa de diálogo modal que solicita ao usuário seu nome de usuário e senha (veja a Figura 1).</span><span class="sxs-lookup"><span data-stu-id="52ac3-171">The browser then displays a modal dialog box that prompts the user for their username and password (see Figure 1).</span></span> <span data-ttu-id="52ac3-172">Essas informações são enviadas, em seguida, volta para o servidor web por meio de um cabeçalho HTTP.</span><span class="sxs-lookup"><span data-stu-id="52ac3-172">This information is then sent back to the web server via an HTTP header.</span></span>


![Caixa de diálogo Modal solicita ao usuário credenciais](security-basics-and-asp-net-support-cs/_static/image1.png)

<span data-ttu-id="52ac3-174">**Figura 1**: Caixa de diálogo Modal solicita ao usuário credenciais</span><span class="sxs-lookup"><span data-stu-id="52ac3-174">**Figure 1**: A Modal Dialog Box Prompts the User for His Credentials</span></span>


<span data-ttu-id="52ac3-175">As credenciais fornecidas são validadas em relação a Store de usuário do Windows do servidor web.</span><span class="sxs-lookup"><span data-stu-id="52ac3-175">The supplied credentials are validated against the web server's Windows User Store.</span></span> <span data-ttu-id="52ac3-176">Isso significa que cada usuário autenticado no aplicativo web deve ter uma conta do Windows em sua organização.</span><span class="sxs-lookup"><span data-stu-id="52ac3-176">This means that each authenticated user in your web application must have a Windows account in your organization.</span></span> <span data-ttu-id="52ac3-177">Isso é comum em cenários de intranet.</span><span class="sxs-lookup"><span data-stu-id="52ac3-177">This is commonplace in intranet scenarios.</span></span> <span data-ttu-id="52ac3-178">Na verdade, ao usar a autenticação integrada do Windows em uma configuração de intranet, o navegador fornece automaticamente o servidor web com as credenciais usadas para efetuar logon na rede, suprimindo, assim, a caixa de diálogo mostrada na Figura 1.</span><span class="sxs-lookup"><span data-stu-id="52ac3-178">In fact, when using Windows Integrated Authentication in an intranet setting, the browser automatically provides the web server with the credentials used to log on to the network, thereby suppressing the dialog box shown in Figure 1.</span></span> <span data-ttu-id="52ac3-179">Enquanto a autenticação do Windows é excelente para aplicativos de intranet, é impraticável normalmente para aplicativos da Internet, pois você não deseja criar contas do Windows para cada usuário que se inscreve em seu site.</span><span class="sxs-lookup"><span data-stu-id="52ac3-179">While Windows authentication is great for intranet applications, it is usually unfeasible for Internet applications since you do not want to create Windows accounts for each and every user who signs up at your site.</span></span>

### <a name="authentication-via-forms-authentication"></a><span data-ttu-id="52ac3-180">Autenticação por meio de autenticação de formulários</span><span class="sxs-lookup"><span data-stu-id="52ac3-180">Authentication via Forms Authentication</span></span>

<span data-ttu-id="52ac3-181">Autenticação de formulários, por outro lado, é ideal para aplicativos web da Internet.</span><span class="sxs-lookup"><span data-stu-id="52ac3-181">Forms authentication, on the other hand, is ideal for Internet web applications.</span></span> <span data-ttu-id="52ac3-182">Lembre-se que a autenticação de formulários identifica o usuário, solicitando que eles insiram suas credenciais por meio de um formulário da web.</span><span class="sxs-lookup"><span data-stu-id="52ac3-182">Recall that forms authentication identifies the user by prompting them to enter their credentials through a web form.</span></span> <span data-ttu-id="52ac3-183">Consequentemente, quando um usuário tenta acessar um recurso não autorizado, eles são redirecionados automaticamente para a página de logon onde eles podem digitar suas credenciais.</span><span class="sxs-lookup"><span data-stu-id="52ac3-183">Consequently, when a user attempts to access an unauthorized resource, they are automatically redirected to the login page where they can enter their credentials.</span></span> <span data-ttu-id="52ac3-184">As credenciais enviadas, em seguida, são validadas em relação a um repositório de usuário personalizada - normalmente, um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="52ac3-184">The submitted credentials are then validated against a custom user store - usually a database.</span></span>

<span data-ttu-id="52ac3-185">Depois de verificar as credenciais enviadas, uma *tíquete de autenticação de formulários* é criado para o usuário.</span><span class="sxs-lookup"><span data-stu-id="52ac3-185">After verifying the submitted credentials, a *forms authentication ticket* is created for the user.</span></span> <span data-ttu-id="52ac3-186">Esse tíquete indica que o usuário foi autenticado e inclui informações de identifica, como o nome de usuário.</span><span class="sxs-lookup"><span data-stu-id="52ac3-186">This ticket indicates that the user has been authenticated and includes identifying information, such as the username.</span></span> <span data-ttu-id="52ac3-187">O tíquete de autenticação de formulários (normalmente) é armazenado como um cookie no computador cliente.</span><span class="sxs-lookup"><span data-stu-id="52ac3-187">The forms authentication ticket is (typically) stored as a cookie on the client computer.</span></span> <span data-ttu-id="52ac3-188">Portanto, visitas subsequentes ao site incluem o tíquete de autenticação de formulários na solicitação HTTP, permitindo, assim, o aplicativo web identificar o usuário depois de ter conectado.</span><span class="sxs-lookup"><span data-stu-id="52ac3-188">Therefore, subsequent visits to the website include the forms authentication ticket in the HTTP request, thereby enabling the web application to identify the user once they have logged in.</span></span>

<span data-ttu-id="52ac3-189">Figura 2 ilustra o fluxo de trabalho de autenticação de formulários de uma posição vantajosa alto nível.</span><span class="sxs-lookup"><span data-stu-id="52ac3-189">Figure 2 illustrates the forms authentication workflow from a high-level vantage point.</span></span> <span data-ttu-id="52ac3-190">Observe como as partes de autenticação e autorização no ASP.NET agir como duas entidades separadas.</span><span class="sxs-lookup"><span data-stu-id="52ac3-190">Notice how the authentication and authorization pieces in ASP.NET act as two separate entities.</span></span> <span data-ttu-id="52ac3-191">O sistema de autenticação de formulários identifica o usuário (ou relatórios que eles são anônimos).</span><span class="sxs-lookup"><span data-stu-id="52ac3-191">The forms authentication system identifies the user (or reports that they are anonymous).</span></span> <span data-ttu-id="52ac3-192">O sistema de autorização é o que determina se o usuário tem acesso ao recurso solicitado.</span><span class="sxs-lookup"><span data-stu-id="52ac3-192">The authorization system is what determines whether the user has access to the requested resource.</span></span> <span data-ttu-id="52ac3-193">Se o usuário está autorizado (como são na Figura 2 ao tentar visitar anonimamente ProtectedPage.aspx), o sistema de autorização informa que o usuário foi negado, fazendo com que os formulários de sistema de autenticação redirecionar automaticamente o usuário para a página de logon.</span><span class="sxs-lookup"><span data-stu-id="52ac3-193">If the user is unauthorized (as they are in Figure 2 when attempting to anonymously visit ProtectedPage.aspx), the authorization system reports that the user is denied, causing the forms authentication system to automatically redirect the user to the login page.</span></span>

<span data-ttu-id="52ac3-194">Depois que o usuário fez logon com êxito, as solicitações HTTP subsequentes incluem o tíquete de autenticação de formulários.</span><span class="sxs-lookup"><span data-stu-id="52ac3-194">Once the user has successfully logged in, subsequent HTTP requests include the forms authentication ticket.</span></span> <span data-ttu-id="52ac3-195">O sistema de autenticação de formulários simplesmente identifica o usuário – ele é o sistema de autorização que determina se o usuário pode acessar o recurso solicitado.</span><span class="sxs-lookup"><span data-stu-id="52ac3-195">The forms authentication system merely identifies the user - it is the authorization system that determines whether the user can access the requested resource.</span></span>


![O fluxo de trabalho de autenticação de formulários](security-basics-and-asp-net-support-cs/_static/image2.png)

<span data-ttu-id="52ac3-197">**Figura 2**: O fluxo de trabalho de autenticação de formulários</span><span class="sxs-lookup"><span data-stu-id="52ac3-197">**Figure 2**: The Forms Authentication Workflow</span></span>


<span data-ttu-id="52ac3-198">Podemos aprofundarão sobre a autenticação de formulários muito mais detalhadamente nos próximos dois tutoriais,[uma visão geral de formulários de autenticação](an-overview-of-forms-authentication-cs.md) e [configuração de autenticação de formulários e tópicos avançados](forms-authentication-configuration-and-advanced-topics-cs.md).</span><span class="sxs-lookup"><span data-stu-id="52ac3-198">We will dig into forms authentication in much greater detail in the next two tutorials,[An Overview of Forms Authentication](an-overview-of-forms-authentication-cs.md) and [Forms Authentication Configuration and Advanced Topics](forms-authentication-configuration-and-advanced-topics-cs.md).</span></span> <span data-ttu-id="52ac3-199">Para obter mais informações sobre o ASP. Opções de autenticação da rede, consulte [autenticação do ASP.NET](https://msdn.microsoft.com/library/eeyk640h.aspx).</span><span class="sxs-lookup"><span data-stu-id="52ac3-199">For more on ASP.NET's authentication options, see [ASP.NET Authentication](https://msdn.microsoft.com/library/eeyk640h.aspx).</span></span>

## <a name="limiting-access-to-web-pages-directories-and-page-functionality"></a><span data-ttu-id="52ac3-200">Limitando o acesso a páginas da Web, diretórios e funcionalidade de página</span><span class="sxs-lookup"><span data-stu-id="52ac3-200">Limiting Access to Web Pages, Directories, and Page Functionality</span></span>

<span data-ttu-id="52ac3-201">O ASP.NET inclui duas maneiras de determinar se um determinado usuário tem autoridade para acessar um determinado arquivo ou diretório:</span><span class="sxs-lookup"><span data-stu-id="52ac3-201">ASP.NET includes two ways to determine whether a particular user has authority to access a specific file or directory:</span></span>

- <span data-ttu-id="52ac3-202">**Autorização de arquivo** – uma vez que as páginas ASP.NET e serviços da web são implementados como arquivos que residem no sistema de arquivos do servidor web, acesso a esses arquivos podem ser especificados por meio de listas de controle de acesso (ACLs).</span><span class="sxs-lookup"><span data-stu-id="52ac3-202">**File authorization** - since ASP.NET pages and web services are implemented as files that reside on the web server's file system, access to these files can be specified through Access Control Lists (ACLs).</span></span> <span data-ttu-id="52ac3-203">Autorização de arquivo é mais comumente usada com a autenticação do Windows porque as ACLs são as permissões que se aplicam a contas do Windows.</span><span class="sxs-lookup"><span data-stu-id="52ac3-203">File authorization is most commonly used with Windows authentication because ACLs are permissions that apply to Windows accounts.</span></span> <span data-ttu-id="52ac3-204">Ao usar a autenticação de formulários, todas as solicitações de nível de sistema de arquivo e sistema operacional são executadas da mesma conta do Windows, independentemente do usuário visitar o site.</span><span class="sxs-lookup"><span data-stu-id="52ac3-204">When using forms authentication, all operating system- and file system-level requests are executed by the same Windows account, regardless of the user visiting the site.</span></span>
- <span data-ttu-id="52ac3-205">**Autorização de URL**-com autorização de URL, o desenvolvedor de página especifica as regras de autorização no Web. config. Essas regras de autorização especificam quais usuários ou funções têm permissão para acessar ou são negadas de acessar determinadas páginas ou diretórios no aplicativo.</span><span class="sxs-lookup"><span data-stu-id="52ac3-205">**URL authorization**- with URL authorization, the page developer specifies authorization rules in Web.config. These authorization rules specify what users or roles are allowed to access or are denied from accessing certain pages or directories in the application.</span></span>

<span data-ttu-id="52ac3-206">Autorização de arquivo e a autorização de URL definem as regras de autorização para acessar uma página específica do ASP.NET ou para todas as páginas do ASP.NET em um diretório específico.</span><span class="sxs-lookup"><span data-stu-id="52ac3-206">File authorization and URL authorization define authorization rules for accessing a particular ASP.NET page or for all ASP.NET pages in a particular directory.</span></span> <span data-ttu-id="52ac3-207">Usando essas técnicas podemos pode instruir o ASP.NET para negar as solicitações para uma página específica para um determinado usuário, ou permitir o acesso a um conjunto de usuários e negar acesso a todos os outros.</span><span class="sxs-lookup"><span data-stu-id="52ac3-207">Using these techniques we can instruct ASP.NET to deny requests to a particular page for a particular user, or allow access to a set of users and deny access to everyone else.</span></span> <span data-ttu-id="52ac3-208">E quanto a cenários em que todos os usuários podem acessar a página, mas a funcionalidade da página depende do usuário?</span><span class="sxs-lookup"><span data-stu-id="52ac3-208">What about scenarios where all of the users can access the page, but the page's functionality depends on the user?</span></span> <span data-ttu-id="52ac3-209">Por exemplo, muitos sites que dão suporte a contas de usuário têm páginas que exibem conteúdo diferente ou dados para usuários autenticados em comparação com os usuários anônimos.</span><span class="sxs-lookup"><span data-stu-id="52ac3-209">For example, many sites that support user accounts have pages that display different content or data for authenticated users versus anonymous users.</span></span> <span data-ttu-id="52ac3-210">Um usuário anônimo pode ver um link para fazer logon site, ao passo que um usuário autenticado em vez disso, verá uma mensagem, como, bem-vindo novamente, *nome de usuário* juntamente com um link para fazer logoff. Outro exemplo: ao exibir um item em um site de leilões você veja informações diferentes dependendo se você for um ofertante ou aquele auctioning o item.</span><span class="sxs-lookup"><span data-stu-id="52ac3-210">An anonymous user might see a link to log in to the site, whereas an authenticated user would instead see a message like, Welcome back, *Username* along with a link to log out. Another example: when viewing an item at an auction site you see different information depending on whether you are a bidder or the one auctioning the item.</span></span>

<span data-ttu-id="52ac3-211">Esses ajustes de nível de página podem ser feitos de forma declarativa ou programaticamente.</span><span class="sxs-lookup"><span data-stu-id="52ac3-211">Such page-level adjustments can be accomplished declaratively or programmatically.</span></span> <span data-ttu-id="52ac3-212">Mostrar conteúdo diferente para anônimo que usuários autenticados, basta arrastar uma [controle LoginView](https://msdn.microsoft.com/library/system.web.ui.webcontrols.loginview.aspx) em sua página e insira o conteúdo apropriado em seus modelos LoginView e LoggedInTemplate.</span><span class="sxs-lookup"><span data-stu-id="52ac3-212">To show different content for anonymous than authenticated users, simply drag a [LoginView control](https://msdn.microsoft.com/library/system.web.ui.webcontrols.loginview.aspx) onto your page and enter the appropriate content into its AnonymousTemplate and LoggedInTemplate templates.</span></span> <span data-ttu-id="52ac3-213">Como alternativa, você pode determinar de forma programática se a solicitação atual é autenticada, quem é o usuário e as funções que eles pertencem a (se houver).</span><span class="sxs-lookup"><span data-stu-id="52ac3-213">Alternatively, you can programmatically determine whether the current request is authenticated, who the user is, and what roles they belong to (if any).</span></span> <span data-ttu-id="52ac3-214">Você pode usar essas informações para, em seguida, mostrar ou ocultar colunas em uma grade ou painéis na página.</span><span class="sxs-lookup"><span data-stu-id="52ac3-214">You can use this information to then show or hide columns in a grid or Panels on the page.</span></span>

<span data-ttu-id="52ac3-215">Esta série inclui três tutoriais que se concentram na autorização.</span><span class="sxs-lookup"><span data-stu-id="52ac3-215">This series includes three tutorials that focus on authorization.</span></span> <span data-ttu-id="52ac3-216">***Autorização baseada em usuário***examina como limitar o acesso a uma página ou páginas em um diretório para contas de usuário específicas; ***Autorização de função baseado*** examina fornecendo as regras de autorização na função de nível; por fim, o ***exibindo conteúdo com base no momento, conectado no usuário*** tutorial explora a modificação de um determinado conteúdo e funcionalidade com base no usuário visitar a página da página.</span><span class="sxs-lookup"><span data-stu-id="52ac3-216">***User-Based Authorization***examines how to limit access to a page or pages in a directory for specific user accounts; ***Role-Based Authorization*** looks at supplying authorization rules at the role level; lastly, the ***Displaying Content Based on the Currently Logged In User*** tutorial explores modifying a particular page's content and functionality based on the user visiting the page.</span></span> <span data-ttu-id="52ac3-217">Para obter mais informações sobre o ASP. Opções de autorização do NET, consulte [autorização ASP.NET](https://msdn.microsoft.com/library/wce3kxhd.aspx).</span><span class="sxs-lookup"><span data-stu-id="52ac3-217">For more on ASP.NET's authorization options, see [ASP.NET Authorization](https://msdn.microsoft.com/library/wce3kxhd.aspx).</span></span>


## <a name="user-accounts-and-roles"></a><span data-ttu-id="52ac3-218">Contas de usuário e funções</span><span class="sxs-lookup"><span data-stu-id="52ac3-218">User Accounts and Roles</span></span>

<span data-ttu-id="52ac3-219">ASP. Autenticação de formulários do NET oferece uma infra-estrutura para os usuários faça logon em um site e têm seu estado autenticado memorizado entre visitas à página.</span><span class="sxs-lookup"><span data-stu-id="52ac3-219">ASP.NET's forms authentication provides an infrastructure for users to log in to a site and have their authenticated state remembered across page visits.</span></span> <span data-ttu-id="52ac3-220">E a autorização de URL oferece uma estrutura para limitar o acesso a arquivos específicos ou pastas em um aplicativo ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="52ac3-220">And URL authorization offers a framework for limiting access to specific files or folders in an ASP.NET application.</span></span> <span data-ttu-id="52ac3-221">Nenhum desses recursos, no entanto, fornece um meio para armazenar informações de conta de usuário ou gerenciar funções.</span><span class="sxs-lookup"><span data-stu-id="52ac3-221">Neither feature, however, supplies a means for storing user account information or managing roles.</span></span>

<span data-ttu-id="52ac3-222">Antes do ASP.NET 2.0, os desenvolvedores eram responsáveis por criar seus próprios armazenamentos de usuário e a função.</span><span class="sxs-lookup"><span data-stu-id="52ac3-222">Prior to ASP.NET 2.0, developers were responsible for creating their own user and role stores.</span></span> <span data-ttu-id="52ac3-223">Eles também foram sobre o gancho para criar interfaces do usuário e escrever o código do usuário essencial páginas relacionadas a contas, como a página de logon e a página para criar uma nova conta, entre outros.</span><span class="sxs-lookup"><span data-stu-id="52ac3-223">They were also on the hook for designing the user interfaces and writing the code for essential user account-related pages like the login page and the page to create a new account, among others.</span></span> <span data-ttu-id="52ac3-224">Sem qualquer estrutura de conta de usuário interno no ASP.NET, cada desenvolvedor implementar contas de usuário tinham que chegam em suas próprias decisões de design em perguntas como, como fazer para armazenar senhas ou outras informações confidenciais? e quais as diretrizes impõem em relação à força e o comprimento da senha?</span><span class="sxs-lookup"><span data-stu-id="52ac3-224">Without any built-in user account framework in ASP.NET, each developer implementing user accounts had to arrive at his own design decisions on questions like, How do I store passwords or other sensitive information? and What guidelines should I impose regarding password length and strength?</span></span>

<span data-ttu-id="52ac3-225">Hoje, implementar contas de usuário em um aplicativo ASP.NET é muito mais simples, graças à *estrutura de associação* e controles da Web de logon interno.</span><span class="sxs-lookup"><span data-stu-id="52ac3-225">Today, implementing user accounts in an ASP.NET application is much simpler thanks to the *Membership framework* and the built-in Login Web controls.</span></span> <span data-ttu-id="52ac3-226">A estrutura de associação é um punhado de classes na [namespace Security](https://msdn.microsoft.com/library/system.web.security.aspx) que fornecem funcionalidade para executar tarefas relacionadas a contas de usuário essencial.</span><span class="sxs-lookup"><span data-stu-id="52ac3-226">The Membership framework is a handful of classes in the [System.Web.Security namespace](https://msdn.microsoft.com/library/system.web.security.aspx) that provide functionality for performing essential user account-related tasks.</span></span> <span data-ttu-id="52ac3-227">A principal classe na estrutura de associação é o [classe Membership](https://msdn.microsoft.com/library/system.web.security.membership.aspx), que tem métodos como:</span><span class="sxs-lookup"><span data-stu-id="52ac3-227">The key class in the Membership framework is the [Membership class](https://msdn.microsoft.com/library/system.web.security.membership.aspx), which has methods like:</span></span>

- <span data-ttu-id="52ac3-228">CreateUser</span><span class="sxs-lookup"><span data-stu-id="52ac3-228">CreateUser</span></span>
- <span data-ttu-id="52ac3-229">DeleteUser</span><span class="sxs-lookup"><span data-stu-id="52ac3-229">DeleteUser</span></span>
- <span data-ttu-id="52ac3-230">GetAllUsers</span><span class="sxs-lookup"><span data-stu-id="52ac3-230">GetAllUsers</span></span>
- <span data-ttu-id="52ac3-231">GetUser</span><span class="sxs-lookup"><span data-stu-id="52ac3-231">GetUser</span></span>
- <span data-ttu-id="52ac3-232">UpdateUser</span><span class="sxs-lookup"><span data-stu-id="52ac3-232">UpdateUser</span></span>
- <span data-ttu-id="52ac3-233">ValidateUser</span><span class="sxs-lookup"><span data-stu-id="52ac3-233">ValidateUser</span></span>

<span data-ttu-id="52ac3-234">A estrutura de associação usa a [modelo de provedor](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx), que separa claramente a API da estrutura de associação de sua implementação.</span><span class="sxs-lookup"><span data-stu-id="52ac3-234">The Membership framework uses the [provider model](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx), which cleanly separates the Membership framework's API from its implementation.</span></span> <span data-ttu-id="52ac3-235">Isso permite aos desenvolvedores usar uma API comum, mas permite que eles usem uma implementação que atenda às necessidades de seu aplicativo personalizado.</span><span class="sxs-lookup"><span data-stu-id="52ac3-235">This enables developers to use a common API, but empowers them to use an implementation that meets their application's custom needs.</span></span> <span data-ttu-id="52ac3-236">Em resumo, a classe de associação define a funcionalidade essencial do framework (métodos, propriedades e eventos), mas não, na verdade, forneça quaisquer detalhes de implementação.</span><span class="sxs-lookup"><span data-stu-id="52ac3-236">In short, the Membership class defines the essential functionality of the framework (the methods, properties, and events), but does not actually supply any implementation details.</span></span> <span data-ttu-id="52ac3-237">Em vez disso, os métodos da classe Membership chamar o provedor configurado, o que é o que executa o trabalho real.</span><span class="sxs-lookup"><span data-stu-id="52ac3-237">Instead, the methods of the Membership class invoke the configured provider, which is what performs the actual work.</span></span> <span data-ttu-id="52ac3-238">Por exemplo, quando CreateUser método a classe de associação do é chamada, a classe de associação não sabe os detalhes do repositório do usuário.</span><span class="sxs-lookup"><span data-stu-id="52ac3-238">For example, when the Membership class's CreateUser method is invoked, the Membership class doesn't know the details of the user store.</span></span> <span data-ttu-id="52ac3-239">Ele não sabe se os usuários estão sendo mantidos em um banco de dados ou em um arquivo XML ou em algum outro repositório.</span><span class="sxs-lookup"><span data-stu-id="52ac3-239">It doesn't know if users are being maintained in a database or in an XML file or in some other store.</span></span> <span data-ttu-id="52ac3-240">A classe Membership examina a configuração do aplicativo da web para determinar qual provedor para delegar a chamada para, e essa classe de provedor é responsável pela criação, na verdade, a nova conta de usuário no repositório do usuário apropriada.</span><span class="sxs-lookup"><span data-stu-id="52ac3-240">The Membership class examines the web application's configuration to determine what provider to delegate the call to, and that provider class is responsible for actually creating the new user account in the appropriate user store.</span></span> <span data-ttu-id="52ac3-241">Essa interação é ilustrada na Figura 3.</span><span class="sxs-lookup"><span data-stu-id="52ac3-241">This interaction is illustrated in Figure 3.</span></span>

<span data-ttu-id="52ac3-242">A Microsoft fornece duas classes de provedor de associação no .NET Framework:</span><span class="sxs-lookup"><span data-stu-id="52ac3-242">Microsoft ships two Membership provider classes in the .NET Framework:</span></span>

- <span data-ttu-id="52ac3-243">[ActiveDirectoryMembershipProvider](https://msdn.microsoft.com/library/system.web.security.activedirectorymembershipprovider.aspx) -implementa a API Membership em servidores do Active Directory e o aplicativo de modo de ADAM (Active Directory).</span><span class="sxs-lookup"><span data-stu-id="52ac3-243">[ActiveDirectoryMembershipProvider](https://msdn.microsoft.com/library/system.web.security.activedirectorymembershipprovider.aspx) - implements the Membership API in Active Directory and Active Directory Application Mode (ADAM) servers.</span></span>
- <span data-ttu-id="52ac3-244">[SqlMembershipProvider](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx) -implementa a API de associação em um banco de dados do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="52ac3-244">[SqlMembershipProvider](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx) - implements the Membership API in a SQL Server database.</span></span>

<span data-ttu-id="52ac3-245">Esta série de tutoriais se concentra exclusivamente no SqlMembershipProvider.</span><span class="sxs-lookup"><span data-stu-id="52ac3-245">This tutorial series focuses exclusively on the SqlMembershipProvider.</span></span>


[![T<span data-ttu-id="52ac3-246">Modelo permite que diferentes implementações do provedor ser perfeitamente conectado para o Framework de he&lt;/ strong&gt;]</span><span class="sxs-lookup"><span data-stu-id="52ac3-246">he Provider Model Enables Different Implementations to be Seamlessly Plugged Into the Framework&lt;/strong&gt;]</span></span>(security-basics-and-asp-net-support-cs/_static/image4.png)](security-basics-and-asp-net-support-cs/_static/image3.png)

<span data-ttu-id="52ac3-247">**Figura 03**: O modelo permite que diferentes implementações do provedor ser perfeitamente conectado para o Framework ([clique para exibir a imagem em tamanho normal](security-basics-and-asp-net-support-cs/_static/image5.png))</span><span class="sxs-lookup"><span data-stu-id="52ac3-247">**Figure 03**: The Provider Model Enables Different Implementations to be Seamlessly Plugged Into the Framework ([Click to view full-size image](security-basics-and-asp-net-support-cs/_static/image5.png))</span></span>


<span data-ttu-id="52ac3-248">O benefício do modelo do provedor é implementações alternativas podem ser desenvolvidas pela Microsoft, fornecedores de terceiros ou desenvolvedores individuais e conectadas diretamente a estrutura de associação.</span><span class="sxs-lookup"><span data-stu-id="52ac3-248">The benefit of the provider model is that alternative implementations can be developed by Microsoft, third-party vendors, or individual developers and seamlessly plugged into the Membership framework.</span></span> <span data-ttu-id="52ac3-249">Por exemplo, a Microsoft lançou [um provedor de associação para bancos de dados do Microsoft Access](https://download.microsoft.com/download/5/5/b/55bc291f-4316-4fd7-9269-dbf9edbaada8/sampleaccessproviders.vsi).</span><span class="sxs-lookup"><span data-stu-id="52ac3-249">For example, Microsoft has released [a Membership provider for Microsoft Access databases](https://download.microsoft.com/download/5/5/b/55bc291f-4316-4fd7-9269-dbf9edbaada8/sampleaccessproviders.vsi).</span></span> <span data-ttu-id="52ac3-250">Para obter mais informações sobre os provedores de associação, consulte o [Kit de ferramentas do provedor](https://msdn.microsoft.com/asp.net/aa336558.aspx), que inclui um passo a passo de provedores de associação, provedores personalizados de exemplo, mais de 100 páginas de documentação sobre o modelo de provedor e o Conclua o código-fonte para os provedores de associação internos (ou seja, ActiveDirectoryMembershipProvider e SqlMembershipProvider).</span><span class="sxs-lookup"><span data-stu-id="52ac3-250">For more information on the Membership providers, refer to the [Provider Toolkit](https://msdn.microsoft.com/asp.net/aa336558.aspx), which includes a walkthrough of the Membership providers, sample custom providers, over 100 pages of documentation on the provider model, and the complete source code for the built-in Membership providers (namely, ActiveDirectoryMembershipProvider and SqlMembershipProvider).</span></span>

<span data-ttu-id="52ac3-251">O ASP.NET 2.0 também introduziu o framework de funções.</span><span class="sxs-lookup"><span data-stu-id="52ac3-251">ASP.NET 2.0 also introduced the Roles framework.</span></span> <span data-ttu-id="52ac3-252">Como o framework de associação, a estrutura de funções é construída sobre o modelo de provedor.</span><span class="sxs-lookup"><span data-stu-id="52ac3-252">Like the Membership framework, the Roles framework is built atop the provider model.</span></span> <span data-ttu-id="52ac3-253">Sua API é exposta por meio de [classe funções](https://msdn.microsoft.com/library/system.web.security.roles.aspx) e o .NET Framework vem com três classes de provedor:</span><span class="sxs-lookup"><span data-stu-id="52ac3-253">Its API is exposed via the [Roles class](https://msdn.microsoft.com/library/system.web.security.roles.aspx) and the .NET Framework ships with three provider classes:</span></span>

- <span data-ttu-id="52ac3-254">[AuthorizationStoreRoleProvider](https://msdn.microsoft.com/library/system.web.security.authorizationstoreroleprovider.aspx) -gerencia as informações de função em um repositório de política do Gerenciador de autorização, como o Active Directory ou ADAM.</span><span class="sxs-lookup"><span data-stu-id="52ac3-254">[AuthorizationStoreRoleProvider](https://msdn.microsoft.com/library/system.web.security.authorizationstoreroleprovider.aspx) - manages role information in an authorization-manager policy store, such as Active Directory or ADAM.</span></span>
- <span data-ttu-id="52ac3-255">[SqlRoleProvider](https://msdn.microsoft.com/library/system.web.security.sqlroleprovider.aspx) -implementa as funções em um banco de dados do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="52ac3-255">[SqlRoleProvider](https://msdn.microsoft.com/library/system.web.security.sqlroleprovider.aspx) - implements roles in a SQL Server database.</span></span>
- <span data-ttu-id="52ac3-256">[WindowsTokenRoleProvider](https://msdn.microsoft.com/library/system.web.security.windowstokenroleprovider.aspx) -associa informações de função baseadas em grupo do Windows do visitante.</span><span class="sxs-lookup"><span data-stu-id="52ac3-256">[WindowsTokenRoleProvider](https://msdn.microsoft.com/library/system.web.security.windowstokenroleprovider.aspx) - associates role information based on the visitor's Windows group.</span></span> <span data-ttu-id="52ac3-257">Esse método normalmente é usado com a autenticação do Windows.</span><span class="sxs-lookup"><span data-stu-id="52ac3-257">This method is typically used with Windows authentication.</span></span>

<span data-ttu-id="52ac3-258">Esta série de tutoriais se concentra exclusivamente em SqlRoleProvider.</span><span class="sxs-lookup"><span data-stu-id="52ac3-258">This tutorial series focuses exclusively on the SqlRoleProvider.</span></span>

<span data-ttu-id="52ac3-259">Já que o modelo de provedor inclui uma única API frontal (as classes de associação e funções), é possível criar a funcionalidade em torno dessa API sem precisar se preocupar sobre os detalhes de implementação: aqueles são manipuladas pelos provedores selecionados pela página desenvolvedores.</span><span class="sxs-lookup"><span data-stu-id="52ac3-259">Since the provider model includes a single forward-facing API (the Membership and Roles classes), it is possible to build functionality around that API without having to worry about the implementation details - those are handled by the providers selected by the page developer.</span></span> <span data-ttu-id="52ac3-260">Essa API unificada permite para a Microsoft e outros fornecedores criar controles da Web que fazem interface com as estruturas de associação e funções.</span><span class="sxs-lookup"><span data-stu-id="52ac3-260">This unified API allows for Microsoft and third-party vendors to build Web controls that interface with the Membership and Roles frameworks.</span></span> <span data-ttu-id="52ac3-261">ASP.NET é fornecido com inúmeras [controles da Web de logon](https://msdn.microsoft.com/library/ms178329.aspx) para a implementação de interfaces de usuário de conta de usuário comuns.</span><span class="sxs-lookup"><span data-stu-id="52ac3-261">ASP.NET ships with a number of [Login Web controls](https://msdn.microsoft.com/library/ms178329.aspx) for implementing common user account user interfaces.</span></span> <span data-ttu-id="52ac3-262">Por exemplo, o [controle Login](https://msdn.microsoft.com/library/system.web.ui.webcontrols.login.aspx) solicita ao usuário suas credenciais, valida-os e, em seguida, registra-as por meio da autenticação de formulários.</span><span class="sxs-lookup"><span data-stu-id="52ac3-262">For example, the [Login control](https://msdn.microsoft.com/library/system.web.ui.webcontrols.login.aspx) prompts a user for their credentials, validates them, and then logs them in via forms authentication.</span></span> <span data-ttu-id="52ac3-263">O [controle LoginView](https://msdn.microsoft.com/library/system.web.ui.webcontrols.loginview.aspx) oferece modelos para exibir marcações diferentes para usuários anônimos versus usuários autenticados ou marcação diferente com base na função do usuário.</span><span class="sxs-lookup"><span data-stu-id="52ac3-263">The [LoginView control](https://msdn.microsoft.com/library/system.web.ui.webcontrols.loginview.aspx) offers templates for displaying different markup to anonymous users versus authenticated users, or different markup based on the user's role.</span></span> <span data-ttu-id="52ac3-264">E o [controle CreateUserWizard](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.aspx) fornece uma interface do usuário passo a passo para criar uma nova conta de usuário.</span><span class="sxs-lookup"><span data-stu-id="52ac3-264">And the [CreateUserWizard control](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.aspx) provides a step-by-step user interface for creating a new user account.</span></span>

<span data-ttu-id="52ac3-265">Nos bastidores os diversos controles de logon interajam com as estruturas de associação e funções.</span><span class="sxs-lookup"><span data-stu-id="52ac3-265">Underneath the covers the various Login controls interact with the Membership and Roles frameworks.</span></span> <span data-ttu-id="52ac3-266">A maioria dos controles de logon pode ser implementada sem ter que escrever uma única linha de código.</span><span class="sxs-lookup"><span data-stu-id="52ac3-266">Most Login controls can be implemented without having to write a single line of code.</span></span> <span data-ttu-id="52ac3-267">Vamos examinar esses controles mais detalhadamente em tutoriais futuros, incluindo técnicas para estender e personalizar sua funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="52ac3-267">We will examine these controls in greater detail in future tutorials, including techniques for extending and customizing their functionality.</span></span>

## <a name="summary"></a><span data-ttu-id="52ac3-268">Resumo</span><span class="sxs-lookup"><span data-stu-id="52ac3-268">Summary</span></span>

<span data-ttu-id="52ac3-269">Todos os aplicativos web que dão suporte a contas de usuário exigem recursos semelhantes, como: a capacidade dos usuários fazer logon e ter seu log em status memorizados entre visitas de página; uma página da web para os visitantes de novo criar uma conta; e a capacidade do desenvolvedor da página para especificar quais recursos, dados e funcionalidades estão disponíveis para quais usuários ou funções.</span><span class="sxs-lookup"><span data-stu-id="52ac3-269">All web applications that support user accounts require similar features, such as: the ability for users to log in and have their log in status remembered across page visits; a web page for new visitors to create an account; and the ability to the page developer to specify what resource, data, and functionality are available to what users or roles.</span></span> <span data-ttu-id="52ac3-270">As tarefas de autenticar e autorizar usuários e de gerenciamento de funções e contas de usuário é extremamente fácil de realizar em aplicativos ASP.NET graças à autenticação de formulários, a autorização de URL e as estruturas de associação e funções.</span><span class="sxs-lookup"><span data-stu-id="52ac3-270">The tasks of authenticating and authorizing users and of managing user accounts and roles is remarkably easy to accomplish in ASP.NET applications thanks to forms authentication, URL authorization, and the Membership and Roles frameworks.</span></span>

<span data-ttu-id="52ac3-271">Ao longo dos vários tutoriais próximo, examinaremos esses aspectos ao criar um aplicativo web de trabalho desde o passo a passo.</span><span class="sxs-lookup"><span data-stu-id="52ac3-271">Over the course of the next several tutorials we will examine these aspects by building a working web application from the ground up in a step-by-step fashion.</span></span> <span data-ttu-id="52ac3-272">O tutorial duas próximas, exploraremos a autenticação de formulários em detalhes.</span><span class="sxs-lookup"><span data-stu-id="52ac3-272">In the next two tutorial we will explore forms authentication in detail.</span></span> <span data-ttu-id="52ac3-273">Veremos o fluxo de trabalho de autenticação de formulários em ação, dissecar o tíquete de autenticação de formulários, discuta as questões de segurança e veja como configurar o sistema de autenticação de formulários – tudo durante a criação de um aplicativo web que permite que os visitantes fazer logon e logoff.</span><span class="sxs-lookup"><span data-stu-id="52ac3-273">We will see the forms authentication workflow in action, dissect the forms authentication ticket, discuss security concerns, and see how to configure the forms authentication system - all while building a web application that allows visitors to log in and log out.</span></span>

<span data-ttu-id="52ac3-274">Boa programação!</span><span class="sxs-lookup"><span data-stu-id="52ac3-274">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="52ac3-275">Leitura adicional</span><span class="sxs-lookup"><span data-stu-id="52ac3-275">Further Reading</span></span>

<span data-ttu-id="52ac3-276">Para obter mais informações sobre os tópicos abordados neste tutorial, consulte os seguintes recursos:</span><span class="sxs-lookup"><span data-stu-id="52ac3-276">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="52ac3-277">O ASP.NET 2.0 associação, funções, autenticação de formulários e recursos de segurança</span><span class="sxs-lookup"><span data-stu-id="52ac3-277">ASP.NET 2.0 Membership, Roles, Forms Authentication, and Security Resources</span></span>](https://weblogs.asp.net/scottgu/ASP.NET-2.0-Membership_2C00_-Roles_2C00_-Forms-Authentication_2C00_-and-Security-Resources-)
- [<span data-ttu-id="52ac3-278">Diretrizes do ASP.NET 2.0 de segurança</span><span class="sxs-lookup"><span data-stu-id="52ac3-278">ASP.NET 2.0 Security Guidelines</span></span>](https://msdn.microsoft.com/library/ms998258.aspx)
- [<span data-ttu-id="52ac3-279">Autenticação do ASP.NET</span><span class="sxs-lookup"><span data-stu-id="52ac3-279">ASP.NET Authentication</span></span>](https://msdn.microsoft.com/library/eeyk640h.aspx)
- [<span data-ttu-id="52ac3-280">Autorização de ASP.NET</span><span class="sxs-lookup"><span data-stu-id="52ac3-280">ASP.NET Authorization</span></span>](https://msdn.microsoft.com/library/wce3kxhd.aspx)
- [<span data-ttu-id="52ac3-281">Visão geral sobre controles de logon do ASP.NET</span><span class="sxs-lookup"><span data-stu-id="52ac3-281">ASP.NET Login Controls Overview</span></span>](https://msdn.microsoft.com/library/ms178329.aspx)
- [<span data-ttu-id="52ac3-282">Examinando o ASP.NET da 2.0 associação, funções e perfil</span><span class="sxs-lookup"><span data-stu-id="52ac3-282">Examining ASP.NET 2.0's Membership, Roles, and Profile</span></span>](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx)
- [<span data-ttu-id="52ac3-283">Como faço Proteger Meu Site usando associações e funções?</span><span class="sxs-lookup"><span data-stu-id="52ac3-283">How Do I: Secure My Site Using Membership and Roles?</span></span>](https://asp.net/learn/videos/video-45.aspx) <span data-ttu-id="52ac3-284">(Vídeo)</span><span class="sxs-lookup"><span data-stu-id="52ac3-284">(Video)</span></span>
- [<span data-ttu-id="52ac3-285">Introdução à associação</span><span class="sxs-lookup"><span data-stu-id="52ac3-285">Introduction to Membership</span></span>](https://msdn.microsoft.com/library/yh26yfzy.aspx)
- [<span data-ttu-id="52ac3-286">MSDN Security Developer Center</span><span class="sxs-lookup"><span data-stu-id="52ac3-286">MSDN Security Developer Center</span></span>](https://msdn.microsoft.com/security/default.aspx)
- <span data-ttu-id="52ac3-287">[Professional ASP.NET 2.0 segurança, associação e gerenciamento de função](http://www.wrox.com/WileyCDA/WroxTitle/productCd-0764596985.html) (ISBN: 978-0-7645-9698-8)</span><span class="sxs-lookup"><span data-stu-id="52ac3-287">[Professional ASP.NET 2.0 Security, Membership, and Role Management](http://www.wrox.com/WileyCDA/WroxTitle/productCd-0764596985.html) (ISBN: 978-0-7645-9698-8)</span></span>
- [<span data-ttu-id="52ac3-288">Kit de ferramentas do provedor</span><span class="sxs-lookup"><span data-stu-id="52ac3-288">Provider Toolkit</span></span>](https://msdn.microsoft.com/asp.net/aa336558.aspx)

## <a name="about-the-author"></a><span data-ttu-id="52ac3-289">Sobre o autor</span><span class="sxs-lookup"><span data-stu-id="52ac3-289">About the Author</span></span>

<span data-ttu-id="52ac3-290">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor de sete livros sobre ASP/ASP.NET e fundador da [4GuysFromRolla.com](http://www.4guysfromrolla.com), tem trabalhado com tecnologias Microsoft Web desde 1998.</span><span class="sxs-lookup"><span data-stu-id="52ac3-290">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="52ac3-291">Scott funciona como um consultor independente, instrutor e escritor.</span><span class="sxs-lookup"><span data-stu-id="52ac3-291">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="52ac3-292">Seu livro mais recente é [ *Sams Teach por conta própria ASP.NET 2.0 em 24 horas*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="52ac3-292">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="52ac3-293">Ele pode ser contatado pelo [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="52ac3-293">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="52ac3-294">ou por meio de seu blog, que pode ser encontrado em [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="52ac3-294">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="52ac3-295">Agradecimentos especiais a</span><span class="sxs-lookup"><span data-stu-id="52ac3-295">Special Thanks To</span></span>

<span data-ttu-id="52ac3-296">Esta série de tutoriais foi revisada por muitos revisores úteis.</span><span class="sxs-lookup"><span data-stu-id="52ac3-296">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="52ac3-297">Revisor de avanço para este tutorial foi neste tutorial na série foi revisada por muitos revisores útil.</span><span class="sxs-lookup"><span data-stu-id="52ac3-297">Lead reviewer for this tutorial was This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="52ac3-298">Os revisores de avanço para este tutorial incluem Alicja Maziarz, John Suru e Teresa Murphy.</span><span class="sxs-lookup"><span data-stu-id="52ac3-298">Lead reviewers for this tutorial include Alicja Maziarz, John Suru, and Teresa Murphy.</span></span> <span data-ttu-id="52ac3-299">Você está interessado na revisão Meus próximos artigos do MSDN?</span><span class="sxs-lookup"><span data-stu-id="52ac3-299">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="52ac3-300">Nesse caso, me descartar uma linha na [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="52ac3-300">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="52ac3-301">Avançar</span><span class="sxs-lookup"><span data-stu-id="52ac3-301">Next</span></span>](an-overview-of-forms-authentication-cs.md)
