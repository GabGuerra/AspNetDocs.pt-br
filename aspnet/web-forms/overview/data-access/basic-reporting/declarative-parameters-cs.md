---
uid: web-forms/overview/data-access/basic-reporting/declarative-parameters-cs
title: Parâmetros declarativos (c#) | Microsoft Docs
author: rick-anderson
description: Neste tutorial podemos ilustrar como usar um parâmetro definido como um valor embutido em código para selecionar os dados a serem exibidos em um controle DetailsView.
ms.author: riande
ms.date: 03/31/2010
ms.assetid: 603c9bd3-b895-4ec6-853b-0c81ff36d580
msc.legacyurl: /web-forms/overview/data-access/basic-reporting/declarative-parameters-cs
msc.type: authoredcontent
ms.openlocfilehash: b3bdb44a0e3dc274c056bcadae3dcf90ab3c5507
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/17/2019
ms.locfileid: "59401433"
---
# <a name="declarative-parameters-c"></a><span data-ttu-id="aca1a-103">Parâmetros declarativos (C#)</span><span class="sxs-lookup"><span data-stu-id="aca1a-103">Declarative Parameters (C#)</span></span>

<span data-ttu-id="aca1a-104">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="aca1a-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="aca1a-105">[Baixe o aplicativo de exemplo](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_5_CS.exe) ou [baixar PDF](declarative-parameters-cs/_static/datatutorial05cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="aca1a-105">[Download Sample App](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_5_CS.exe) or [Download PDF](declarative-parameters-cs/_static/datatutorial05cs1.pdf)</span></span>

> <span data-ttu-id="aca1a-106">Neste tutorial podemos ilustrar como usar um parâmetro definido como um valor embutido em código para selecionar os dados a serem exibidos em um controle DetailsView.</span><span class="sxs-lookup"><span data-stu-id="aca1a-106">In this tutorial we'll illustrate how to use a parameter set to a hard-coded value to select the data to display in a DetailsView control.</span></span>


## <a name="introduction"></a><span data-ttu-id="aca1a-107">Introdução</span><span class="sxs-lookup"><span data-stu-id="aca1a-107">Introduction</span></span>

<span data-ttu-id="aca1a-108">No [último tutorial](displaying-data-with-the-objectdatasource-cs.md) analisamos exibindo dados com os controles GridView, DetailsView e FormView associados a um controle ObjectDataSource que invocou o `GetProducts()` método da `ProductsBLL` classe.</span><span class="sxs-lookup"><span data-stu-id="aca1a-108">In the [last tutorial](displaying-data-with-the-objectdatasource-cs.md) we looked at displaying data with the GridView, DetailsView, and FormView controls bound to an ObjectDataSource control that invoked the `GetProducts()` method from the `ProductsBLL` class.</span></span> <span data-ttu-id="aca1a-109">O `GetProducts()` método retorna uma tabela de dados fortemente tipados preenchida com todos os registros do banco de dados Northwind `Products` tabela.</span><span class="sxs-lookup"><span data-stu-id="aca1a-109">The `GetProducts()` method returns a strongly-typed DataTable populated with all of the records from the Northwind database's `Products` table.</span></span> <span data-ttu-id="aca1a-110">O `ProductsBLL` classe contém métodos adicionais para retornados subconjuntos apenas dos produtos - `GetProductByProductID(productID)`, `GetProductsByCategoryID(categoryID)`, e `GetProductsBySupplierID(supplierID)`.</span><span class="sxs-lookup"><span data-stu-id="aca1a-110">The `ProductsBLL` class contains additional methods for returning just subsets of the products - `GetProductByProductID(productID)`, `GetProductsByCategoryID(categoryID)`, and `GetProductsBySupplierID(supplierID)`.</span></span> <span data-ttu-id="aca1a-111">Esses três métodos esperam um parâmetro de entrada que indica como filtrar as informações de produto retornado.</span><span class="sxs-lookup"><span data-stu-id="aca1a-111">These three methods expect an input parameter indicating how to filter the returned product information.</span></span>

<span data-ttu-id="aca1a-112">O ObjectDataSource pode ser usado para invocar métodos que esperam parâmetros de entrada, mas para isso, podemos deve especificar de onde vêm os valores para esses parâmetros.</span><span class="sxs-lookup"><span data-stu-id="aca1a-112">The ObjectDataSource can be used to invoke methods that expect input parameters, but in order to do so we must specify where the values for these parameters come from.</span></span> <span data-ttu-id="aca1a-113">Os valores de parâmetro pode ser embutido em código ou podem vir de uma variedade de origens dinâmicas, incluindo: valores de querystring, variáveis de sessão, o valor da propriedade de um controle de Web na página ou outras pessoas.</span><span class="sxs-lookup"><span data-stu-id="aca1a-113">The parameter values can be hard-coded or can come from a variety of dynamic sources, including: querystring values, Session variables, the property value of a Web control on the page, or others.</span></span>

<span data-ttu-id="aca1a-114">Para este tutorial vamos começar que ilustram como usar um parâmetro definido como um valor embutido em código.</span><span class="sxs-lookup"><span data-stu-id="aca1a-114">For this tutorial let's start by illustrating how to use a parameter set to a hard-coded value.</span></span> <span data-ttu-id="aca1a-115">Especificamente, vamos examinar adicionando um DetailsView para a página que exibe informações sobre um produto específico, ou seja, do chefe Anton mistura para Gumbo, que tem um `ProductID` de 5.</span><span class="sxs-lookup"><span data-stu-id="aca1a-115">Specifically, we'll look at adding a DetailsView to the page that displays information about a specific product, namely Chef Anton's Gumbo Mix, which has a `ProductID` of 5.</span></span> <span data-ttu-id="aca1a-116">Em seguida, veremos como definir o valor do parâmetro com base em um controle da Web.</span><span class="sxs-lookup"><span data-stu-id="aca1a-116">Next, we'll see how to set the parameter value based on a Web control.</span></span> <span data-ttu-id="aca1a-117">Em particular, usaremos uma caixa de texto para permitir que o usuário digite em um país, após o qual eles podem clicar um botão para ver a lista de fornecedores que residem nesse país.</span><span class="sxs-lookup"><span data-stu-id="aca1a-117">In particular, we'll use a TextBox to let the user type in a country, after which they can click a Button to see the list of suppliers that reside in that country.</span></span>

## <a name="using-a-hard-coded-parameter-value"></a><span data-ttu-id="aca1a-118">Usando um valor de parâmetro embutido em código</span><span class="sxs-lookup"><span data-stu-id="aca1a-118">Using a Hard-Coded Parameter Value</span></span>

<span data-ttu-id="aca1a-119">Para o primeiro exemplo, comece adicionando um controle DetailsView para o `DeclarativeParams.aspx` página o `BasicReporting` pasta.</span><span class="sxs-lookup"><span data-stu-id="aca1a-119">For the first example, start by adding a DetailsView control to the `DeclarativeParams.aspx` page in the `BasicReporting` folder.</span></span> <span data-ttu-id="aca1a-120">Na marca inteligente de DetailsView, selecione &lt;nova fonte de dados&gt; na lista suspensa lista e escolha Adicionar um ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="aca1a-120">From the DetailsView's smart tag, select &lt;New data source&gt; from the drop-down list and choose to add an ObjectDataSource.</span></span>


<span data-ttu-id="aca1a-121">[![Adicionar um ObjectDataSource para a página](declarative-parameters-cs/_static/image2.png)](declarative-parameters-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="aca1a-121">[![Add an ObjectDataSource to the Page](declarative-parameters-cs/_static/image2.png)](declarative-parameters-cs/_static/image1.png)</span></span>

<span data-ttu-id="aca1a-122">**Figura 1**: Adicionar um ObjectDataSource para a página ([clique para exibir a imagem em tamanho normal](declarative-parameters-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="aca1a-122">**Figure 1**: Add an ObjectDataSource to the Page ([Click to view full-size image](declarative-parameters-cs/_static/image3.png))</span></span>


<span data-ttu-id="aca1a-123">Isso iniciará o Assistente de escolher fonte de dados do controle ObjectDataSource automaticamente.</span><span class="sxs-lookup"><span data-stu-id="aca1a-123">This will automatically start the ObjectDataSource control's Choose Data Source wizard.</span></span> <span data-ttu-id="aca1a-124">Selecione o `ProductsBLL` classe desde a primeira tela do assistente.</span><span class="sxs-lookup"><span data-stu-id="aca1a-124">Select the `ProductsBLL` class from the first screen of the wizard.</span></span>


<span data-ttu-id="aca1a-125">[![Selecione a classe ProductsBLL](declarative-parameters-cs/_static/image5.png)](declarative-parameters-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="aca1a-125">[![Select the ProductsBLL Class](declarative-parameters-cs/_static/image5.png)](declarative-parameters-cs/_static/image4.png)</span></span>

<span data-ttu-id="aca1a-126">**Figura 2**: Selecione o `ProductsBLL` classe ([clique para exibir a imagem em tamanho normal](declarative-parameters-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="aca1a-126">**Figure 2**: Select the `ProductsBLL` Class ([Click to view full-size image](declarative-parameters-cs/_static/image6.png))</span></span>


<span data-ttu-id="aca1a-127">Como queremos exibir informações sobre um produto específico que queremos usar o `GetProductByProductID(productID)` método.</span><span class="sxs-lookup"><span data-stu-id="aca1a-127">Since we want to display information about a particular product we want to use the `GetProductByProductID(productID)` method.</span></span>


<span data-ttu-id="aca1a-128">[![Escolha o método GetProductByProductID(productID)](declarative-parameters-cs/_static/image8.png)](declarative-parameters-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="aca1a-128">[![Choose the GetProductByProductID(productID) method](declarative-parameters-cs/_static/image8.png)](declarative-parameters-cs/_static/image7.png)</span></span>

<span data-ttu-id="aca1a-129">**Figura 3**: Escolha o `GetProductByProductID(productID)` método ([clique para exibir a imagem em tamanho normal](declarative-parameters-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="aca1a-129">**Figure 3**: Choose the `GetProductByProductID(productID)` method ([Click to view full-size image](declarative-parameters-cs/_static/image9.png))</span></span>


<span data-ttu-id="aca1a-130">Uma vez que o método selecionamos inclui um parâmetro, há uma tela de mais para que o assistente, em que somos solicitados a definir o valor a ser usado para o parâmetro.</span><span class="sxs-lookup"><span data-stu-id="aca1a-130">Since the method we selected includes a parameter, there's one more screen for the wizard, where we're asked to define the value to be used for the parameter.</span></span> <span data-ttu-id="aca1a-131">A lista à esquerda mostra todos os parâmetros para o método selecionado.</span><span class="sxs-lookup"><span data-stu-id="aca1a-131">The list on the left shows all of the parameters for the selected method.</span></span> <span data-ttu-id="aca1a-132">Para `GetProductByProductID(productID)` há apenas um `productID`.</span><span class="sxs-lookup"><span data-stu-id="aca1a-132">For `GetProductByProductID(productID)` there's only one `productID`.</span></span> <span data-ttu-id="aca1a-133">À direita, podemos especificar o valor do parâmetro selecionado.</span><span class="sxs-lookup"><span data-stu-id="aca1a-133">On the right we can specify the value for the selected parameter.</span></span> <span data-ttu-id="aca1a-134">A lista de lista suspensa de origem do parâmetro enumera as várias fontes possíveis para o valor do parâmetro.</span><span class="sxs-lookup"><span data-stu-id="aca1a-134">The parameter source drop-down list enumerates the various possible sources for the parameter value.</span></span> <span data-ttu-id="aca1a-135">Como queremos especificar um valor embutido em código de 5 para o `productID` parâmetro, deixar a fonte de parâmetro como None e digitar 5, na caixa de texto DefaultValue.</span><span class="sxs-lookup"><span data-stu-id="aca1a-135">Since we want to specify a hard-coded value of 5 for the `productID` parameter, leave the Parameter source as None and enter 5 into the DefaultValue textbox.</span></span>


<span data-ttu-id="aca1a-136">[![Um Hard-Coded parâmetro de valor de 5 será usado para o parâmetro productID](declarative-parameters-cs/_static/image11.png)](declarative-parameters-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="aca1a-136">[![A Hard-Coded Parameter Value of 5 Will Be Used for the productID Parameter](declarative-parameters-cs/_static/image11.png)](declarative-parameters-cs/_static/image10.png)</span></span>

<span data-ttu-id="aca1a-137">**Figura 4**: Um Hard-Coded parâmetro de valor de 5 será usado para o `productID` parâmetro ([clique para exibir a imagem em tamanho normal](declarative-parameters-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="aca1a-137">**Figure 4**: A Hard-Coded Parameter Value of 5 Will Be Used for the `productID` Parameter ([Click to view full-size image](declarative-parameters-cs/_static/image12.png))</span></span>


<span data-ttu-id="aca1a-138">Depois de concluir o Assistente Configurar fonte de dados, a marcação de declarativa do controle ObjectDataSource inclui um `Parameter` do objeto na `SelectParameters` coleção para cada um dos parâmetros de entrada esperados pelo método definido no `SelectMethod` propriedade.</span><span class="sxs-lookup"><span data-stu-id="aca1a-138">After completing the Configure Data Source wizard, the ObjectDataSource control's declarative markup includes a `Parameter` object in the `SelectParameters` collection for each of the input parameters expected by the method defined in the `SelectMethod` property.</span></span> <span data-ttu-id="aca1a-139">Uma vez que o método que estamos usando neste exemplo espera apenas um único parâmetro de entrada, `parameterID`, há apenas uma entrada aqui.</span><span class="sxs-lookup"><span data-stu-id="aca1a-139">Since the method we're using in this example expects just a single input parameter, `parameterID`, there's only one entry here.</span></span> <span data-ttu-id="aca1a-140">O `SelectParameters` coleção pode conter qualquer classe que deriva de `Parameter` classe no `System.Web.UI.WebControls` namespace.</span><span class="sxs-lookup"><span data-stu-id="aca1a-140">The `SelectParameters` collection can contain any class that derives from the `Parameter` class in the `System.Web.UI.WebControls` namespace.</span></span> <span data-ttu-id="aca1a-141">Para a base de valores de parâmetro embutido `Parameter` classe é usada, mas para o outro parâmetro de origem opções um derivada `Parameter` classe é usada; você também pode criar seus próprios [tipos de parâmetro personalizado](http://www.leftslipper.com/ShowFaq.aspx?FaqId=11), se necessário.</span><span class="sxs-lookup"><span data-stu-id="aca1a-141">For hard-coded parameter values the base `Parameter` class is used, but for the other parameter source options a derived `Parameter` class is used; you can also create your own [custom parameter types](http://www.leftslipper.com/ShowFaq.aspx?FaqId=11), if needed.</span></span>

[!code-aspx[Main](declarative-parameters-cs/samples/sample1.aspx)]

> [!NOTE]
> <span data-ttu-id="aca1a-142">Se você estiver acompanhando em seu próprio computador a marcação declarativa você vê neste momento pode incluir valores para o `InsertMethod`, `UpdateMethod`, e `DeleteMethod` propriedades, bem como `DeleteParameters`.</span><span class="sxs-lookup"><span data-stu-id="aca1a-142">If you're following along on your own computer the declarative markup you see at this point may include values for the `InsertMethod`, `UpdateMethod`, and `DeleteMethod` properties, as well as `DeleteParameters`.</span></span> <span data-ttu-id="aca1a-143">Assistente de escolher fonte de dados do ObjectDataSource especifica automaticamente os métodos a partir de `ProductBLL` a ser usado para inserção, atualização e exclusão, portanto, a menos que você desmarcou explicitamente aqueles out, serão incluídos na marcação acima.</span><span class="sxs-lookup"><span data-stu-id="aca1a-143">The ObjectDataSource's Choose Data Source wizard automatically specifies the methods from the `ProductBLL` to use for inserting, updating, and deleting, so unless you explicitly cleared those out, they'll be included in the markup above.</span></span>


<span data-ttu-id="aca1a-144">Ao visitar essa página, os dados de controle de Web invocará o ObjectDataSource `Select` método, que chamará o `ProductsBLL` da classe `GetProductByProductID(productID)` método usando o valor embutido em código de 5 para o `productID` parâmetro de entrada.</span><span class="sxs-lookup"><span data-stu-id="aca1a-144">When visiting this page, the data Web control will invoke the ObjectDataSource's `Select` method, which will call the `ProductsBLL` class's `GetProductByProductID(productID)` method using the hard-coded value of 5 for the `productID` input parameter.</span></span> <span data-ttu-id="aca1a-145">O método retornará um fortemente tipadas `ProductDataTable` objeto que contém uma única linha com informações sobre a mistura de para Gumbo do chefe Anton (o produto com `ProductID` 5).</span><span class="sxs-lookup"><span data-stu-id="aca1a-145">The method will return a strongly-typed `ProductDataTable` object that contains a single row with information about Chef Anton's Gumbo Mix (the product with `ProductID` 5).</span></span>


<span data-ttu-id="aca1a-146">[![Para Gumbo mistura informações sobre do chefe Anton são exibidos](declarative-parameters-cs/_static/image14.png)](declarative-parameters-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="aca1a-146">[![Information About Chef Anton's Gumbo Mix are Displayed](declarative-parameters-cs/_static/image14.png)](declarative-parameters-cs/_static/image13.png)</span></span>

<span data-ttu-id="aca1a-147">**Figura 5**: Para Gumbo mistura informações sobre do chefe Anton são exibidas ([clique para exibir a imagem em tamanho normal](declarative-parameters-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="aca1a-147">**Figure 5**: Information About Chef Anton's Gumbo Mix are Displayed ([Click to view full-size image](declarative-parameters-cs/_static/image15.png))</span></span>


## <a name="setting-the-parameter-value-to-the-property-value-of-a-web-control"></a><span data-ttu-id="aca1a-148">Definindo o valor do parâmetro como o valor da propriedade de um controle de Web</span><span class="sxs-lookup"><span data-stu-id="aca1a-148">Setting the Parameter Value to the Property Value of a Web Control</span></span>

<span data-ttu-id="aca1a-149">Parâmetros do ObjectDataSource valores também podem ser definidos com base no valor de um controle da Web na página.</span><span class="sxs-lookup"><span data-stu-id="aca1a-149">The ObjectDataSource's parameter values can also be set based on the value of a Web control on the page.</span></span> <span data-ttu-id="aca1a-150">Para ilustrar isso, vamos dar uma GridView que lista todos os fornecedores que estão localizados em um país especificado pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="aca1a-150">To illustrate this, let's have a GridView that lists all of the suppliers that are located in a country specified by the user.</span></span> <span data-ttu-id="aca1a-151">Para realizar este guia de início, adicionando uma caixa de texto para a página na qual o usuário pode inserir um nome de país.</span><span class="sxs-lookup"><span data-stu-id="aca1a-151">To accomplish this start by adding a TextBox to the page into which the user can enter a country name.</span></span> <span data-ttu-id="aca1a-152">Definir esse controle de caixa de texto `ID` propriedade para `CountryName`.</span><span class="sxs-lookup"><span data-stu-id="aca1a-152">Set this TextBox control's `ID` property to `CountryName`.</span></span> <span data-ttu-id="aca1a-153">Também adicione um controle da Web de botão.</span><span class="sxs-lookup"><span data-stu-id="aca1a-153">Also add a Button Web control.</span></span>


<span data-ttu-id="aca1a-154">[![Adicione uma caixa de texto para a página com ID CountryName](declarative-parameters-cs/_static/image17.png)](declarative-parameters-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="aca1a-154">[![Add a TextBox to the Page with ID CountryName](declarative-parameters-cs/_static/image17.png)](declarative-parameters-cs/_static/image16.png)</span></span>

<span data-ttu-id="aca1a-155">**Figura 6**: Adicione uma caixa de texto para a página com `ID` `CountryName` ([clique para exibir a imagem em tamanho normal](declarative-parameters-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="aca1a-155">**Figure 6**: Add a TextBox to the Page with `ID` `CountryName` ([Click to view full-size image](declarative-parameters-cs/_static/image18.png))</span></span>


<span data-ttu-id="aca1a-156">Em seguida, adicionar um controle GridView à página e, na marca inteligente, escolha Adicionar um novo ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="aca1a-156">Next, add a GridView to the page and, from the smart tag, choose to add a new ObjectDataSource.</span></span> <span data-ttu-id="aca1a-157">Como queremos exibir select de informações do fornecedor a `SuppliersBLL` classe da primeira de tela do assistente.</span><span class="sxs-lookup"><span data-stu-id="aca1a-157">Since we want to display supplier information select the `SuppliersBLL` class from the wizard's first screen.</span></span> <span data-ttu-id="aca1a-158">Na segunda tela, escolha o `GetSuppliersByCountry(country)` método.</span><span class="sxs-lookup"><span data-stu-id="aca1a-158">From the second screen, pick the `GetSuppliersByCountry(country)` method.</span></span>


<span data-ttu-id="aca1a-159">[![Escolha o método GetSuppliersByCountry(country)](declarative-parameters-cs/_static/image20.png)](declarative-parameters-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="aca1a-159">[![Choose the GetSuppliersByCountry(country) Method](declarative-parameters-cs/_static/image20.png)](declarative-parameters-cs/_static/image19.png)</span></span>

<span data-ttu-id="aca1a-160">**Figura 7**: Escolha o `GetSuppliersByCountry(country)` método ([clique para exibir a imagem em tamanho normal](declarative-parameters-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="aca1a-160">**Figure 7**: Choose the `GetSuppliersByCountry(country)` Method ([Click to view full-size image](declarative-parameters-cs/_static/image21.png))</span></span>


<span data-ttu-id="aca1a-161">Uma vez que o `GetSuppliersByCountry(country)` método tem um parâmetro de entrada, o assistente inclui mais uma vez uma tela final para escolher o valor do parâmetro.</span><span class="sxs-lookup"><span data-stu-id="aca1a-161">Since the `GetSuppliersByCountry(country)` method has an input parameter, the wizard once again includes a final screen for choosing the parameter value.</span></span> <span data-ttu-id="aca1a-162">Neste momento, defina a origem do parâmetro de controle.</span><span class="sxs-lookup"><span data-stu-id="aca1a-162">This time, set the Parameter source to Control.</span></span> <span data-ttu-id="aca1a-163">Isso populará a lista suspensa de ControlID com os nomes dos controles na página; Selecione o `CountryName` controle da lista.</span><span class="sxs-lookup"><span data-stu-id="aca1a-163">This will populate the ControlID drop-down list with the names of the controls on the page; select the `CountryName` control from the list.</span></span> <span data-ttu-id="aca1a-164">Quando a página é visitada primeiro o `CountryName` caixa de texto estará em branco, portanto, nenhum resultado será retornado e nada é exibido.</span><span class="sxs-lookup"><span data-stu-id="aca1a-164">When the page is first visited the `CountryName` TextBox will be blank, so no results are returned and nothing is displayed.</span></span> <span data-ttu-id="aca1a-165">Se você quiser exibir algum resultado por padrão, defina a caixa de texto DefaultValue adequadamente.</span><span class="sxs-lookup"><span data-stu-id="aca1a-165">If you want to display some results by default, set the DefaultValue textbox accordingly.</span></span>


<span data-ttu-id="aca1a-166">[![Defina o valor de parâmetro para o valor do controle CountryName](declarative-parameters-cs/_static/image23.png)](declarative-parameters-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="aca1a-166">[![Set the Parameter Value to the CountryName Control Value](declarative-parameters-cs/_static/image23.png)](declarative-parameters-cs/_static/image22.png)</span></span>

<span data-ttu-id="aca1a-167">**Figura 8**: Defina o valor de parâmetro para o `CountryName` valor de controle ([clique para exibir a imagem em tamanho normal](declarative-parameters-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="aca1a-167">**Figure 8**: Set the Parameter Value to the `CountryName` Control Value ([Click to view full-size image](declarative-parameters-cs/_static/image24.png))</span></span>


<span data-ttu-id="aca1a-168">Marcação declarativa do ObjectDataSource difere um pouco nosso primeiro exemplo, usando um [ControlParameter](https://msdn.microsoft.com/library/system.web.ui.webcontrols.controlparameter.aspx) em vez do padrão `Parameter` objeto.</span><span class="sxs-lookup"><span data-stu-id="aca1a-168">The ObjectDataSource's declarative markup differs slightly from our first example, using a [ControlParameter](https://msdn.microsoft.com/library/system.web.ui.webcontrols.controlparameter.aspx) instead of the standard `Parameter` object.</span></span> <span data-ttu-id="aca1a-169">Um `ControlParameter` tem propriedades adicionais para especificar o `ID` do controle da Web e o valor da propriedade a ser usado para o parâmetro (`PropertyName`).</span><span class="sxs-lookup"><span data-stu-id="aca1a-169">A `ControlParameter` has additional properties to specify the `ID` of the Web control and the property value to use for the parameter (`PropertyName`).</span></span> <span data-ttu-id="aca1a-170">O Assistente Configurar fonte de dados foi inteligente o suficiente para determinar que, para uma caixa de texto, provavelmente desejará usar o `Text` propriedade para o valor do parâmetro.</span><span class="sxs-lookup"><span data-stu-id="aca1a-170">The Configure Data Source wizard was smart enough to determine that, for a TextBox, we'll likely want to use the `Text` property for the parameter value.</span></span> <span data-ttu-id="aca1a-171">Se, no entanto, você quiser usar um valor de propriedade diferente de controle da Web que você pode alterar o `PropertyName` valor aqui ou clicando no link "Mostrar propriedades avançadas" no assistente.</span><span class="sxs-lookup"><span data-stu-id="aca1a-171">If, however, you want to use a different property value from the Web control you can change the `PropertyName` value here or by clicking the "Show advanced properties" link in the wizard.</span></span>

[!code-aspx[Main](declarative-parameters-cs/samples/sample2.aspx)]

<span data-ttu-id="aca1a-172">Ao visitar a página pela primeira vez o `CountryName` caixa de texto está vazia.</span><span class="sxs-lookup"><span data-stu-id="aca1a-172">When visiting the page for the first time the `CountryName` TextBox is empty.</span></span> <span data-ttu-id="aca1a-173">O ObjectDataSource `Select` método ainda é chamado pelo GridView, mas um valor de `null` é passado para o `GetSuppliersByCountry(country)` método.</span><span class="sxs-lookup"><span data-stu-id="aca1a-173">The ObjectDataSource's `Select` method is still invoked by the GridView, but a value of `null` is passed into the `GetSuppliersByCountry(country)` method.</span></span> <span data-ttu-id="aca1a-174">Converte o TableAdapter o `null` em um banco de dados `NULL` valor (`DBNull.Value`), mas a consulta usada pelo `GetSuppliersByCountry(country)` método é escrito, de modo que ele não retorna qualquer valores quando um `NULL` valor for especificado para o `@CategoryID`parâmetro.</span><span class="sxs-lookup"><span data-stu-id="aca1a-174">The TableAdapter converts the `null` into a database `NULL` value (`DBNull.Value`), but the query used by the `GetSuppliersByCountry(country)` method is written such that it doesn't return any values when a `NULL` value is specified for the `@CategoryID` parameter.</span></span> <span data-ttu-id="aca1a-175">Em resumo, não há nenhum fornecedor é retornados.</span><span class="sxs-lookup"><span data-stu-id="aca1a-175">In short, no suppliers are returned.</span></span>

<span data-ttu-id="aca1a-176">Depois que o visitante entra em um país, no entanto e clica no botão Mostrar fornecedores para fazer com que um postback, o ObjectDataSource `Select` método é novamente consultado, passando o controle de caixa de texto `Text` de valor como o `country` parâmetro.</span><span class="sxs-lookup"><span data-stu-id="aca1a-176">Once the visitor enters in a country, however, and clicks the Show Suppliers button to cause a postback, the ObjectDataSource's `Select` method is requeried, passing in the TextBox control's `Text` value as the `country` parameter.</span></span>


<span data-ttu-id="aca1a-177">[![Esses fornecedores do Canadá são mostrados](declarative-parameters-cs/_static/image26.png)](declarative-parameters-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="aca1a-177">[![Those Suppliers from Canada are Shown](declarative-parameters-cs/_static/image26.png)](declarative-parameters-cs/_static/image25.png)</span></span>

<span data-ttu-id="aca1a-178">**Figura 9**: Esses fornecedores do Canadá são mostrados ([clique para exibir a imagem em tamanho normal](declarative-parameters-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="aca1a-178">**Figure 9**: Those Suppliers from Canada are Shown ([Click to view full-size image](declarative-parameters-cs/_static/image27.png))</span></span>


## <a name="showing-all-suppliers-by-default"></a><span data-ttu-id="aca1a-179">Mostrando todos os fornecedores por padrão</span><span class="sxs-lookup"><span data-stu-id="aca1a-179">Showing All Suppliers By Default</span></span>

<span data-ttu-id="aca1a-180">Em vez disso, que mostrar nenhum dos fornecedores ao primeiro exibir a página podemos querer mostrar *todos os* fornecedores a princípio, permitindo que o usuário diminuir a lista digitando um nome de país na caixa de texto.</span><span class="sxs-lookup"><span data-stu-id="aca1a-180">Rather than show none of the suppliers when first viewing the page we may want to show *all* suppliers at first, allowing the user to pare down the list by entering a country name in the TextBox.</span></span> <span data-ttu-id="aca1a-181">Quando a caixa de texto está vazia, o `SuppliersBLL` da classe `GetSuppliersByCountry(country)` método é passado um `null` de valor para o seu *`country`* parâmetro de entrada.</span><span class="sxs-lookup"><span data-stu-id="aca1a-181">When the TextBox is empty, the `SuppliersBLL` class's `GetSuppliersByCountry(country)` method is passed in a `null` value for its *`country`* input parameter.</span></span> <span data-ttu-id="aca1a-182">Isso `null` valor é então passado para baixo para a DAL `GetSupplierByCountry(country)` método, onde ele é convertido em um banco de dados `NULL` de valor para o `@Country` parâmetro na consulta a seguir:</span><span class="sxs-lookup"><span data-stu-id="aca1a-182">This `null` value is then passed down into the DAL's `GetSupplierByCountry(country)` method, where it's translated to a database `NULL` value for the `@Country` parameter in the following query:</span></span>

[!code-sql[Main](declarative-parameters-cs/samples/sample3.sql)]

<span data-ttu-id="aca1a-183">A expressão `Country = NULL` sempre retorna falso, mesmo para os registros cujo `Country` coluna tem um `NULL` valor; portanto, nenhum registro será retornado.</span><span class="sxs-lookup"><span data-stu-id="aca1a-183">The expression `Country = NULL` always returns False, even for records whose `Country` column has a `NULL` value; therefore, no records are returned.</span></span>

<span data-ttu-id="aca1a-184">Para retornar *todos os* fornecedores quando o país de caixa de texto está vazio, nós ampliamos o `GetSuppliersByCountry(country)` método na BLL para invocar o `GetSuppliers()` método quando o parâmetro de país for `null` e para chamar a DAL `GetSuppliersByCountry(country)` Caso contrário do método.</span><span class="sxs-lookup"><span data-stu-id="aca1a-184">To return *all* suppliers when the country TextBox is empty, we can augment the `GetSuppliersByCountry(country)` method in the BLL to invoke the `GetSuppliers()` method when its country parameter is `null` and to call the DAL's `GetSuppliersByCountry(country)` method otherwise.</span></span> <span data-ttu-id="aca1a-185">Isso terá o efeito de retornar todos os fornecedores quando nenhum país é especificado e o subconjunto apropriado de fornecedores, quando o parâmetro de país é incluído.</span><span class="sxs-lookup"><span data-stu-id="aca1a-185">This will have the effect of returning all suppliers when no country is specified and the appropriate subset of suppliers when the country parameter is included.</span></span>

<span data-ttu-id="aca1a-186">Alterar o `GetSuppliersByCountry(country)` método no `SuppliersBLL` classe para o seguinte:</span><span class="sxs-lookup"><span data-stu-id="aca1a-186">Change the `GetSuppliersByCountry(country)` method in the `SuppliersBLL` class to the following:</span></span>

[!code-csharp[Main](declarative-parameters-cs/samples/sample4.cs)]

<span data-ttu-id="aca1a-187">Com essa alteração de `DeclarativeParams.aspx` página mostra todos os fornecedores quando visitado pela primeira vez (ou sempre que o `CountryName` caixa de texto está vazia).</span><span class="sxs-lookup"><span data-stu-id="aca1a-187">With this change the `DeclarativeParams.aspx` page shows all of the suppliers when first visited (or whenever the `CountryName` TextBox is empty).</span></span>


<span data-ttu-id="aca1a-188">[![Todos os fornecedores estão agora são mostradas por padrão](declarative-parameters-cs/_static/image29.png)](declarative-parameters-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="aca1a-188">[![All Suppliers are Now Shown by Default](declarative-parameters-cs/_static/image29.png)](declarative-parameters-cs/_static/image28.png)</span></span>

<span data-ttu-id="aca1a-189">**Figura 10**: Todos os fornecedores estão agora são mostradas por padrão ([clique para exibir a imagem em tamanho normal](declarative-parameters-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="aca1a-189">**Figure 10**: All Suppliers are Now Shown by Default ([Click to view full-size image](declarative-parameters-cs/_static/image30.png))</span></span>


## <a name="summary"></a><span data-ttu-id="aca1a-190">Resumo</span><span class="sxs-lookup"><span data-stu-id="aca1a-190">Summary</span></span>

<span data-ttu-id="aca1a-191">Para usar métodos com parâmetros de entrada, precisamos especificar os valores para os parâmetros no ObjectDataSource `SelectParameters` coleção.</span><span class="sxs-lookup"><span data-stu-id="aca1a-191">In order to use methods with input parameters, we need to specify the values for the parameters in the ObjectDataSource's `SelectParameters` collection.</span></span> <span data-ttu-id="aca1a-192">Permitem tipos diferentes de parâmetros para o valor do parâmetro a ser obtidos de fontes diferentes.</span><span class="sxs-lookup"><span data-stu-id="aca1a-192">Different types of parameters allow for the parameter value to be obtained from different sources.</span></span> <span data-ttu-id="aca1a-193">O tipo de parâmetro padrão usa um valor embutido em código, mas tão facilmente (e sem uma linha de código) os valores de parâmetro podem ser obtidos de querystring, variáveis de sessão, cookies e até mesmo valores inseridos pelo usuário dos controles da Web na página.</span><span class="sxs-lookup"><span data-stu-id="aca1a-193">The default parameter type uses a hard-coded value, but just as easily (and without a line of code) parameter values can be obtained from the querystring, Session variables, cookies, and even user-entered values from Web controls on the page.</span></span>

<span data-ttu-id="aca1a-194">Os exemplos que vimos neste tutorial ilustrado como usar os valores de parâmetro declarativa.</span><span class="sxs-lookup"><span data-stu-id="aca1a-194">The examples we looked at in this tutorial illustrated how to use declarative parameter values.</span></span> <span data-ttu-id="aca1a-195">No entanto, poderá haver ocasiões em que podemos precisa usar uma fonte de parâmetro que não está disponível, como a data e hora atuais, ou, se estiver usando a associação, a ID de usuário do visitante nosso site.</span><span class="sxs-lookup"><span data-stu-id="aca1a-195">However, there may be times when we need to use a parameter source that's not available, such as the current date and time, or, if our site was using Membership, the User ID of the visitor.</span></span> <span data-ttu-id="aca1a-196">Para esses cenários podemos definir os valores de parâmetro por meio de programação antes do ObjectDataSource invocação de método do seu objeto subjacente.</span><span class="sxs-lookup"><span data-stu-id="aca1a-196">For such scenarios we can set the parameter values programmatically prior to the ObjectDataSource invoking its underlying object's method.</span></span> <span data-ttu-id="aca1a-197">Veremos como fazer isso na [próximo tutorial](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md).</span><span class="sxs-lookup"><span data-stu-id="aca1a-197">We'll see how to accomplish this in the [next tutorial](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md).</span></span>

<span data-ttu-id="aca1a-198">Boa programação!</span><span class="sxs-lookup"><span data-stu-id="aca1a-198">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="aca1a-199">Sobre o autor</span><span class="sxs-lookup"><span data-stu-id="aca1a-199">About the Author</span></span>

<span data-ttu-id="aca1a-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor de sete livros sobre ASP/ASP.NET e fundador da [4GuysFromRolla.com](http://www.4guysfromrolla.com), tem trabalhado com tecnologias Microsoft Web desde 1998.</span><span class="sxs-lookup"><span data-stu-id="aca1a-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="aca1a-201">Scott funciona como um consultor independente, instrutor e escritor.</span><span class="sxs-lookup"><span data-stu-id="aca1a-201">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="aca1a-202">Seu livro mais recente é [ *Sams Teach por conta própria ASP.NET 2.0 em 24 horas*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="aca1a-202">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="aca1a-203">Ele pode ser contatado pelo [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="aca1a-203">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="aca1a-204">ou por meio de seu blog, que pode ser encontrado em [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="aca1a-204">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="aca1a-205">Agradecimentos especiais a</span><span class="sxs-lookup"><span data-stu-id="aca1a-205">Special Thanks To</span></span>

<span data-ttu-id="aca1a-206">Esta série de tutoriais foi revisada por muitos revisores úteis.</span><span class="sxs-lookup"><span data-stu-id="aca1a-206">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="aca1a-207">Revisor de avanço para este tutorial foi Hilton Giesenow.</span><span class="sxs-lookup"><span data-stu-id="aca1a-207">Lead reviewer for this tutorial was Hilton Giesenow.</span></span> <span data-ttu-id="aca1a-208">Você está interessado na revisão Meus próximos artigos do MSDN?</span><span class="sxs-lookup"><span data-stu-id="aca1a-208">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="aca1a-209">Nesse caso, me descartar uma linha na [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="aca1a-209">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="aca1a-210">[Anterior](displaying-data-with-the-objectdatasource-cs.md)
> [Próximo](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)</span><span class="sxs-lookup"><span data-stu-id="aca1a-210">[Previous](displaying-data-with-the-objectdatasource-cs.md)
[Next](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)</span></span>
