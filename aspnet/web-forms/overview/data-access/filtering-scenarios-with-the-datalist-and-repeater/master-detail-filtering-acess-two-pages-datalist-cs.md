---
uid: web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-acess-two-pages-datalist-cs
title: Mestre/detalhes filtragem em duas páginas (c#) | Microsoft Docs
author: rick-anderson
description: Neste tutorial vamos examinar como separar um relatório mestre/detalhes em duas páginas. Na página 'mestre', usamos um controle Repeater para renderizar uma lista de categ...
ms.author: riande
ms.date: 10/30/2010
ms.assetid: 68b8c023-92fa-4df6-9563-1764e16e4b04
msc.legacyurl: /web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-acess-two-pages-datalist-cs
msc.type: authoredcontent
ms.openlocfilehash: 6d4f38201eaa25097dcba589f35506204d3f73a3
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/01/2019
ms.locfileid: "57031723"
---
<a name="masterdetail-filtering-across-two-pages-c"></a><span data-ttu-id="1d7bf-104">Filtragem mestre/detalhes em duas páginas (C#)</span><span class="sxs-lookup"><span data-stu-id="1d7bf-104">Master/Detail Filtering Across Two Pages (C#)</span></span>
====================
<span data-ttu-id="1d7bf-105">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="1d7bf-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="1d7bf-106">[Baixe o aplicativo de exemplo](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_34_CS.exe) ou [baixar PDF](master-detail-filtering-acess-two-pages-datalist-cs/_static/datatutorial34cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="1d7bf-106">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_34_CS.exe) or [Download PDF](master-detail-filtering-acess-two-pages-datalist-cs/_static/datatutorial34cs1.pdf)</span></span>

> <span data-ttu-id="1d7bf-107">Neste tutorial vamos examinar como separar um relatório mestre/detalhes em duas páginas.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-107">In this tutorial we look at how to separate a master/detail report across two pages.</span></span> <span data-ttu-id="1d7bf-108">Na página de "master", usamos um controle Repeater para renderizar uma lista de categorias que, quando clicado, levará o usuário para a página "Detalhes" onde uma DataList de duas colunas mostra os produtos que pertencem à categoria selecionada.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-108">In the "master" page we use a Repeater control to render a list of categories that, when clicked, will take the user to the "details" page where a two-column DataList shows those products belonging to the selected category.</span></span>


## <a name="introduction"></a><span data-ttu-id="1d7bf-109">Introdução</span><span class="sxs-lookup"><span data-stu-id="1d7bf-109">Introduction</span></span>

<span data-ttu-id="1d7bf-110">No [tutorial anterior](master-detail-filtering-with-a-dropdownlist-datalist-cs.md) , vimos como exibir relatórios mestre/detalhes em uma única página da web usando DropDownLists para exibir os registros "mestres" e uma DataList para exibir os "Detalhes".</span><span class="sxs-lookup"><span data-stu-id="1d7bf-110">In the [preceding tutorial](master-detail-filtering-with-a-dropdownlist-datalist-cs.md) we saw how to display master/detail reports in a single web page using DropDownLists to display the "master" records and a DataList to display the "details."</span></span> <span data-ttu-id="1d7bf-111">Outro padrão comum usado para relatórios mestre/detalhes é ter os registros mestres em uma página da web e os detalhes em outro.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-111">Another common pattern used for master/detail reports is to have the master records on one web page and the details on another.</span></span> <span data-ttu-id="1d7bf-112">Na anterior [filtragem de mestre/detalhes em duas páginas](../masterdetail/master-detail-filtering-across-two-pages-cs.md) tutorial, examinamos esse padrão usando um GridView para exibir todos os fornecedores no sistema.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-112">In the earlier [Master/Detail Filtering Across Two Pages](../masterdetail/master-detail-filtering-across-two-pages-cs.md) tutorial, we examined this pattern using a GridView to display all of the suppliers in the system.</span></span> <span data-ttu-id="1d7bf-113">Este GridView incluído um HyperLinkField, que é renderizado como um link para uma segunda página, passando o `SupplierID` na querystring.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-113">This GridView included a HyperLinkField, which rendered as a link to a second page, passing along the `SupplierID` in the querystring.</span></span> <span data-ttu-id="1d7bf-114">A segunda página usado um GridView para listar os produtos fornecidos pelo fornecedor selecionado.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-114">The second page used a GridView to list those products provided by the selected supplier.</span></span>

<span data-ttu-id="1d7bf-115">Esses relatórios mestre/detalhes de duas páginas podem ser feitos usando os controles DataList e Repeater também.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-115">Such two-page master/detail reports can be accomplished using DataList and Repeater controls as well.</span></span> <span data-ttu-id="1d7bf-116">A única diferença é que nem DataList nem repetidor fornece suporte para o controle HyperLinkField.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-116">The only difference is that neither the DataList nor the Repeater provides support for the HyperLinkField control.</span></span> <span data-ttu-id="1d7bf-117">Em vez disso, devemos adicionar um controle de hiperlink Web ou um elemento âncora HTML (`<a>`) dentro do controle `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-117">Instead, we must add a HyperLink Web control or an anchor HTML element (`<a>`) within the control's `ItemTemplate`.</span></span> <span data-ttu-id="1d7bf-118">O hiperlink `NavigateUrl` propriedade ou a âncora `href` atributo, em seguida, pode ser personalizado usando abordagens declarativas ou através de programação.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-118">The HyperLink's `NavigateUrl` property or the anchor's `href` attribute can then be customized using declarative or programmatic approaches.</span></span>

<span data-ttu-id="1d7bf-119">Neste tutorial, exploraremos um exemplo que lista as categorias em uma lista com marcadores em uma única página usando um controle Repeater.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-119">In this tutorial we'll explore an example that lists the categories in a bulleted list on one page using a Repeater control.</span></span> <span data-ttu-id="1d7bf-120">Cada item de lista incluirá o nome e uma descrição da categoria com o nome de categoria, exibido como um link para uma segunda página.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-120">Each list item will include the category's name and description, with the category name displayed as a link to a second page.</span></span> <span data-ttu-id="1d7bf-121">Ao clicar nesse link será whisk o usuário para a segunda página, onde um DataList mostrará os produtos que pertencem à categoria selecionada.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-121">Clicking on this link will whisk the user to the second page, where a DataList will show those products that belong to the selected category.</span></span>

## <a name="step-1-displaying-the-categories-in-a-bulleted-list"></a><span data-ttu-id="1d7bf-122">Etapa 1: Exibindo as categorias em uma lista com marcadores</span><span class="sxs-lookup"><span data-stu-id="1d7bf-122">Step 1: Displaying the Categories in a Bulleted List</span></span>

<span data-ttu-id="1d7bf-123">A primeira etapa na criação de qualquer relatório mestre/detalhes é comece exibindo os registros de "master".</span><span class="sxs-lookup"><span data-stu-id="1d7bf-123">The first step in creating any master/detail report is to start by displaying the "master" records.</span></span> <span data-ttu-id="1d7bf-124">Portanto, nossa primeira tarefa é exibir as categorias na página de "master".</span><span class="sxs-lookup"><span data-stu-id="1d7bf-124">Therefore, our first task is to display the categories in the "master" page.</span></span> <span data-ttu-id="1d7bf-125">Abra o `CategoryListMaster.aspx` página o `DataListRepeaterFiltering` pasta, adicione um controle Repeater e, na marca inteligente, optar por adicionar um novo ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-125">Open the `CategoryListMaster.aspx` page in the `DataListRepeaterFiltering` folder, add a Repeater control, and, from the smart tag, opt to add a new ObjectDataSource.</span></span> <span data-ttu-id="1d7bf-126">Configurar o novo ObjectDataSource para que ele acessa seus dados a partir de `CategoriesBLL` da classe `GetCategories` método (veja a Figura 1).</span><span class="sxs-lookup"><span data-stu-id="1d7bf-126">Configure the new ObjectDataSource so that it accesses its data from the `CategoriesBLL` class's `GetCategories` method (see Figure 1).</span></span>


<span data-ttu-id="1d7bf-127">[![Configurar o ObjectDataSource para usar o CategoriesBLL método da classe GetCategories](master-detail-filtering-acess-two-pages-datalist-cs/_static/image2.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="1d7bf-127">[![Configure the ObjectDataSource to Use the CategoriesBLL Class's GetCategories Method](master-detail-filtering-acess-two-pages-datalist-cs/_static/image2.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image1.png)</span></span>

<span data-ttu-id="1d7bf-128">**Figura 1**: Configurar o ObjectDataSource para usar o `CategoriesBLL` da classe `GetCategories` método ([clique para exibir a imagem em tamanho normal](master-detail-filtering-acess-two-pages-datalist-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="1d7bf-128">**Figure 1**: Configure the ObjectDataSource to Use the `CategoriesBLL` Class's `GetCategories` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image3.png))</span></span>


<span data-ttu-id="1d7bf-129">Em seguida, defina os modelos do repetidor, de modo que ele exibe cada nome de categoria e uma descrição como um item em uma lista com marcadores.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-129">Next, define the Repeater's templates such that it displays each category name and description as an item in a bulleted list.</span></span> <span data-ttu-id="1d7bf-130">Vamos ainda não se preocupe sobre ter cada categoria de link para a página de detalhes.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-130">Let's not yet worry about having each category link to the details page.</span></span> <span data-ttu-id="1d7bf-131">O exemplo a seguir mostra a marcação declarativa para o Repeater e ObjectDataSource:</span><span class="sxs-lookup"><span data-stu-id="1d7bf-131">The following shows the declarative markup for the Repeater and ObjectDataSource:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample1.aspx)]

<span data-ttu-id="1d7bf-132">Com essa marcação completa, reserve um tempo para exibir nosso progresso através de um navegador.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-132">With this markup complete, take a moment to view our progress through a browser.</span></span> <span data-ttu-id="1d7bf-133">Como mostra a Figura 2, o Repeater é renderizado como uma lista com marcadores mostrando o nome e uma descrição de cada categoria.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-133">As Figure 2 shows, the Repeater renders as a bulleted list showing each category's name and description.</span></span>


<span data-ttu-id="1d7bf-134">[![Cada categoria é exibida como um Item de lista com marcadores](master-detail-filtering-acess-two-pages-datalist-cs/_static/image5.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="1d7bf-134">[![Each Category is Displayed as a Bulleted List Item](master-detail-filtering-acess-two-pages-datalist-cs/_static/image5.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image4.png)</span></span>

<span data-ttu-id="1d7bf-135">**Figura 2**: Cada categoria é exibida como um Item de lista com marcadores ([clique para exibir a imagem em tamanho normal](master-detail-filtering-acess-two-pages-datalist-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="1d7bf-135">**Figure 2**: Each Category is Displayed as a Bulleted List Item ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image6.png))</span></span>


## <a name="step-2-turning-the-category-name-into-a-link-to-the-details-page"></a><span data-ttu-id="1d7bf-136">Etapa 2: Transformando o nome da categoria em um Link para a página de detalhes</span><span class="sxs-lookup"><span data-stu-id="1d7bf-136">Step 2: Turning the Category Name into a Link to the Details Page</span></span>

<span data-ttu-id="1d7bf-137">Para permitir que um usuário exibir as informações de "Detalhes" para uma determinada categoria, precisamos adicionar um link para cada lista com marcadores de item que, quando clicado, levará o usuário para a segunda página (`ProductsForCategoryDetails.aspx`).</span><span class="sxs-lookup"><span data-stu-id="1d7bf-137">To allow a user to display the "details" information for a given category, we need to add a link to each bulleted list item that, when clicked, will take the user to the second page (`ProductsForCategoryDetails.aspx`).</span></span> <span data-ttu-id="1d7bf-138">Essa segunda página, em seguida, exibirá os produtos para a categoria selecionada usando uma DataList.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-138">This second page will then display the products for the selected category using a DataList.</span></span> <span data-ttu-id="1d7bf-139">Para determinar a categoria cuja link foi clicado, precisamos passar a categoria clicada `CategoryID` para a segunda página por algum outro mecanismo.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-139">In order to determine the category whose link was clicked, we need to pass the clicked category's `CategoryID` to the second page through some mechanism.</span></span> <span data-ttu-id="1d7bf-140">A maneira mais simples e mais simples de transferir dados escalar de uma página para outra é por meio da cadeia de consulta, que é a opção que usaremos neste tutorial.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-140">The simplest, most straightforward way to transfer scalar data from one page to another is through the querystring, which is the option we'll use in this tutorial.</span></span> <span data-ttu-id="1d7bf-141">Em particular, o `ProductsForCategoryDetails.aspx` página esperarão selecionado *`categoryID`* valor a ser passado por meio de um campo de cadeia de consulta chamado `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-141">In particular, the `ProductsForCategoryDetails.aspx` page will expect the selected *`categoryID`* value to be passed through a querystring field named `CategoryID`.</span></span> <span data-ttu-id="1d7bf-142">Por exemplo, para exibir os produtos para a categoria de bebidas, que tem um `CategoryID` de 1, um usuário visitar `ProductsForCategoryDetails.aspx?CategoryID=1`.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-142">For example, to view the products for the Beverages category, which has a `CategoryID` of 1, a user would visit `ProductsForCategoryDetails.aspx?CategoryID=1`.</span></span>

<span data-ttu-id="1d7bf-143">Para criar um hiperlink para cada item de lista com marcadores no repetidor, precisamos adicionar um controle de hiperlink Web ou um elemento âncora HTML (`<a>`) para o `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-143">To create a hyperlink for each bulleted list item in the Repeater we need to either add a HyperLink Web control or an HTML anchor element (`<a>`) to the `ItemTemplate`.</span></span> <span data-ttu-id="1d7bf-144">Em cenários em que o hiperlink é exibida a mesma para cada linha, qualquer uma das abordagens será suficiente.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-144">In scenarios where the hyperlink is displayed the same for each row, either approach will suffice.</span></span> <span data-ttu-id="1d7bf-145">Para repetidores, eu prefiro usando o elemento de âncora.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-145">For Repeaters, I prefer using the anchor element.</span></span> <span data-ttu-id="1d7bf-146">Para usar o elemento de âncora, atualize o ItemTemplate do repetidor para:</span><span class="sxs-lookup"><span data-stu-id="1d7bf-146">To use the anchor element, update the Repeater's ItemTemplate to:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample2.aspx)]

<span data-ttu-id="1d7bf-147">Observe que o `CategoryID` pode ser injetado diretamente dentro do elemento de âncora `href` atributo; no entanto, para então ser determinadas delimitar o `href` o valor do atributo com apóstrofos (e Observação aspas) desde o `Eval` método dentro de `href` atributo delimita sua cadeia de caracteres (`"CategoryID"`) com as aspas.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-147">Note that the `CategoryID` can be injected directly within the anchor element's `href` attribute; however, to do so be certain to delimit the `href` attribute's value with apostrophes (and note quotation marks) since the `Eval` method within the `href` attribute delimits its string (`"CategoryID"`) with quotation marks.</span></span> <span data-ttu-id="1d7bf-148">Como alternativa, um controle de Web de hiperlink pode ser usado em vez disso:</span><span class="sxs-lookup"><span data-stu-id="1d7bf-148">Alternatively, a HyperLink Web control can be used instead:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample3.aspx)]

<span data-ttu-id="1d7bf-149">Observe como a parte estática da URL — `ProductsForCategoryDetails.aspx?CategoryID` — é acrescentado ao resultado de `Eval("CategoryID")` diretamente dentro da sintaxe de vinculação de dados usando a concatenação de cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-149">Note how the static portion of the URL — `ProductsForCategoryDetails.aspx?CategoryID` — is appended to the result of `Eval("CategoryID")` directly within the databinding syntax using string concatenation.</span></span>

<span data-ttu-id="1d7bf-150">Uma vantagem de usar o controle de hiperlink é que ele pode ser programaticamente acessado pelo Repeater `ItemDataBound` manipulador de eventos, se necessário.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-150">One benefit of using the HyperLink control is that it can be programmatically accessed from the Repeater's `ItemDataBound` event handler, if needed.</span></span> <span data-ttu-id="1d7bf-151">Por exemplo, você talvez queira exibir o nome da categoria como texto em vez de um link para categorias de produtos não associados.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-151">For example, you might want to display the category name as text rather than as a link for categories with no associated products.</span></span> <span data-ttu-id="1d7bf-152">Essa verificação poderia ser executada por meio de programação na `ItemDataBound` manipulador de eventos; para categorias sem nenhum associada produtos, o hiperlink `NavigateUrl` propriedade pode ser definida como uma cadeia de caracteres em branco, resultando em que nome de categoria específico renderização como texto sem formatação (em vez de um link).</span><span class="sxs-lookup"><span data-stu-id="1d7bf-152">Such a check could be programmatically performed in the `ItemDataBound` event handler; for categories with no associated products, the HyperLink's `NavigateUrl` property could be set to a blank string, thereby resulting in that particular category name rendering as plain text (rather than as a link).</span></span> <span data-ttu-id="1d7bf-153">Voltar para o [formatação do DataList e Repeater com base na Data](../displaying-data-with-the-datalist-and-repeater/formatting-the-datalist-and-repeater-based-upon-data-cs.md) tutorial para obter mais informações sobre a formatação do DataList e do Repeater conteúdo com base em lógica programática por meio do `ItemDataBound` manipulador de eventos.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-153">Refer back to the [Formatting the DataList and Repeater Based Upon Data](../displaying-data-with-the-datalist-and-repeater/formatting-the-datalist-and-repeater-based-upon-data-cs.md) tutorial for more information on formatting the DataList and Repeater's contents based on programmatic logic through the `ItemDataBound` event handler.</span></span>

<span data-ttu-id="1d7bf-154">Se você estiver acompanhando, fique à vontade usar o elemento de âncora ou uma abordagem de controle de hiperlink na página.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-154">If you are following along, feel free to use either the anchor element or HyperLink control approach in your page.</span></span> <span data-ttu-id="1d7bf-155">Independentemente da abordagem, ao exibir a página por meio de um navegador que cada nome de categoria deve ser renderizado como um link para `ProductsForCategoryDetails.aspx`, passando o aplicável `CategoryID` valor (veja a Figura 3).</span><span class="sxs-lookup"><span data-stu-id="1d7bf-155">Regardless of the approach, when viewing the page through a browser each category name should be rendered as a link to `ProductsForCategoryDetails.aspx`, passing in the applicable `CategoryID` value (see Figure 3).</span></span>


<span data-ttu-id="1d7bf-156">[![Os nomes de categoria se vincular ProductsForCategoryDetails.aspx](master-detail-filtering-acess-two-pages-datalist-cs/_static/image8.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="1d7bf-156">[![The Category Names Now Link to ProductsForCategoryDetails.aspx](master-detail-filtering-acess-two-pages-datalist-cs/_static/image8.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image7.png)</span></span>

<span data-ttu-id="1d7bf-157">**Figura 3**: A categoria de nomes de Link agora para `ProductsForCategoryDetails.aspx` ([clique para exibir a imagem em tamanho normal](master-detail-filtering-acess-two-pages-datalist-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="1d7bf-157">**Figure 3**: The Category Names Now Link to `ProductsForCategoryDetails.aspx` ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image9.png))</span></span>


## <a name="step-3-listing-the-products-that-belong-to-the-selected-category"></a><span data-ttu-id="1d7bf-158">Etapa 3: Listando os produtos que pertencem à categoria selecionada</span><span class="sxs-lookup"><span data-stu-id="1d7bf-158">Step 3: Listing the Products that Belong to the Selected Category</span></span>

<span data-ttu-id="1d7bf-159">Com o `CategoryListMaster.aspx` página completa, estamos prontos para voltar nossas atenções para a página "Detalhes", a implementação `ProductsForCategoryDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-159">With the `CategoryListMaster.aspx` page complete, we're ready to turn our attention to implementing the "details" page, `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="1d7bf-160">Abrir essa página, arraste uma DataList da caixa de ferramentas para o Designer e defina suas `ID` propriedade para `ProductsInCategory`.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-160">Open this page, drag a DataList from the Toolbox onto the Designer, and set its `ID` property to `ProductsInCategory`.</span></span> <span data-ttu-id="1d7bf-161">Em seguida, na marca inteligente do DataList optar por adicionar um novo ObjectDataSource para a página, nomeando- `ProductsInCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-161">Next, from the DataList's smart tag choose to add a new ObjectDataSource to the page, naming it `ProductsInCategoryDataSource`.</span></span> <span data-ttu-id="1d7bf-162">Configurá-lo, de modo que ele chama o `ProductsBLL` da classe `GetProductsByCategoryID(categoryID)` método; defina na lista suspensa lista nas guias de INSERT, UPDATE e DELETE como (nenhum).</span><span class="sxs-lookup"><span data-stu-id="1d7bf-162">Configure it such that it calls the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method; set the drop-down lists in the INSERT, UPDATE, and DELETE tabs to (None).</span></span>


<span data-ttu-id="1d7bf-163">[![Configurar o ObjectDataSource para usar o ProductsBLL método da classe GetProductsByCategoryID(categoryID)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image11.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="1d7bf-163">[![Configure the ObjectDataSource to Use the ProductsBLL Class's GetProductsByCategoryID(categoryID) Method](master-detail-filtering-acess-two-pages-datalist-cs/_static/image11.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image10.png)</span></span>

<span data-ttu-id="1d7bf-164">**Figura 4**: Configurar o ObjectDataSource para usar o `ProductsBLL` da classe `GetProductsByCategoryID(categoryID)` método ([clique para exibir a imagem em tamanho normal](master-detail-filtering-acess-two-pages-datalist-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="1d7bf-164">**Figure 4**: Configure the ObjectDataSource to Use the `ProductsBLL` Class's `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image12.png))</span></span>


<span data-ttu-id="1d7bf-165">Uma vez que o `GetProductsByCategoryID(categoryID)` método aceita um parâmetro de entrada (*`categoryID`*), o Assistente de fonte de dados escolha nos oferece uma oportunidade de especificar a origem do parâmetro.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-165">Since the `GetProductsByCategoryID(categoryID)` method accepts an input parameter (*`categoryID`*), the Choose Data Source wizard offers us an opportunity to specify the parameter's source.</span></span> <span data-ttu-id="1d7bf-166">Defina a origem do parâmetro QueryString usando o QueryStringField `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-166">Set the parameter source to QueryString using the QueryStringField `CategoryID`.</span></span>


<span data-ttu-id="1d7bf-167">[![Use o campo Querystring CategoryID como origem do parâmetro](master-detail-filtering-acess-two-pages-datalist-cs/_static/image14.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="1d7bf-167">[![Use the Querystring Field CategoryID as the Parameter's Source](master-detail-filtering-acess-two-pages-datalist-cs/_static/image14.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image13.png)</span></span>

<span data-ttu-id="1d7bf-168">**Figura 5**: Use a Querystring Field `CategoryID` como origem do parâmetro ([clique para exibir a imagem em tamanho normal](master-detail-filtering-acess-two-pages-datalist-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="1d7bf-168">**Figure 5**: Use the Querystring Field `CategoryID` as the Parameter's Source ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image15.png))</span></span>


<span data-ttu-id="1d7bf-169">Como vimos nos tutoriais anteriores, após concluir o Assistente de escolher fonte de dados, o Visual Studio cria automaticamente um `ItemTemplate` para DataList que lista cada nome de campo de dados e o valor.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-169">As we've seen in previous tutorials, after completing the Choose Data Source wizard, Visual Studio automatically creates an `ItemTemplate` for the DataList that lists each data field name and value.</span></span> <span data-ttu-id="1d7bf-170">Substitua esse modelo um que liste apenas o produto nome, fornecedor e preço.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-170">Replace this template with one that lists only the product's name, supplier, and price.</span></span> <span data-ttu-id="1d7bf-171">Além disso, defina o DataList `RepeatColumns` propriedade como 2.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-171">Also, set the DataList's `RepeatColumns` property to 2.</span></span> <span data-ttu-id="1d7bf-172">Após essas alterações, DataList e o do ObjectDataSource marcação declarativa deve ser semelhante ao seguinte:</span><span class="sxs-lookup"><span data-stu-id="1d7bf-172">After these changes, your DataList and ObjectDataSource's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample4.aspx)]

<span data-ttu-id="1d7bf-173">Para exibir esta página em ação, desde o `CategoryListMaster.aspx` página; em seguida, clique em um link na lista com marcadores de categorias.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-173">To view this page in action, start from the `CategoryListMaster.aspx` page; next, click on a link in the categories bulleted list.</span></span> <span data-ttu-id="1d7bf-174">Isso levará você até `ProductsForCategoryDetails.aspx`, passando ao longo de `CategoryID` por meio da cadeia de consulta.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-174">Doing so will take you to `ProductsForCategoryDetails.aspx`, passing along the `CategoryID` through the querystring.</span></span> <span data-ttu-id="1d7bf-175">O `ProductsInCategoryDataSource` ObjectDataSource em `ProductsForCategoryDetails.aspx` , em seguida, obter apenas os produtos para a categoria especificada e exibi-los no DataList, que renderiza os dois produtos por linha.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-175">The `ProductsInCategoryDataSource` ObjectDataSource in `ProductsForCategoryDetails.aspx` will then get just those products for the specified category and display them in the DataList, which renders two products per row.</span></span> <span data-ttu-id="1d7bf-176">A Figura 6 mostra uma captura de tela `ProductsForCategoryDetails.aspx` ao exibir as bebidas.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-176">Figure 6 shows a screenshot of `ProductsForCategoryDetails.aspx` when viewing the Beverages.</span></span>


<span data-ttu-id="1d7bf-177">[![São exibidas as bebidas, duas por linha](master-detail-filtering-acess-two-pages-datalist-cs/_static/image17.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="1d7bf-177">[![The Beverages are Displayed, Two per Row](master-detail-filtering-acess-two-pages-datalist-cs/_static/image17.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image16.png)</span></span>

<span data-ttu-id="1d7bf-178">**Figura 6**: São exibidas as bebidas, duas por linha ([clique para exibir a imagem em tamanho normal](master-detail-filtering-acess-two-pages-datalist-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="1d7bf-178">**Figure 6**: The Beverages are Displayed, Two per Row ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image18.png))</span></span>


## <a name="step-4-displaying-category-information-on-productsforcategorydetailsaspx"></a><span data-ttu-id="1d7bf-179">Etapa 4: Exibindo informações de categoria em ProductsForCategoryDetails.aspx</span><span class="sxs-lookup"><span data-stu-id="1d7bf-179">Step 4: Displaying Category Information on ProductsForCategoryDetails.aspx</span></span>

<span data-ttu-id="1d7bf-180">Quando um usuário clica em uma categoria na `CategoryListMaster.aspx`, eles são levados para `ProductsForCategoryDetails.aspx` e mostra os produtos que pertencem à categoria selecionada.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-180">When a user clicks on a category in `CategoryListMaster.aspx`, they are taken to `ProductsForCategoryDetails.aspx` and shown the products that belong to the selected category.</span></span> <span data-ttu-id="1d7bf-181">No entanto, no `ProductsForCategoryDetails.aspx` não há nenhum dicas visuais sobre qual categoria foi selecionada.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-181">However, in `ProductsForCategoryDetails.aspx` there are no visual cues as to what category was selected.</span></span> <span data-ttu-id="1d7bf-182">Um usuário que pretende clique Bebidas, mas Condimentos acidentalmente clicados, não tem nenhuma maneira de perceber seu erro assim que chegam `ProductsForCategoryDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-182">A user that meant to click Beverages, but accidentally clicked Condiments, has no way of realizing their mistake once they reach `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="1d7bf-183">Para minimizar esse problema potencial, podemos exibir informações sobre a categoria selecionada — seu nome e descrição — na parte superior do `ProductsForCategoryDetails.aspx` página.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-183">To alleviate this potential problem, we can display information about the selected category — its name and description — at the top of the `ProductsForCategoryDetails.aspx` page.</span></span>

<span data-ttu-id="1d7bf-184">Para fazer isso, adicione um FormView acima do controle Repeater na `ProductsForCategoryDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-184">To accomplish this, add a FormView above the Repeater control in `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="1d7bf-185">Em seguida, adicione um novo ObjectDataSource para a página na chamada de marca inteligente de FormView `CategoryDataSource` e configurá-lo para usar o `CategoriesBLL` da classe `GetCategoryByCategoryID(categoryID)` método.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-185">Next, add a new ObjectDataSource to the page from the FormView's smart tag named `CategoryDataSource` and configure it to use the `CategoriesBLL` class's `GetCategoryByCategoryID(categoryID)` method.</span></span>


<span data-ttu-id="1d7bf-186">[![Acessar informações sobre a categoria por meio GetCategoryByCategoryID(categoryID) método da classe CategoriesBLL](master-detail-filtering-acess-two-pages-datalist-cs/_static/image20.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="1d7bf-186">[![Access Information about the Category through the CategoriesBLL Class's GetCategoryByCategoryID(categoryID) Method](master-detail-filtering-acess-two-pages-datalist-cs/_static/image20.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image19.png)</span></span>

<span data-ttu-id="1d7bf-187">**Figura 7**: Acessar informações sobre a categoria por meio de `CategoriesBLL` da classe `GetCategoryByCategoryID(categoryID)` método ([clique para exibir a imagem em tamanho normal](master-detail-filtering-acess-two-pages-datalist-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="1d7bf-187">**Figure 7**: Access Information about the Category through the `CategoriesBLL` Class's `GetCategoryByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image21.png))</span></span>


<span data-ttu-id="1d7bf-188">Assim como acontece com o `ProductsInCategoryDataSource` ObjectDataSource adicionado na etapa 3, o `CategoryDataSource`do Assistente Configurar fonte de dados nos solicita uma fonte para o `GetCategoryByCategoryID(categoryID)` parâmetro de entrada do método.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-188">As with the `ProductsInCategoryDataSource` ObjectDataSource added in Step 3, the `CategoryDataSource`'s Configure Data Source wizard prompts us for a source for the `GetCategoryByCategoryID(categoryID)` method's input parameter.</span></span> <span data-ttu-id="1d7bf-189">Use as exatamente as mesmas configurações como antes, configurando a fonte de parâmetro como QueryString e o valor de QueryStringField como `CategoryID` (consulte novamente a Figura 5).</span><span class="sxs-lookup"><span data-stu-id="1d7bf-189">Use the exact same settings as before, setting the parameter source to QueryString and the QueryStringField value to `CategoryID` (refer back to Figure 5).</span></span>

<span data-ttu-id="1d7bf-190">Depois de concluir o assistente, o Visual Studio cria automaticamente um `ItemTemplate`, `EditItemTemplate`, e `InsertItemTemplate` para FormView.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-190">After completing the wizard, Visual Studio automatically creates an `ItemTemplate`, `EditItemTemplate`, and `InsertItemTemplate` for the FormView.</span></span> <span data-ttu-id="1d7bf-191">Uma vez que estamos oferecendo uma interface somente leitura, fique à vontade remover o `EditItemTemplate` e `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-191">Since we're providing a read-only interface, feel free to remove the `EditItemTemplate` and `InsertItemTemplate`.</span></span> <span data-ttu-id="1d7bf-192">Além disso, fique à vontade personalizar o FormView `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-192">Also, feel free to customize the FormView's `ItemTemplate`.</span></span> <span data-ttu-id="1d7bf-193">Após remover os modelos supérfluos e personalizando o ItemTemplate, marcação declarativa seus FormView e ObjectDataSource deve ser semelhante ao seguinte:</span><span class="sxs-lookup"><span data-stu-id="1d7bf-193">After removing the superfluous templates and customizing the ItemTemplate, your FormView and ObjectDataSource's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample5.aspx)]

<span data-ttu-id="1d7bf-194">Figura 8 mostra uma tela de captura ao exibir esta página por meio de um navegador.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-194">Figure 8 shows a screen shot when viewing this page through a browser.</span></span>

> [!NOTE]
> <span data-ttu-id="1d7bf-195">Além de FormView, eu também adicionou um controle de hiperlink acima FormView que levará o usuário de volta para a lista de categorias (`CategoryListMaster.aspx`).</span><span class="sxs-lookup"><span data-stu-id="1d7bf-195">In addition to the FormView, I've also added a HyperLink control above the FormView that will take the user back to the list of categories (`CategoryListMaster.aspx`).</span></span> <span data-ttu-id="1d7bf-196">Fique à vontade para colocar este link em outro lugar ou para omiti-lo completamente.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-196">Feel free to place this link elsewhere or to omit it altogether.</span></span>


<span data-ttu-id="1d7bf-197">[![Informações de categoria são agora exibido na parte superior da página](master-detail-filtering-acess-two-pages-datalist-cs/_static/image23.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="1d7bf-197">[![Category Information is Now Displayed at the Top of the Page](master-detail-filtering-acess-two-pages-datalist-cs/_static/image23.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image22.png)</span></span>

<span data-ttu-id="1d7bf-198">**Figura 8**: Informações de categoria são agora exibido na parte superior da página ([clique para exibir a imagem em tamanho normal](master-detail-filtering-acess-two-pages-datalist-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="1d7bf-198">**Figure 8**: Category Information is Now Displayed at the Top of the Page ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image24.png))</span></span>


## <a name="step-5-displaying-a-message-if-no-products-belong-to-the-selected-category"></a><span data-ttu-id="1d7bf-199">Etapa 5: Exibindo uma mensagem se nenhum produto pertence à categoria selecionada</span><span class="sxs-lookup"><span data-stu-id="1d7bf-199">Step 5: Displaying a Message if No Products Belong to the Selected Category</span></span>

<span data-ttu-id="1d7bf-200">O `CategoryListMaster.aspx` página lista todas as categorias no sistema, independentemente de se há algum associados a produtos.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-200">The `CategoryListMaster.aspx` page lists all categories in the system, regardless of whether there are any associated products.</span></span> <span data-ttu-id="1d7bf-201">Se um usuário clica em uma categoria com nenhum produtos associados, DataList no `ProductsForCategoryDetails.aspx` não será renderizado, como sua fonte de dados não terá todos os itens.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-201">If a user clicks on a category with no associated products, the DataList in `ProductsForCategoryDetails.aspx` will not be rendered, as its data source will not have any items.</span></span> <span data-ttu-id="1d7bf-202">Como vimos nos tutoriais anteriores, o GridView fornece um `EmptyDataText` propriedade que pode ser usada para especificar uma mensagem de texto a ser exibido se não há registros na fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-202">As we've seen in past tutorials, the GridView provides an `EmptyDataText` property that can be used to specify a text message to display if there are no records in its data source.</span></span> <span data-ttu-id="1d7bf-203">Infelizmente, nem o DataList nem Repeater tem essa propriedade.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-203">Unfortunately, neither the DataList nor Repeater has such a property.</span></span>

<span data-ttu-id="1d7bf-204">Para exibir uma mensagem informando ao usuário que não há nenhum produto correspondente para a categoria selecionada, precisamos adicionar um rótulo de controle para a página cuja `Text` propriedade recebe a mensagem a ser exibida no caso em que nenhum produto correspondente.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-204">In order to display a message informing the user that there are no matching products for the selected category, we need to add a Label control to the page whose `Text` property is assigned the message to display in the event that there are no matching products.</span></span> <span data-ttu-id="1d7bf-205">Em seguida, precisamos definir programaticamente seu `Visible` propriedade com base em se ou não DataList contém todos os itens.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-205">We then need to programmatically set its `Visible` property based on whether or not the DataList contains any items.</span></span>

<span data-ttu-id="1d7bf-206">Para fazer isso, comece adicionando um rótulo abaixo DataList.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-206">To accomplish this, start by adding a Label beneath the DataList.</span></span> <span data-ttu-id="1d7bf-207">Defina suas `ID` propriedade para `NoProductsMessage` e seu `Text` propriedade como "Não há nenhum produto para a categoria selecionada..." Em seguida, precisamos definir este rótulo de forma programática `Visible` propriedade com base em se ou não todos os dados foi vinculados ao `ProductsInCategory` DataList.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-207">Set its `ID` property to `NoProductsMessage` and its `Text` property to "There are no products for the selected category…" Next, we need to programmatically set this Label's `Visible` property based on whether or not any data was bound to the `ProductsInCategory` DataList.</span></span> <span data-ttu-id="1d7bf-208">Essa atribuição deve ser feita depois que os dados foi associados à DataList.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-208">This assignment must be made after the data has been bound to the DataList.</span></span> <span data-ttu-id="1d7bf-209">Para o GridView, DetailsView e FormView, criamos um manipulador de eventos para o controle `DataBound` evento, que é acionado após a vinculação de dados.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-209">For the GridView, DetailsView, and FormView, we could create an event handler for the control's `DataBound` event, which fires after databinding has completed.</span></span> <span data-ttu-id="1d7bf-210">No entanto, nem DataList nem repetidor tem um `DataBound` eventos disponíveis.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-210">However, neither the DataList nor the Repeater has a `DataBound` event available.</span></span>

<span data-ttu-id="1d7bf-211">Este exemplo em particular, podemos atribuir o rótulo `Visible` propriedade em de `Page_Load` manipulador de eventos, uma vez que os dados serão atribuídos à DataList antes que a página `Load` eventos.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-211">For this particular example we can assign the Label's `Visible` property in the `Page_Load` event handler, since the data will have been assigned to the DataList prior to the page's `Load` event.</span></span> <span data-ttu-id="1d7bf-212">No entanto, essa abordagem não funcionaria em geral, como os dados do ObjectDataSource podem ser associados à DataList posteriormente no ciclo de vida da página.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-212">However, this approach would not work in the general case, as the data from the ObjectDataSource might be bound to the DataList later in the page's lifecycle.</span></span> <span data-ttu-id="1d7bf-213">Por exemplo, se os dados exibidos baseia-se se o valor em outro controle, como ela é ao exibir um relatório de mestre/detalhes usando DropDownList para armazenar os registros de "master", os dados não podem se para o controle de Web de dados até que o `PreRender` estágio no ciclo de vida da página.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-213">For example, if the displayed data is based upon the value in another control, such as it is when displaying a master/detail report using a DropDownList to hold the "master" records, the data may not rebound to the data Web control until the `PreRender` stage in the page's life cycle.</span></span>

<span data-ttu-id="1d7bf-214">Uma solução que funcionará para todos os casos é atribuir a `Visible` propriedade para `False` do DataList `ItemDataBound` (ou `ItemCreated`) o manipulador de eventos ao associar um tipo de item de `Item` ou `AlternatingItem`.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-214">One solution which will work for all cases is to assign the `Visible` property to `False` in the DataList's `ItemDataBound` (or `ItemCreated`) event handler when binding an item type of `Item` or `AlternatingItem`.</span></span> <span data-ttu-id="1d7bf-215">Nesse caso, nós sabemos que não há dados de pelo menos um item na fonte de dados e, portanto, pode ocultar o `NoProductsMessage` rótulo.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-215">In such a case we know that there is at least one data item in the data source and therefore can hide the `NoProductsMessage` Label.</span></span> <span data-ttu-id="1d7bf-216">Além de manipulador de eventos, também precisamos de um manipulador de eventos para o DataList `DataBinding` evento, onde podemos inicializar o rótulo `Visible` propriedade `True`.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-216">In addition to this event handler, we also need an event handler for the DataList's `DataBinding` event, where we initialize the Label's `Visible` property to `True`.</span></span> <span data-ttu-id="1d7bf-217">Uma vez que o `DataBinding` evento será acionado antes do `ItemDataBound` eventos, o rótulo `Visible` propriedade será definida inicialmente como `True`; se houver quaisquer itens de dados, no entanto, ele será definido como `False`.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-217">Since the `DataBinding` event fires before the `ItemDataBound` events, the Label's `Visible` property will initially be set to `True`; if there are any data items, however, it will be set to `False`.</span></span> <span data-ttu-id="1d7bf-218">O código a seguir implementa essa lógica:</span><span class="sxs-lookup"><span data-stu-id="1d7bf-218">The following code implements this logic:</span></span>

[!code-csharp[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample6.cs)]

<span data-ttu-id="1d7bf-219">Todas as categorias no banco de dados Northwind são associadas com um ou mais produtos.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-219">All of the categories in the Northwind database are associated with one or more products.</span></span> <span data-ttu-id="1d7bf-220">Para testar esse recurso, eu tiver ajustado manualmente o banco de dados Northwind para este tutorial, reatribuindo todos os produtos associados à categoria de produzir (`CategoryID` = 7) para a categoria de Frutos do Mar (`CategoryID` = 8).</span><span class="sxs-lookup"><span data-stu-id="1d7bf-220">To test this feature, I've manually adjusted the Northwind database for this tutorial, reassigning all products associated with the Produce category (`CategoryID` = 7) to the Seafood category (`CategoryID` = 8).</span></span> <span data-ttu-id="1d7bf-221">Isso pode ser feito do Gerenciador de servidores, escolha a nova consulta e usando o seguinte `UPDATE` instrução:</span><span class="sxs-lookup"><span data-stu-id="1d7bf-221">This can be accomplished from the Server Explorer by choosing New Query and using the following `UPDATE` statement:</span></span>

[!code-sql[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample7.sql)]

<span data-ttu-id="1d7bf-222">Depois de atualizar o banco de dados adequadamente, retornar o `CategoryListMaster.aspx` da página e clique no link de produzir.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-222">After updating the database accordingly, return to the `CategoryListMaster.aspx` page and click on the Produce link.</span></span> <span data-ttu-id="1d7bf-223">Uma vez que não existem mais todos os produtos que pertencem à categoria de produção, você deve ver a mensagem "Não há nenhum produto para a categoria selecionada...", conforme mostrado na Figura 9.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-223">Since there are no longer any products belonging to the Produce category, you should see the "There are no products for the selected category…" message, as shown in Figure 9.</span></span>


<span data-ttu-id="1d7bf-224">[![Uma mensagem será exibida se não houver nenhum produtos pertencentes à categoria selecionada](master-detail-filtering-acess-two-pages-datalist-cs/_static/image26.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="1d7bf-224">[![A Message is Displayed if there are No Products Belonging to the Selected Category](master-detail-filtering-acess-two-pages-datalist-cs/_static/image26.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image25.png)</span></span>

<span data-ttu-id="1d7bf-225">**Figura 9**: Uma mensagem será exibida se não houver nenhum produtos pertencentes à categoria selecionada ([clique para exibir a imagem em tamanho normal](master-detail-filtering-acess-two-pages-datalist-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="1d7bf-225">**Figure 9**: A Message is Displayed if there are No Products Belonging to the Selected Category ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image27.png))</span></span>


## <a name="summary"></a><span data-ttu-id="1d7bf-226">Resumo</span><span class="sxs-lookup"><span data-stu-id="1d7bf-226">Summary</span></span>

<span data-ttu-id="1d7bf-227">Enquanto os relatórios mestre/detalhes podem exibir registros mestre e de detalhes em uma única página, em muitos sites eles são separados em duas páginas da web.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-227">While master/detail reports can display both the master and detail records on a single page, in many websites they are separated out across two web pages.</span></span> <span data-ttu-id="1d7bf-228">Neste tutorial vimos como implementar tal relatório mestre/detalhes fazendo com que as categorias listadas em uma lista com marcadores usando um repetidor na página da web "mestre" e os produtos associados listados na página "Detalhes".</span><span class="sxs-lookup"><span data-stu-id="1d7bf-228">In this tutorial we looked at how to implement such a master/detail report by having the categories listed in a bulleted list using a Repeater in the "master" web page and the associated products listed in the "details" page.</span></span> <span data-ttu-id="1d7bf-229">Cada item da lista na página da web mestre continha um link para a página de detalhes do passado ao longo da linha `CategoryID` valor.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-229">Each list item in the master web page contained a link to the details page that passed along the row's `CategoryID` value.</span></span>

<span data-ttu-id="1d7bf-230">Na página de detalhes ao recuperar esses produtos para o fornecedor especificado foi realizado por meio de `ProductsBLL` da classe `GetProductsByCategoryID(categoryID)` método.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-230">In the details page retrieving those products for the specified supplier was accomplished through the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="1d7bf-231">O *`categoryID`* o valor do parâmetro foi especificado declarativamente usando o `CategoryID` valor de cadeia de consulta como a origem do parâmetro.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-231">The *`categoryID`* parameter value was specified declaratively using the `CategoryID` querystring value as the parameter source.</span></span> <span data-ttu-id="1d7bf-232">Também examinamos como exibir detalhes da categoria na página de detalhes usando um FormView e como exibir uma mensagem se não houvesse nenhum produto que pertencem à categoria selecionada.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-232">We also looked at how to display category details in the details page using a FormView and how to display a message if there were no products belonging to the selected category.</span></span>

<span data-ttu-id="1d7bf-233">Boa programação!</span><span class="sxs-lookup"><span data-stu-id="1d7bf-233">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="1d7bf-234">Sobre o autor</span><span class="sxs-lookup"><span data-stu-id="1d7bf-234">About the Author</span></span>

<span data-ttu-id="1d7bf-235">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor de sete livros sobre ASP/ASP.NET e fundador da [4GuysFromRolla.com](http://www.4guysfromrolla.com), tem trabalhado com tecnologias Microsoft Web desde 1998.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-235">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="1d7bf-236">Scott funciona como um consultor independente, instrutor e escritor.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-236">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="1d7bf-237">Seu livro mais recente é [ *Sams Teach por conta própria ASP.NET 2.0 em 24 horas*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="1d7bf-237">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="1d7bf-238">Ele pode ser contatado pelo [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="1d7bf-238">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="1d7bf-239">ou por meio de seu blog, que pode ser encontrado em [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="1d7bf-239">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="1d7bf-240">Agradecimentos especiais a...</span><span class="sxs-lookup"><span data-stu-id="1d7bf-240">Special Thanks To…</span></span>

<span data-ttu-id="1d7bf-241">Esta série de tutoriais foi revisada por muitos revisores úteis.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-241">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="1d7bf-242">Os revisores de avanço para este tutorial foram Zack Jones e Liz Shulok.</span><span class="sxs-lookup"><span data-stu-id="1d7bf-242">Lead reviewers for this tutorial were Zack Jones and Liz Shulok.</span></span> <span data-ttu-id="1d7bf-243">Você está interessado na revisão Meus próximos artigos do MSDN?</span><span class="sxs-lookup"><span data-stu-id="1d7bf-243">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="1d7bf-244">Nesse caso, me descartar uma linha na [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="1d7bf-244">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="1d7bf-245">[Anterior](master-detail-filtering-with-a-dropdownlist-datalist-cs.md)
> [Próximo](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs.md)</span><span class="sxs-lookup"><span data-stu-id="1d7bf-245">[Previous](master-detail-filtering-with-a-dropdownlist-datalist-cs.md)
[Next](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs.md)</span></span>
