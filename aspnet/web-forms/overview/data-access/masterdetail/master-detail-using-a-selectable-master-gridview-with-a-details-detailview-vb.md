---
uid: web-forms/overview/data-access/masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb
title: Mestre/detalhes usando um GridView mestre selecionável com um DetailView de detalhes (VB) | Microsoft Docs
author: rick-anderson
description: Este tutorial terá um GridView cujas linhas incluem o nome e o preço de cada produto, juntamente com um botão de seleção. Clicar no botão Selecionar para uma particu...
ms.author: riande
ms.date: 03/31/2010
ms.assetid: 1d1a7c93-971d-4690-9c5e-dac0e5014a09
msc.legacyurl: /web-forms/overview/data-access/masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb
msc.type: authoredcontent
ms.openlocfilehash: 4f97508aabe64d83a29ae50134d608f64c9cf72e
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/06/2019
ms.locfileid: "65131429"
---
# <a name="masterdetail-using-a-selectable-master-gridview-with-a-details-detailview-vb"></a><span data-ttu-id="7b41c-104">Mestre/detalhes usando um GridView mestre selecionável com um DetailView de detalhes (VB)</span><span class="sxs-lookup"><span data-stu-id="7b41c-104">Master/Detail Using a Selectable Master GridView with a Details DetailView (VB)</span></span>

<span data-ttu-id="7b41c-105">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="7b41c-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="7b41c-106">[Baixe o aplicativo de exemplo](http://download.microsoft.com/download/5/d/7/5d7571fc-d0b7-4798-ad4a-c976c02363ce/ASPNET_Data_Tutorial_10_VB.exe) ou [baixar PDF](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/datatutorial10vb1.pdf)</span><span class="sxs-lookup"><span data-stu-id="7b41c-106">[Download Sample App](http://download.microsoft.com/download/5/d/7/5d7571fc-d0b7-4798-ad4a-c976c02363ce/ASPNET_Data_Tutorial_10_VB.exe) or [Download PDF](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/datatutorial10vb1.pdf)</span></span>

> <span data-ttu-id="7b41c-107">Este tutorial terá um GridView cujas linhas incluem o nome e o preço de cada produto, juntamente com um botão de seleção.</span><span class="sxs-lookup"><span data-stu-id="7b41c-107">This tutorial will have a GridView whose rows include the name and price of each product along with a Select button.</span></span> <span data-ttu-id="7b41c-108">Clicar no botão Selecionar para um determinado produto fará com que seus detalhes completos para ser exibido em um controle DetailsView na mesma página.</span><span class="sxs-lookup"><span data-stu-id="7b41c-108">Clicking the Select button for a particular product will cause its full details to be displayed in a DetailsView control on the same page.</span></span>

## <a name="introduction"></a><span data-ttu-id="7b41c-109">Introdução</span><span class="sxs-lookup"><span data-stu-id="7b41c-109">Introduction</span></span>

<span data-ttu-id="7b41c-110">No [tutorial anterior](master-detail-filtering-across-two-pages-vb.md) , vimos como criar um relatório de mestre/detalhes usando duas páginas da web: uma página da web "mestre", do qual é exibida a lista de fornecedores; e uma página da web "Detalhes" que são listados os produtos fornecidos por selecionado fornecedor.</span><span class="sxs-lookup"><span data-stu-id="7b41c-110">In the [previous tutorial](master-detail-filtering-across-two-pages-vb.md) we saw how to create a master/detail report using two web pages: a "master" web page, from which we displayed the list of suppliers; and a "details" web page that listed those products provided by the selected supplier.</span></span> <span data-ttu-id="7b41c-111">Esse formato de relatório de duas página possa ser condensado em uma única página.</span><span class="sxs-lookup"><span data-stu-id="7b41c-111">This two page report format can be condensed into one page.</span></span> <span data-ttu-id="7b41c-112">Este tutorial terá um GridView cujas linhas incluem o nome e o preço de cada produto, juntamente com um botão de seleção.</span><span class="sxs-lookup"><span data-stu-id="7b41c-112">This tutorial will have a GridView whose rows include the name and price of each product along with a Select button.</span></span> <span data-ttu-id="7b41c-113">Clicar no botão Selecionar para um determinado produto fará com que seus detalhes completos para ser exibido em um controle DetailsView na mesma página.</span><span class="sxs-lookup"><span data-stu-id="7b41c-113">Clicking the Select button for a particular product will cause its full details to be displayed in a DetailsView control on the same page.</span></span>

<span data-ttu-id="7b41c-114">[![Clicar no botão Selecionar exibe detalhes do produto](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image2.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="7b41c-114">[![Clicking the Select Button Displays the Product's Details](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image2.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image1.png)</span></span>

<span data-ttu-id="7b41c-115">**Figura 1**: Clicar no botão Selecionar exibe detalhes do produto ([clique para exibir a imagem em tamanho normal](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="7b41c-115">**Figure 1**: Clicking the Select Button Displays the Product's Details ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image3.png))</span></span>

## <a name="step-1-creating-a-selectable-gridview"></a><span data-ttu-id="7b41c-116">Etapa 1: Criando um GridView selecionável</span><span class="sxs-lookup"><span data-stu-id="7b41c-116">Step 1: Creating a Selectable GridView</span></span>

<span data-ttu-id="7b41c-117">Lembre-se que no mestre/detalhes em duas páginas de relatório que cada registro mestre incluído um hiperlink que, quando clicado, enviado ao usuário para a página de detalhes, passando a linha clicada `SupplierID` valor na cadeia de consulta.</span><span class="sxs-lookup"><span data-stu-id="7b41c-117">Recall that in the two-page master/detail report that each master record included a hyperlink that, when clicked, sent the user to the details page passing the clicked row's `SupplierID` value in the querystring.</span></span> <span data-ttu-id="7b41c-118">Esse tipo de hiperlink foi adicionada para cada linha de GridView usando um HyperLinkField.</span><span class="sxs-lookup"><span data-stu-id="7b41c-118">Such a hyperlink was added to each GridView row using a HyperLinkField.</span></span> <span data-ttu-id="7b41c-119">Para o relatório de detalhes/mestre de página única, precisaremos um botão para cada GridView de linha que, quando clicado, mostra os detalhes.</span><span class="sxs-lookup"><span data-stu-id="7b41c-119">For the single page master/details report, we will need a Button for each GridView row that, when clicked, shows the details.</span></span> <span data-ttu-id="7b41c-120">O controle GridView pode ser configurado para incluir um botão de seleção para cada linha que faz com que um postback e marca essa linha como o GridView [SelectedRow](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedrow.aspx).</span><span class="sxs-lookup"><span data-stu-id="7b41c-120">The GridView control can be configured to include a Select button for each row that causes a postback and marks that row as the GridView's [SelectedRow](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedrow.aspx).</span></span>

<span data-ttu-id="7b41c-121">Comece adicionando um controle GridView para o `DetailsBySelecting.aspx` página na `Filtering` pasta, definindo seu `ID` propriedade para `ProductsGrid`.</span><span class="sxs-lookup"><span data-stu-id="7b41c-121">Start by adding a GridView control to the `DetailsBySelecting.aspx` page in the `Filtering` folder, setting its `ID` property to `ProductsGrid`.</span></span> <span data-ttu-id="7b41c-122">Em seguida, adicione um novo ObjectDataSource denominado `AllProductsDataSource` que invoca a `ProductsBLL` da classe `GetProducts()` método.</span><span class="sxs-lookup"><span data-stu-id="7b41c-122">Next, add a new ObjectDataSource named `AllProductsDataSource` that invokes the `ProductsBLL` class's `GetProducts()` method.</span></span>

<span data-ttu-id="7b41c-123">[![Criar um ObjectDataSource chamado AllProductsDataSource](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image5.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="7b41c-123">[![Create an ObjectDataSource Named AllProductsDataSource](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image5.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image4.png)</span></span>

<span data-ttu-id="7b41c-124">**Figura 2**: Criar um chamado ObjectDataSource `AllProductsDataSource` ([clique para exibir a imagem em tamanho normal](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="7b41c-124">**Figure 2**: Create an ObjectDataSource Named `AllProductsDataSource` ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image6.png))</span></span>

<span data-ttu-id="7b41c-125">[![Use a classe ProductsBLL](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image8.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="7b41c-125">[![Use the ProductsBLL Class](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image8.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image7.png)</span></span>

<span data-ttu-id="7b41c-126">**Figura 3**: Use o `ProductsBLL` classe ([clique para exibir a imagem em tamanho normal](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="7b41c-126">**Figure 3**: Use the `ProductsBLL` Class ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image9.png))</span></span>

<span data-ttu-id="7b41c-127">[![Configurar o ObjectDataSource para invocar o método GetProducts()](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image11.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="7b41c-127">[![Configure the ObjectDataSource to Invoke the GetProducts() Method](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image11.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image10.png)</span></span>

<span data-ttu-id="7b41c-128">**Figura 4**: Configurar o ObjectDataSource para chamar o `GetProducts()` método ([clique para exibir a imagem em tamanho normal](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="7b41c-128">**Figure 4**: Configure the ObjectDataSource to Invoke the `GetProducts()` Method ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image12.png))</span></span>

<span data-ttu-id="7b41c-129">Editar campos do GridView remover tudo, exceto os `ProductName` e `UnitPrice` BoundFields.</span><span class="sxs-lookup"><span data-stu-id="7b41c-129">Edit the GridView's fields removing all but the `ProductName` and `UnitPrice` BoundFields.</span></span> <span data-ttu-id="7b41c-130">Além disso, fique à vontade personalizar essas BoundFields conforme necessário, como a formatação a `UnitPrice` BoundField como uma moeda e alterando o `HeaderText` propriedades do BoundFields.</span><span class="sxs-lookup"><span data-stu-id="7b41c-130">Also, feel free to customize these BoundFields as needed, such as formatting the `UnitPrice` BoundField as a currency and changing the `HeaderText` properties of the BoundFields.</span></span> <span data-ttu-id="7b41c-131">Essas etapas podem ser realizadas graficamente, clicando no link Edit Columns na marca inteligente do GridView, ou configurando manualmente a sintaxe declarativa.</span><span class="sxs-lookup"><span data-stu-id="7b41c-131">These steps can be accomplished graphically, by clicking the Edit Columns link from the GridView's smart tag, or by manually configuring the declarative syntax.</span></span>

<span data-ttu-id="7b41c-132">[![Remover tudo, exceto o ProductName e UnitPrice BoundFields](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image14.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="7b41c-132">[![Remove All But the ProductName and UnitPrice BoundFields](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image14.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image13.png)</span></span>

<span data-ttu-id="7b41c-133">**Figura 5**: Remover tudo, mas o `ProductName` e `UnitPrice` BoundFields ([clique para exibir a imagem em tamanho normal](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="7b41c-133">**Figure 5**: Remove All But the `ProductName` and `UnitPrice` BoundFields ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image15.png))</span></span>

<span data-ttu-id="7b41c-134">A marcação final para o GridView é:</span><span class="sxs-lookup"><span data-stu-id="7b41c-134">The final markup for the GridView is:</span></span>

[!code-aspx[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/samples/sample1.aspx)]

<span data-ttu-id="7b41c-135">Em seguida, é necessário marcar o GridView como selecionáveis, que adicionará um botão de seleção para cada linha.</span><span class="sxs-lookup"><span data-stu-id="7b41c-135">Next, we need to mark the GridView as selectable, which will add a Select button to each row.</span></span> <span data-ttu-id="7b41c-136">Para fazer isso, basta marcar a caixa de seleção Habilitar seleção na marca inteligente do GridView.</span><span class="sxs-lookup"><span data-stu-id="7b41c-136">To accomplish this, simply check the Enable Selection checkbox in the GridView's smart tag.</span></span>

<span data-ttu-id="7b41c-137">[![Tornar as linhas do GridView selecionável](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image17.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="7b41c-137">[![Make the GridView's Rows Selectable](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image17.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image16.png)</span></span>

<span data-ttu-id="7b41c-138">**Figura 6**: Tornar linhas selecionável o GridView ([clique para exibir a imagem em tamanho normal](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="7b41c-138">**Figure 6**: Make the GridView's Rows Selectable ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image18.png))</span></span>

<span data-ttu-id="7b41c-139">Marcando a opção de seleção Habilitar adiciona um CommandField para o `ProductsGrid` GridView com seu `ShowSelectButton` propriedade definida como True.</span><span class="sxs-lookup"><span data-stu-id="7b41c-139">Checking the Enabling Selection option adds a CommandField to the `ProductsGrid` GridView with its `ShowSelectButton` property set to True.</span></span> <span data-ttu-id="7b41c-140">Isso resulta em um botão de seleção para cada linha de GridView, conforme ilustra a Figura 6.</span><span class="sxs-lookup"><span data-stu-id="7b41c-140">This results in a Select button for each row of the GridView, as Figure 6 illustrates.</span></span> <span data-ttu-id="7b41c-141">Por padrão, os botões selecionados são renderizados como botões de link, mas você pode usar os botões ou ImageButtons em vez disso, por meio de CommandField `ButtonType` propriedade.</span><span class="sxs-lookup"><span data-stu-id="7b41c-141">By default, the Select buttons are rendered as LinkButtons, but you can use Buttons or ImageButtons instead through the CommandField's `ButtonType` property.</span></span>

[!code-aspx[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/samples/sample2.aspx)]

<span data-ttu-id="7b41c-142">Quando o botão de seleção da linha um GridView é clicado massacre de um postback e o GridView `SelectedRow` propriedade é atualizada.</span><span class="sxs-lookup"><span data-stu-id="7b41c-142">When a GridView row's Select button is clicked a postback ensues and the GridView's `SelectedRow` property is updated.</span></span> <span data-ttu-id="7b41c-143">Além de `SelectedRow` fornece de GridView de propriedade, o [SelectedIndex](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex%28VS.80%29.aspx), [SelectedValue](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue%28VS.80%29.aspx), e [SelectedDataKey](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selecteddatakey%28VS.80%29.aspx) propriedades.</span><span class="sxs-lookup"><span data-stu-id="7b41c-143">In addition to the `SelectedRow` property, the GridView provides the [SelectedIndex](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex%28VS.80%29.aspx), [SelectedValue](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue%28VS.80%29.aspx), and [SelectedDataKey](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selecteddatakey%28VS.80%29.aspx) properties.</span></span> <span data-ttu-id="7b41c-144">O `SelectedIndex` propriedade retorna o índice da linha selecionada, enquanto a `SelectedValue` e `SelectedDataKey` propriedades retornam valores com base no GridView [propriedade DataKeyNames](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames%28VS.80%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="7b41c-144">The `SelectedIndex` property returns the index of the selected row, whereas the `SelectedValue` and `SelectedDataKey` properties return values based upon the GridView's [DataKeyNames property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames%28VS.80%29.aspx).</span></span>

<span data-ttu-id="7b41c-145">O `DataKeyNames` propriedade é usada para associar um campo de dados mais valores ou com cada linha e é normalmente usado para as informações de identificação exclusivo dos dados subjacentes com cada linha de GridView de atributo.</span><span class="sxs-lookup"><span data-stu-id="7b41c-145">The `DataKeyNames` property is used to associate one or more data field values with each row and is commonly used to attribute uniquely identifying information from the underlying data with each GridView row.</span></span> <span data-ttu-id="7b41c-146">O `SelectedValue` propriedade retorna o valor do primeiro `DataKeyNames` campo de dados para a linha selecionada where como a `SelectedDataKey` propriedade retorna a linha selecionada `DataKey` objeto, que contém todos os valores para os campos de chave de dados especificado para Essa linha.</span><span class="sxs-lookup"><span data-stu-id="7b41c-146">The `SelectedValue` property returns the value of the first `DataKeyNames` data field for the selected row where as the `SelectedDataKey` property returns the selected row's `DataKey` object, which contains all of the values for the specified data key fields for that row.</span></span>

<span data-ttu-id="7b41c-147">O `DataKeyNames` propriedade é definida automaticamente para os campos de dados identificando exclusivamente quando você associa uma fonte de dados a um GridView, DetailsView ou FormView por meio do Designer.</span><span class="sxs-lookup"><span data-stu-id="7b41c-147">The `DataKeyNames` property is automatically set to the uniquely-identifying data field(s) when you bind a data source to a GridView, DetailsView, or FormView through the Designer.</span></span> <span data-ttu-id="7b41c-148">Embora essa propriedade foi definida para nós automaticamente nos tutoriais anteriores, os exemplos teria funcionado sem o `DataKeyNames` propriedade especificada.</span><span class="sxs-lookup"><span data-stu-id="7b41c-148">While this property has been set for us automatically in the preceding tutorials, the examples would have worked without the `DataKeyNames` property specified.</span></span> <span data-ttu-id="7b41c-149">No entanto, para o GridView selecionável neste tutorial, bem como para tutoriais futuros na qual podemos vai ser examinando inserindo, atualizando e excluindo, a `DataKeyNames` propriedade deve ser definida corretamente.</span><span class="sxs-lookup"><span data-stu-id="7b41c-149">However, for the selectable GridView in this tutorial, as well as for future tutorials in which we'll be examining inserting, updating, and deleting, the `DataKeyNames` property must be set properly.</span></span> <span data-ttu-id="7b41c-150">Reserve um tempo para garantir que o GridView `DataKeyNames` estiver definida como `ProductID`.</span><span class="sxs-lookup"><span data-stu-id="7b41c-150">Take a moment to ensure that your GridView's `DataKeyNames` property is set to `ProductID`.</span></span>

<span data-ttu-id="7b41c-151">Vamos visualizar o nosso progresso até o momento através de um navegador.</span><span class="sxs-lookup"><span data-stu-id="7b41c-151">Let's view our progress thus far through a browser.</span></span> <span data-ttu-id="7b41c-152">Observe que o GridView lista o nome e o preço para todos os produtos, juntamente com um LinkButton selecione.</span><span class="sxs-lookup"><span data-stu-id="7b41c-152">Note that the GridView lists the name and price for all of the products along with a Select LinkButton.</span></span> <span data-ttu-id="7b41c-153">Clicar no botão Select faz com que um postback.</span><span class="sxs-lookup"><span data-stu-id="7b41c-153">Clicking the Select button causes a postback.</span></span> <span data-ttu-id="7b41c-154">Na etapa 2, veremos como ter um DetailsView responder essa postagem, exibindo os detalhes para o produto selecionado.</span><span class="sxs-lookup"><span data-stu-id="7b41c-154">In Step 2 we'll see how to have a DetailsView respond to this postback by displaying the details for the selected product.</span></span>

<span data-ttu-id="7b41c-155">[![Cada linha de produto contém um LinkButton Select](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image20.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="7b41c-155">[![Each Product Row Contains a Select LinkButton](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image20.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image19.png)</span></span>

<span data-ttu-id="7b41c-156">**Figura 7**: Cada linha de produto contém um LinkButton selecione ([clique para exibir a imagem em tamanho normal](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="7b41c-156">**Figure 7**: Each Product Row Contains a Select LinkButton ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image21.png))</span></span>

## <a name="highlighting-the-selected-row"></a><span data-ttu-id="7b41c-157">Realce a linha selecionada</span><span class="sxs-lookup"><span data-stu-id="7b41c-157">Highlighting the Selected Row</span></span>

<span data-ttu-id="7b41c-158">O `ProductsGrid` GridView tem uma `SelectedRowStyle` propriedade que pode ser usada para definir o estilo visual para a linha selecionada.</span><span class="sxs-lookup"><span data-stu-id="7b41c-158">The `ProductsGrid` GridView has a `SelectedRowStyle` property that can be used to dictate the visual style for the selected row.</span></span> <span data-ttu-id="7b41c-159">Usada corretamente, isso pode melhorar a experiência do usuário mais claramente mostrando qual linha de GridView está selecionada no momento.</span><span class="sxs-lookup"><span data-stu-id="7b41c-159">Used properly, this can improve the user's experience by more clearly showing which row of the GridView is currently selected.</span></span> <span data-ttu-id="7b41c-160">Para este tutorial, vamos ter a linha selecionada destacado com um plano de fundo amarelo.</span><span class="sxs-lookup"><span data-stu-id="7b41c-160">For this tutorial, let's have the selected row be highlighted with a yellow background.</span></span>

<span data-ttu-id="7b41c-161">Assim como acontece com nossos tutoriais anteriores, vamos tentar manter as configurações relacionadas a estética definidas como classes CSS.</span><span class="sxs-lookup"><span data-stu-id="7b41c-161">As with our earlier tutorials, let's strive to keep the aesthetic-related settings defined as CSS classes.</span></span> <span data-ttu-id="7b41c-162">Portanto, crie uma nova classe CSS na `Styles.css` chamado `SelectedRowStyle`.</span><span class="sxs-lookup"><span data-stu-id="7b41c-162">Therefore, create a new CSS class in `Styles.css` named `SelectedRowStyle`.</span></span>

[!code-css[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/samples/sample3.css)]

<span data-ttu-id="7b41c-163">Para aplicar essa classe CSS para o `SelectedRowStyle` propriedade do *todos os* GridViews nossa série de tutoriais, editar o `GridView.skin` da aparência no `DataWebControls` tema para incluir o `SelectedRowStyle` configurações, conforme mostrado abaixo:</span><span class="sxs-lookup"><span data-stu-id="7b41c-163">To apply this CSS class to the `SelectedRowStyle` property of *all* GridViews in our tutorial series, edit the `GridView.skin` Skin in the `DataWebControls` Theme to include the `SelectedRowStyle` settings as shown below:</span></span>

[!code-aspx[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/samples/sample4.aspx)]

<span data-ttu-id="7b41c-164">Com esse acréscimo, a linha de GridView selecionada agora é realçada com uma cor de plano de fundo amarelo.</span><span class="sxs-lookup"><span data-stu-id="7b41c-164">With this addition, the selected GridView row is now highlighted with a yellow background color.</span></span>

<span data-ttu-id="7b41c-165">[![Personalizar a aparência da linha selecionada usando a propriedade de SelectedRowStyle do GridView](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image23.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="7b41c-165">[![Customize the Selected Row's Appearance Using the GridView's SelectedRowStyle Property](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image23.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image22.png)</span></span>

<span data-ttu-id="7b41c-166">**Figura 8**: Personalizar o uso de aparência da linha selecionada do GridView `SelectedRowStyle` propriedade ([clique para exibir a imagem em tamanho normal](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="7b41c-166">**Figure 8**: Customize the Selected Row's Appearance Using the GridView's `SelectedRowStyle` Property ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image24.png))</span></span>

## <a name="step-2-displaying-the-selected-products-details-in-a-detailsview"></a><span data-ttu-id="7b41c-167">Etapa 2: Exibindo detalhes do produto selecionado em um DetailsView</span><span class="sxs-lookup"><span data-stu-id="7b41c-167">Step 2: Displaying the Selected Product's Details in a DetailsView</span></span>

<span data-ttu-id="7b41c-168">Com o `ProductsGrid` GridView concluir, tudo o que resta fazer é adicionar um DetailsView que exibe informações sobre o produto específico selecionado.</span><span class="sxs-lookup"><span data-stu-id="7b41c-168">With the `ProductsGrid` GridView complete, all that remains is to add a DetailsView that displays information about the particular product selected.</span></span> <span data-ttu-id="7b41c-169">Adicionar um controle DetailsView acima GridView e criar um novo ObjectDataSource chamado `ProductDetailsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="7b41c-169">Add a DetailsView control above the GridView and create a new ObjectDataSource named `ProductDetailsDataSource`.</span></span> <span data-ttu-id="7b41c-170">Como queremos que essa DetailsView para exibir informações específicas sobre o produto selecionado, configure a `ProductDetailsDataSource` para usar o `ProductsBLL` da classe `GetProductByProductID(productID)` método.</span><span class="sxs-lookup"><span data-stu-id="7b41c-170">Since we want this DetailsView to display particular information about the selected product, configure the `ProductDetailsDataSource` to use the `ProductsBLL` class's `GetProductByProductID(productID)` method.</span></span>

<span data-ttu-id="7b41c-171">[![Invocar o ProductsBLL método da classe GetProductByProductID(productID)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image26.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="7b41c-171">[![Invoke the ProductsBLL Class's GetProductByProductID(productID) Method](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image26.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image25.png)</span></span>

<span data-ttu-id="7b41c-172">**Figura 9**: Invocar o `ProductsBLL` da classe `GetProductByProductID(productID)` método ([clique para exibir a imagem em tamanho normal](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="7b41c-172">**Figure 9**: Invoke the `ProductsBLL` Class's `GetProductByProductID(productID)` Method ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image27.png))</span></span>

<span data-ttu-id="7b41c-173">Ter o *`productID`* valor do parâmetro obtido do controle GridView `SelectedValue` propriedade.</span><span class="sxs-lookup"><span data-stu-id="7b41c-173">Have the *`productID`* parameter's value obtained from the GridView control's `SelectedValue` property.</span></span> <span data-ttu-id="7b41c-174">Conforme discutido anteriormente, o GridView `SelectedValue` propriedade retorna a primeira chave de dados valor para a linha selecionada.</span><span class="sxs-lookup"><span data-stu-id="7b41c-174">As we discussed earlier, the GridView's `SelectedValue` property returns the first data key value for the selected row.</span></span> <span data-ttu-id="7b41c-175">Portanto, é fundamental que o GridView `DataKeyNames` estiver definida como `ProductID`, de modo que a linha selecionada `ProductID` valor é retornado por `SelectedValue`.</span><span class="sxs-lookup"><span data-stu-id="7b41c-175">Therefore, it's imperative that the GridView's `DataKeyNames` property is set to `ProductID`, so that the selected row's `ProductID` value is returned by `SelectedValue`.</span></span>

<span data-ttu-id="7b41c-176">[![Defina o parâmetro productID como propriedade SelectedValue do GridView](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image29.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="7b41c-176">[![Set the productID Parameter to the GridView's SelectedValue Property](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image29.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image28.png)</span></span>

<span data-ttu-id="7b41c-177">**Figura 10**: Defina as *`productID`* parâmetro para o GridView `SelectedValue` propriedade ([clique para exibir a imagem em tamanho normal](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="7b41c-177">**Figure 10**: Set the *`productID`* Parameter to the GridView's `SelectedValue` Property ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image30.png))</span></span>

<span data-ttu-id="7b41c-178">Uma vez o `productDetailsDataSource` ObjectDataSource foi configurado corretamente e associado ao DetailsView, este tutorial está concluído!</span><span class="sxs-lookup"><span data-stu-id="7b41c-178">Once the `productDetailsDataSource` ObjectDataSource has been configured correctly and bound to the DetailsView, this tutorial is complete!</span></span> <span data-ttu-id="7b41c-179">Quando a página é visitada primeiro nenhuma linha está selecionada, para que do GridView `SelectedValue` propriedade retorna `Nothing`.</span><span class="sxs-lookup"><span data-stu-id="7b41c-179">When the page is first visited no row is selected, so the GridView's `SelectedValue` property returns `Nothing`.</span></span> <span data-ttu-id="7b41c-180">Como não há nenhum produto com uma `NULL` `ProductID` valor, não há registros são retornados pelo `GetProductByProductID(productID)` método, o que significa que o DetailsView não é exibido (veja a Figura 11).</span><span class="sxs-lookup"><span data-stu-id="7b41c-180">Since there are no products with a `NULL` `ProductID` value, no records are returned by the `GetProductByProductID(productID)` method, meaning that the DetailsView isn't displayed (see Figure 11).</span></span> <span data-ttu-id="7b41c-181">Ao clicar em botão de seleção de uma linha GridView, um postback massacre e DetailsView é atualizada.</span><span class="sxs-lookup"><span data-stu-id="7b41c-181">Upon clicking a GridView row's Select button, a postback ensues and the DetailsView is refreshed.</span></span> <span data-ttu-id="7b41c-182">Dessa vez o GridView `SelectedValue` propriedade retorna o `ProductID` da linha selecionada, o `GetProductByProductID(productID)` método retorna um `ProductsDataTable` com informações sobre um produto em particular e DetailsView mostra esses detalhes (veja a Figura 12).</span><span class="sxs-lookup"><span data-stu-id="7b41c-182">This time the GridView's `SelectedValue` property returns the `ProductID` of the selected row, the `GetProductByProductID(productID)` method returns a `ProductsDataTable` with information about that particular product, and the DetailsView shows these details (see Figure 12).</span></span>

<span data-ttu-id="7b41c-183">[![Quando visitado primeiro, apenas o GridView é exibido](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image32.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="7b41c-183">[![When First Visited, Only the GridView is Displayed](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image32.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image31.png)</span></span>

<span data-ttu-id="7b41c-184">**Figura 11**: Quando visitado pela primeira vez, apenas o GridView é exibido ([clique para exibir a imagem em tamanho normal](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="7b41c-184">**Figure 11**: When First Visited, Only the GridView is Displayed ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image33.png))</span></span>

<span data-ttu-id="7b41c-185">[![Ao selecionar uma linha, os detalhes do produto são exibidas](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image35.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="7b41c-185">[![Upon Selecting a Row, the Product's Details are Displayed](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image35.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image34.png)</span></span>

<span data-ttu-id="7b41c-186">**Figura 12**: Ao selecionar uma linha, os detalhes do produto são exibidas ([clique para exibir a imagem em tamanho normal](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="7b41c-186">**Figure 12**: Upon Selecting a Row, the Product's Details are Displayed ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image36.png))</span></span>

## <a name="summary"></a><span data-ttu-id="7b41c-187">Resumo</span><span class="sxs-lookup"><span data-stu-id="7b41c-187">Summary</span></span>

<span data-ttu-id="7b41c-188">Neste e os tutoriais de três anteriores, vimos uma série de técnicas para exibir os relatórios mestre/detalhes.</span><span class="sxs-lookup"><span data-stu-id="7b41c-188">In this and the preceding three tutorials we've seen a number of techniques for displaying master/detail reports.</span></span> <span data-ttu-id="7b41c-189">Neste tutorial, examinamos usando um GridView selecionável para hospedar os registros mestres e um DetailsView para exibir detalhes sobre o registro de mestre selecionado na mesma página.</span><span class="sxs-lookup"><span data-stu-id="7b41c-189">In this tutorial we examined using a selectable GridView to house the master records and a DetailsView to display details about the selected master record on the same page.</span></span> <span data-ttu-id="7b41c-190">Nos tutoriais anteriores analisamos como exibir os relatórios mestre/detalhes usando DropDownLists e exibindo registros mestres em uma página da web e registros de detalhe em outro.</span><span class="sxs-lookup"><span data-stu-id="7b41c-190">In the earlier tutorials we looked at how to display master/details reports using DropDownLists and displaying master records on one web page and detail records on another.</span></span>

<span data-ttu-id="7b41c-191">Esse tutorial conclui nossa análise do relatórios mestre/detalhes.</span><span class="sxs-lookup"><span data-stu-id="7b41c-191">This tutorial concludes our examination of master/detail reports.</span></span> <span data-ttu-id="7b41c-192">Começando com o próximo tutorial começaremos nossa exploração de formatação personalizada com o GridView, DetailsView e FormView.</span><span class="sxs-lookup"><span data-stu-id="7b41c-192">Starting with the next tutorial we'll begin our exploration of customized formatting with the GridView, DetailsView, and FormView.</span></span> <span data-ttu-id="7b41c-193">Veremos como personalizar a aparência desses controles com base nos dados associados a eles, como resumir os dados no rodapé do GridView e como usar modelos para obter um maior grau de controle sobre o layout.</span><span class="sxs-lookup"><span data-stu-id="7b41c-193">We'll see how to customize the appearance of these controls based on the data bound to them, how to summarize data in the GridView's footer, and how to use templates to obtain a greater degree of control over the layout.</span></span>

<span data-ttu-id="7b41c-194">Boa programação!</span><span class="sxs-lookup"><span data-stu-id="7b41c-194">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="7b41c-195">Sobre o autor</span><span class="sxs-lookup"><span data-stu-id="7b41c-195">About the Author</span></span>

<span data-ttu-id="7b41c-196">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor de sete livros sobre ASP/ASP.NET e fundador da [4GuysFromRolla.com](http://www.4guysfromrolla.com), tem trabalhado com tecnologias Microsoft Web desde 1998.</span><span class="sxs-lookup"><span data-stu-id="7b41c-196">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="7b41c-197">Scott funciona como um consultor independente, instrutor e escritor.</span><span class="sxs-lookup"><span data-stu-id="7b41c-197">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="7b41c-198">Seu livro mais recente é [ *Sams Teach por conta própria ASP.NET 2.0 em 24 horas*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="7b41c-198">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="7b41c-199">Ele pode ser contatado pelo [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="7b41c-199">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="7b41c-200">ou por meio de seu blog, que pode ser encontrado em [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="7b41c-200">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="7b41c-201">Agradecimentos especiais a</span><span class="sxs-lookup"><span data-stu-id="7b41c-201">Special Thanks To</span></span>

<span data-ttu-id="7b41c-202">Esta série de tutoriais foi revisada por muitos revisores úteis.</span><span class="sxs-lookup"><span data-stu-id="7b41c-202">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="7b41c-203">Revisor de avanço para este tutorial foi Hilton Giesenow.</span><span class="sxs-lookup"><span data-stu-id="7b41c-203">Lead reviewer for this tutorial was Hilton Giesenow.</span></span> <span data-ttu-id="7b41c-204">Você está interessado na revisão Meus próximos artigos do MSDN?</span><span class="sxs-lookup"><span data-stu-id="7b41c-204">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="7b41c-205">Nesse caso, me descartar uma linha na [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="7b41c-205">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="7b41c-206">Anterior</span><span class="sxs-lookup"><span data-stu-id="7b41c-206">Previous</span></span>](master-detail-filtering-across-two-pages-vb.md)
