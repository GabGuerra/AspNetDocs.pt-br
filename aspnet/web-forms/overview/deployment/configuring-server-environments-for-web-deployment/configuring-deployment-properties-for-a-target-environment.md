---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment
title: Configurando propriedades de implantação para um ambiente de destino | Microsoft Docs
author: jrjlee
description: Este tópico descreve como configurar as propriedades específicas de ambiente para implantar a solução de Gerenciador de contatos de exemplo em um ambiente de destino específico...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: b5b86e03-b8ed-46e6-90fa-e1da88ef34e9
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment
msc.type: authoredcontent
ms.openlocfilehash: 74fc0f4cb7d3ed7d1ef091cdb8fa829091af5a7a
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/09/2019
ms.locfileid: "59388680"
---
# <a name="configuring-deployment-properties-for-a-target-environment"></a><span data-ttu-id="3ad16-103">Configuração de propriedades de implantação para um ambiente de destino</span><span class="sxs-lookup"><span data-stu-id="3ad16-103">Configuring Deployment Properties for a Target Environment</span></span>

<span data-ttu-id="3ad16-104">by [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="3ad16-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="3ad16-105">Baixar PDF</span><span class="sxs-lookup"><span data-stu-id="3ad16-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="3ad16-106">Este tópico descreve como configurar as propriedades específicas de ambiente para implantar a solução de Gerenciador de contatos de exemplo em um ambiente de destino específico.</span><span class="sxs-lookup"><span data-stu-id="3ad16-106">This topic describes how to configure environment-specific properties in order to deploy the sample Contact Manager solution to a specific target environment.</span></span>


<span data-ttu-id="3ad16-107">Este tópico faz parte de uma série de tutoriais com base em torno de requisitos corporativos de implantação de uma empresa fictícia chamada Fabrikam, Inc. Esta série de tutoriais usa uma solução de exemplo&#x2014;o [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) solução&#x2014;para representar um aplicativo web com um nível realista de complexidade, incluindo um aplicativo ASP.NET MVC 3, uma comunicação do Windows Serviço Foundation (WCF) e um projeto de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="3ad16-107">This topic forms part of a series of tutorials based around the enterprise deployment requirements of a fictional company named Fabrikam, Inc. This tutorial series uses a sample solution&#x2014;the [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) solution&#x2014;to represent a web application with a realistic level of complexity, including an ASP.NET MVC 3 application, a Windows Communication Foundation (WCF) service, and a database project.</span></span>

<span data-ttu-id="3ad16-108">O método de implantação no centro desses tutoriais se baseia a abordagem de arquivo de projeto divisão descrita [Noções básicas sobre o processo de compilação](../web-deployment-in-the-enterprise/understanding-the-build-process.md), em que o processo de compilação é controlado por dois arquivos de projeto&#x2014;uma contendo instruções que se aplicam a todos os ambientes de destino e que contém configurações específicas do ambiente de compilação e implantação de build.</span><span class="sxs-lookup"><span data-stu-id="3ad16-108">The deployment method at the heart of these tutorials is based on the split project file approach described in [Understanding the Build Process](../web-deployment-in-the-enterprise/understanding-the-build-process.md), in which the build process is controlled by two project files&#x2014;one containing build instructions that apply to every destination environment, and one containing environment-specific build and deployment settings.</span></span> <span data-ttu-id="3ad16-109">No momento da compilação, o arquivo de projeto específicas do ambiente é mesclado no arquivo de projeto de ambiente independente para formar um conjunto completo de instruções de compilação.</span><span class="sxs-lookup"><span data-stu-id="3ad16-109">At build time, the environment-specific project file is merged into the environment-agnostic project file to form a complete set of build instructions.</span></span>

## <a name="process-overview"></a><span data-ttu-id="3ad16-110">Visão geral do processo</span><span class="sxs-lookup"><span data-stu-id="3ad16-110">Process Overview</span></span>

<span data-ttu-id="3ad16-111">O arquivo de projeto que você usará para criar e implantar a solução de Gerenciador de contatos é dividido em dois arquivos físicos:</span><span class="sxs-lookup"><span data-stu-id="3ad16-111">The project file that you'll use to build and deploy the Contact Manager solution is split into two physical files:</span></span>

- <span data-ttu-id="3ad16-112">Um que contenha universal compilar configurações e instruções (o *Publish.proj* arquivo).</span><span class="sxs-lookup"><span data-stu-id="3ad16-112">One that contains universal build settings and instructions (the *Publish.proj* file).</span></span>
- <span data-ttu-id="3ad16-113">Configurações de build que contenha específicas do ambiente (*Env Dev.proj*, *Stage.proj Env*e assim por diante).</span><span class="sxs-lookup"><span data-stu-id="3ad16-113">One that contains environment-specific build settings (*Env-Dev.proj*, *Env-Stage.proj*, and so on).</span></span>

<span data-ttu-id="3ad16-114">No momento da compilação, o arquivo de projeto apropriadas de específicas do ambiente é mesclado no universal *Publish.proj* arquivo para formar um conjunto completo de instruções de compilação.</span><span class="sxs-lookup"><span data-stu-id="3ad16-114">At build time, the appropriate environment-specific project file is merged into the universal *Publish.proj* file to form a complete set of build instructions.</span></span> <span data-ttu-id="3ad16-115">Você pode configurar a implantação para ambientes de destino específico, criar ou personalizar os arquivos de projeto específicas do ambiente com configurações que descrevem o seu cenário de implantação.</span><span class="sxs-lookup"><span data-stu-id="3ad16-115">You can configure deployment to specific destination environments by creating or customizing environment-specific project files with settings that describe your own deployment scenario.</span></span>

<span data-ttu-id="3ad16-116">Muitos desses valores são determinados pelo como seu ambiente de destino está configurado&#x2014;em particular, se seu servidor web de destino está configurado para usar o serviço de agente de implantação da Web (o agente remoto) ou o manipulador de implantação da Web.</span><span class="sxs-lookup"><span data-stu-id="3ad16-116">Lots of these values are determined by how your destination environment is configured&#x2014;in particular, whether your target web server is configured to use the Web Deployment Agent Service (the remote agent) or the Web Deploy Handler.</span></span> <span data-ttu-id="3ad16-117">Para obter mais informações sobre essas abordagens e para obter orientação sobre como escolher a abordagem certa para seu próprio ambiente, consulte [escolhendo a abordagem da direita para a implantação da Web](choosing-the-right-approach-to-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="3ad16-117">For more information on these approaches, and for guidance on choosing the right approach for your own environment, see [Choosing the Right Approach to Web Deployment](choosing-the-right-approach-to-web-deployment.md).</span></span>

<span data-ttu-id="3ad16-118">O [Contact Manager cenário](../deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview.md) requer dois arquivos de projeto específicas do ambiente:</span><span class="sxs-lookup"><span data-stu-id="3ad16-118">The [Contact Manager scenario](../deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview.md) requires two environment-specific project files:</span></span>

- <span data-ttu-id="3ad16-119">Implantação em um ambiente de teste do desenvolvedor (*Env Dev.proj*).</span><span class="sxs-lookup"><span data-stu-id="3ad16-119">Deployment to a developer test environment (*Env-Dev.proj*).</span></span> <span data-ttu-id="3ad16-120">O ambiente de teste do desenvolvedor está configurado para aceitar as implantações remotas usando o agente remoto, conforme descrito em [cenário: Configurando um ambiente de teste para implantação da Web](scenario-configuring-a-test-environment-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="3ad16-120">The developer test environment is configured to accept remote deployments using the remote agent, as described in [Scenario: Configuring a Test Environment for Web Deployment](scenario-configuring-a-test-environment-for-web-deployment.md).</span></span> <span data-ttu-id="3ad16-121">Esse arquivo precisa fornecer o agente remoto, endereço de ponto de extremidade, bem como configurações específicas do local, como cadeias de caracteres de conexão e pontos de extremidade de serviço.</span><span class="sxs-lookup"><span data-stu-id="3ad16-121">This file needs to provide the remote agent endpoint address as well as location-specific settings like connection strings and service endpoints.</span></span>
- <span data-ttu-id="3ad16-122">Implantação em um ambiente de preparo (*Env Stage.proj*).</span><span class="sxs-lookup"><span data-stu-id="3ad16-122">Deployment to a staging environment (*Env-Stage.proj*).</span></span> <span data-ttu-id="3ad16-123">O ambiente de preparo está configurado para aceitar as implantações remotas usando o manipulador de implantação da Web, conforme descrito em [cenário: Configurando um ambiente de preparo para a implantação da Web](scenario-configuring-a-staging-environment-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="3ad16-123">The staging environment is configured to accept remote deployments using the Web Deploy Handler, as described in [Scenario: Configuring a Staging Environment for Web Deployment](scenario-configuring-a-staging-environment-for-web-deployment.md).</span></span> <span data-ttu-id="3ad16-124">Esse arquivo precisa fornecer o endereço de ponto de extremidade do manipulador de implantação da Web, bem como as configurações específicas do local, como cadeias de caracteres de conexão e os pontos de extremidade de serviço.</span><span class="sxs-lookup"><span data-stu-id="3ad16-124">This file needs to provide the Web Deploy Handler endpoint address as well as location-specific settings like connection strings and service endpoints.</span></span>

<span data-ttu-id="3ad16-125">É importante observar que as configurações definidas no arquivo de projeto específicas do ambiente não afetam o conteúdo do pacote da web em si&#x2014;em vez disso, eles controlam como o pacote é implantado e quais valores de parâmetro são fornecidos quando o pacote for extraídos.</span><span class="sxs-lookup"><span data-stu-id="3ad16-125">It's important to note that the settings you configure in the environment-specific project file don't affect the contents of the web package itself&#x2014;instead, they control how the package is deployed and what parameter values are provided when the package is extracted.</span></span> <span data-ttu-id="3ad16-126">Você está importando o pacote da web para o ambiente de produção manualmente, conforme descrito em [cenário: Configurando um ambiente de produção para implantação da Web](scenario-configuring-a-production-environment-for-web-deployment.md) e [manualmente instalando os pacotes da Web](../web-deployment-in-the-enterprise/manually-installing-web-packages.md), portanto, não importa quais configurações você usou no arquivo de projeto específicas do ambiente, quando você gerar o pacote.</span><span class="sxs-lookup"><span data-stu-id="3ad16-126">You're importing the web package into the production environment manually, as described in [Scenario: Configuring a Production Environment for Web Deployment](scenario-configuring-a-production-environment-for-web-deployment.md) and [Manually Installing Web Packages](../web-deployment-in-the-enterprise/manually-installing-web-packages.md), so it doesn't matter what settings you used in the environment-specific project file when you generated the package.</span></span> <span data-ttu-id="3ad16-127">Serviços de informações da Internet (IIS) Manager lhe solicitará quaisquer valores com parâmetros, como cadeias de caracteres de conexão e pontos de extremidade de serviço, quando você importa o pacote.</span><span class="sxs-lookup"><span data-stu-id="3ad16-127">Internet Information Services (IIS) Manager will prompt you for any parameterized values, like connection strings and service endpoints, when you import the package.</span></span>

<span data-ttu-id="3ad16-128">Para implantar a solução de Gerenciador de contatos em seu próprio ambiente de destino, você pode personalizar este arquivo ou usá-lo como um modelo e criar seu próprio arquivo.</span><span class="sxs-lookup"><span data-stu-id="3ad16-128">To deploy the Contact Manager solution to your own target environment, you can either customize this file or use it as a template and create your own file.</span></span>

**<span data-ttu-id="3ad16-129">Para definir configurações de implantação específicas do ambiente para a solução de Gerenciador de contatos</span><span class="sxs-lookup"><span data-stu-id="3ad16-129">To configure environment-specific deployment settings for the Contact Manager solution</span></span>**

1. <span data-ttu-id="3ad16-130">Abra a solução WCF ContactManager no Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="3ad16-130">Open the ContactManager-WCF solution in Visual Studio 2010.</span></span>
2. <span data-ttu-id="3ad16-131">No **Gerenciador de soluções** janela, expanda o **Publish** pasta, expanda o **EnvConfig** pasta e clique duas vezes em **Env-Dev.proj**.</span><span class="sxs-lookup"><span data-stu-id="3ad16-131">In the **Solution Explorer** window, expand the **Publish** folder, expand the **EnvConfig** folder, and then double-click **Env-Dev.proj**.</span></span>

    ![](configuring-deployment-properties-for-a-target-environment/_static/image1.png)
3. <span data-ttu-id="3ad16-132">Substitua os valores de propriedade na *Env Dev.proj* arquivo com os valores corretos para seu próprio ambiente de teste.</span><span class="sxs-lookup"><span data-stu-id="3ad16-132">Replace the property values in the *Env-Dev.proj* file with the correct values for your own test environment.</span></span>

    > [!NOTE]
    > <span data-ttu-id="3ad16-133">A tabela a seguir esse procedimento fornece mais informações sobre cada uma dessas propriedades.</span><span class="sxs-lookup"><span data-stu-id="3ad16-133">The table that follows this procedure provides more information on each of these properties.</span></span>
4. <span data-ttu-id="3ad16-134">Salve seu trabalho e, em seguida, feche o *Env Dev.proj* arquivo.</span><span class="sxs-lookup"><span data-stu-id="3ad16-134">Save your work, and then close the *Env-Dev.proj* file.</span></span>

## <a name="choosing-the-right-deployment-properties"></a><span data-ttu-id="3ad16-135">Escolhendo as propriedades de implantação certa</span><span class="sxs-lookup"><span data-stu-id="3ad16-135">Choosing the Right Deployment Properties</span></span>

<span data-ttu-id="3ad16-136">Esta tabela descreve a finalidade de cada propriedade no arquivo de projeto específicas do ambiente de exemplo, *Env Dev.proj*e fornece algumas diretrizes sobre os valores que você deve fornecer.</span><span class="sxs-lookup"><span data-stu-id="3ad16-136">This table describes the purpose of each property in the sample environment-specific project file, *Env-Dev.proj*, and provides some guidance on the values you should provide.</span></span>


|                                                        <span data-ttu-id="3ad16-137">Nome da Propriedade</span><span class="sxs-lookup"><span data-stu-id="3ad16-137">Property Name</span></span>                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span data-ttu-id="3ad16-138">Detalhes</span><span class="sxs-lookup"><span data-stu-id="3ad16-138">Details</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|              <span data-ttu-id="3ad16-139"><strong>MSDeployComputerName</strong> o nome do destino da web server ou o serviço de ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="3ad16-139"><strong>MSDeployComputerName</strong> The name of the destination web server or service endpoint.</span></span>               |                                                                                                                                                                                                                                              <span data-ttu-id="3ad16-140">Se você estiver implantando o serviço de agente remoto no servidor web de destino, você pode especificar o nome do computador de destino (por exemplo, <strong>TESTWEB1</strong> ou <strong>TESTWEB1.fabrikam.net</strong>), ou você pode especificar o computador remoto ponto de extremidade do agente (por exemplo, `http://TESTWEB1/MSDEPLOYAGENTSERVICE`).</span><span class="sxs-lookup"><span data-stu-id="3ad16-140">If you're deploying to the remote agent service on the destination web server, you can specify the target computer name (for example, <strong>TESTWEB1</strong> or <strong>TESTWEB1.fabrikam.net</strong>), or you can specify the remote agent endpoint (for example, `http://TESTWEB1/MSDEPLOYAGENTSERVICE`).</span></span> <span data-ttu-id="3ad16-141">A implantação funciona da mesma maneira em cada caso.</span><span class="sxs-lookup"><span data-stu-id="3ad16-141">The deployment works the same way in each case.</span></span> <span data-ttu-id="3ad16-142">Se você estiver implantando o manipulador de implantação da Web no servidor web de destino, você deve especificar o ponto de extremidade de serviço e incluir o nome do site do IIS como um parâmetro de cadeia de caracteres de consulta (por exemplo, `https://STAGEWEB1:8172/MSDeploy.axd?site=DemoSite`).</span><span class="sxs-lookup"><span data-stu-id="3ad16-142">If you're deploying to the Web Deploy Handler on the destination web server, you should specify the service endpoint and include the name of the IIS website as a query string parameter (for example, `https://STAGEWEB1:8172/MSDeploy.axd?site=DemoSite`).</span></span>                                                                                                                                                                                                                                              |
|         <span data-ttu-id="3ad16-143"><strong>MSDeployAuth</strong> o método de implantação da Web deve usar para autenticar com o computador remoto.</span><span class="sxs-lookup"><span data-stu-id="3ad16-143"><strong>MSDeployAuth</strong> The method that Web Deploy should use to authenticate to the remote computer.</span></span>          |                                                                                                                                                                                                                          <span data-ttu-id="3ad16-144">Isso deve ser definido como <strong>NTLM</strong> ou <strong>básica</strong>.</span><span class="sxs-lookup"><span data-stu-id="3ad16-144">This should be set to <strong>NTLM</strong> or <strong>Basic</strong>.</span></span> <span data-ttu-id="3ad16-145">Normalmente, você usará <strong>NTLM</strong> se você estiver implantando o serviço de agente remoto e <strong>básica</strong> se você estiver implantando o manipulador de implantação da Web.</span><span class="sxs-lookup"><span data-stu-id="3ad16-145">Typically, you'll use <strong>NTLM</strong> if you're deploying to the remote agent service and <strong>Basic</strong> if you're deploying to the Web Deploy Handler.</span></span> <span data-ttu-id="3ad16-146">Se você usar a autenticação básica, você também precisará especificar o nome de usuário e senha que a ferramenta de implantação da Web de IIS (implantação da Web) deve representar a fim de executar a implantação.</span><span class="sxs-lookup"><span data-stu-id="3ad16-146">If you use basic authentication, you also need to specify the user name and password that the IIS Web Deployment Tool (Web Deploy) should impersonate in order to perform the deployment.</span></span> <span data-ttu-id="3ad16-147">Neste exemplo, esses valores são fornecidos por meio de <strong>MSDeployUsername</strong> e <strong>MSDeployPassword</strong> propriedades.</span><span class="sxs-lookup"><span data-stu-id="3ad16-147">In this example, these values are provided through the <strong>MSDeployUsername</strong> and <strong>MSDeployPassword</strong> properties.</span></span> <span data-ttu-id="3ad16-148">Se você usar a autenticação NTLM, você pode omitir essas propriedades ou deixá-los em branco.</span><span class="sxs-lookup"><span data-stu-id="3ad16-148">If you use NTLM authentication, you can omit these properties or leave them blank.</span></span>                                                                                                                                                                                                                          |
| <span data-ttu-id="3ad16-149"><strong>MSDeployUsername</strong> se você usar a autenticação básica, a implantação da Web usará a essa conta no computador remoto.</span><span class="sxs-lookup"><span data-stu-id="3ad16-149"><strong>MSDeployUsername</strong> If you use basic authentication, Web Deploy will use this account on the remote computer.</span></span>  |                                                                                                                                                                                                                                                                                                                                                                                                                       <span data-ttu-id="3ad16-150">Isso deve ter a forma <em>domínio</em>\*nome de usuário \* (por exemplo, <strong>FABRIKAM\matt</strong>).</span><span class="sxs-lookup"><span data-stu-id="3ad16-150">This should take the form <em>DOMAIN</em>\*username\* (for example, <strong>FABRIKAM\matt</strong>).</span></span> <span data-ttu-id="3ad16-151">Esse valor é usado somente se você especificar a autenticação básica.</span><span class="sxs-lookup"><span data-stu-id="3ad16-151">This value is only used if you specify basic authentication.</span></span> <span data-ttu-id="3ad16-152">Se você usar a autenticação NTLM, a propriedade pode ser omitida.</span><span class="sxs-lookup"><span data-stu-id="3ad16-152">If you use NTLM authentication, the property can be omitted.</span></span> <span data-ttu-id="3ad16-153">Se um valor for fornecido, ele será ignorado.</span><span class="sxs-lookup"><span data-stu-id="3ad16-153">If a value is supplied, it will be ignored.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="3ad16-154"><strong>MSDeployPassword</strong> se você usar a autenticação básica, a implantação da Web usar essa senha no computador remoto.</span><span class="sxs-lookup"><span data-stu-id="3ad16-154"><strong>MSDeployPassword</strong> If you use basic authentication, Web Deploy will use this password on the remote computer.</span></span> |                                                                                                                                                                                                                                                                                                                                                                                                                    <span data-ttu-id="3ad16-155">Esta é a senha da conta de usuário especificado na <strong>MSDeployUsername</strong> propriedade.</span><span class="sxs-lookup"><span data-stu-id="3ad16-155">This is the password for the user account you specified in the <strong>MSDeployUsername</strong> property.</span></span> <span data-ttu-id="3ad16-156">Esse valor é usado somente se você especificar a autenticação básica.</span><span class="sxs-lookup"><span data-stu-id="3ad16-156">This value is only used if you specify basic authentication.</span></span> <span data-ttu-id="3ad16-157">Se você usar a autenticação NTLM, a propriedade pode ser omitida.</span><span class="sxs-lookup"><span data-stu-id="3ad16-157">If you use NTLM authentication, the property can be omitted.</span></span> <span data-ttu-id="3ad16-158">Se um valor for fornecido, ele será ignorado.</span><span class="sxs-lookup"><span data-stu-id="3ad16-158">If a value is supplied, it will be ignored.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                    |
|     <span data-ttu-id="3ad16-159"><strong>ContactManagerIisPath</strong> caminho o IIS no qual você deseja implantar o aplicativo MVC do Gerenciador de contatos.</span><span class="sxs-lookup"><span data-stu-id="3ad16-159"><strong>ContactManagerIisPath</strong> The IIS path on which you want to deploy the Contact Manager MVC application.</span></span>     |                                                                                                                                                                                                                                                                                                                                                                        <span data-ttu-id="3ad16-160">Isso deve ser o caminho como ele aparece no Gerenciador do IIS, no formato [<em>nome do site do IIS</em>] / [<em>web</em><em>nome do aplicativo</em>].</span><span class="sxs-lookup"><span data-stu-id="3ad16-160">This should be the path as it appears in IIS Manager, in the form [<em>IIS website name</em>]/[<em>web</em><em>application name</em>].</span></span> <span data-ttu-id="3ad16-161">Lembre-se de que o site do IIS precisa existir antes de implantar seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="3ad16-161">Remember that the IIS website needs to exist before you deploy your application.</span></span> <span data-ttu-id="3ad16-162">Por exemplo, se você tiver criado um site do IIS denominado DemoSite, você pode especificar o caminho do IIS para o aplicativo de MVC como DemoSite/ContactManager.</span><span class="sxs-lookup"><span data-stu-id="3ad16-162">For example, if you've created an IIS website named DemoSite, you could specify the IIS path for the MVC application as DemoSite/ContactManager.</span></span>                                                                                                                                                                                                                                                                                                                                                                        |
|   <span data-ttu-id="3ad16-163"><strong>ContactManagerServiceIisPath</strong> caminho o IIS no qual você deseja implantar o serviço WCF do Gerenciador de contatos.</span><span class="sxs-lookup"><span data-stu-id="3ad16-163"><strong>ContactManagerServiceIisPath</strong> The IIS path on which you want to deploy the Contact Manager WCF service.</span></span>    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="3ad16-164">Por exemplo, se você tiver criado um site do IIS denominado DemoSite, você pode especificar o caminho do IIS para o serviço do WCF como <strong>DemoSite/ContactManagerService</strong>.</span><span class="sxs-lookup"><span data-stu-id="3ad16-164">For example, if you've created an IIS website named DemoSite, you could specify the IIS path for the WCF service as <strong>DemoSite/ContactManagerService</strong>.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|                  <span data-ttu-id="3ad16-165"><strong>ContactManagerTargetUrl</strong> a URL na qual o serviço WCF pode ser acessado.</span><span class="sxs-lookup"><span data-stu-id="3ad16-165"><strong>ContactManagerTargetUrl</strong> The URL at which the WCF service can be reached.</span></span>                   |                                                                                                                                                     <span data-ttu-id="3ad16-166">Isso terá o formato [<em>URL de raiz do site IIS</em>] / [<em>nome do aplicativo de serviço</em>] / [<em>ponto de extremidade de serviço</em>].</span><span class="sxs-lookup"><span data-stu-id="3ad16-166">This will take the form [<em>IIS website root URL</em>]/[<em>service application name</em>]/[<em>service endpoint</em>].</span></span> <span data-ttu-id="3ad16-167">Por exemplo, se você tiver criado um site do IIS na porta 85, a URL seria assumem a forma `http://localhost:85/ContactManagerService/ContactService.svc`.</span><span class="sxs-lookup"><span data-stu-id="3ad16-167">For example, if you've created an IIS website on port 85, the URL would take the form `http://localhost:85/ContactManagerService/ContactService.svc`.</span></span> <span data-ttu-id="3ad16-168">Lembre-se de que o aplicativo MVC e o serviço do WCF são implantados no mesmo servidor.</span><span class="sxs-lookup"><span data-stu-id="3ad16-168">Remember that the MVC application and the WCF service are deployed to the same server.</span></span> <span data-ttu-id="3ad16-169">Como resultado, essa URL só é acessada do computador no qual ele está instalado.</span><span class="sxs-lookup"><span data-stu-id="3ad16-169">As a result, this URL is only ever accessed from the machine on which it's installed.</span></span> <span data-ttu-id="3ad16-170">Por isso, é melhor usar localhost ou o endereço IP, em vez do nome do computador ou um cabeçalho de host na URL.</span><span class="sxs-lookup"><span data-stu-id="3ad16-170">Because of this, it's better to use localhost or the IP address, rather than the machine name or a host header, in the URL.</span></span> <span data-ttu-id="3ad16-171">Se você usar o nome do computador ou um cabeçalho de host, o [verificação de loopback](https://go.microsoft.com/?linkid=9805131) recurso de segurança do IIS pode bloquear a URL e retornar um <strong>HTTP 401.1 - não autorizado</strong> erro.</span><span class="sxs-lookup"><span data-stu-id="3ad16-171">If you use the machine name or a host header, the [loopback check](https://go.microsoft.com/?linkid=9805131) security feature in IIS may block the URL and return an <strong>HTTP 401.1 - Unauthorized</strong> error.</span></span>                                                                                                                                                     |
|                  <span data-ttu-id="3ad16-172"><strong>CmDatabaseConnectionString</strong> a cadeia de caracteres de conexão para o servidor de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="3ad16-172"><strong>CmDatabaseConnectionString</strong> The connection string for the database server.</span></span>                  | <span data-ttu-id="3ad16-173">A cadeia de caracteres de conexão determina as credenciais que VSDBCMD será usado para contatar o servidor de banco de dados e criar o banco de dados e as credenciais que o pool de aplicativos de servidor da web serão usadas para contatar o servidor de banco de dados e interagir com o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="3ad16-173">The connection string determines both the credentials that VSDBCMD will use to contact the database server and create the database and the credentials that the web server application pool will use to contact the database server and interact with the database.</span></span> <span data-ttu-id="3ad16-174">Basicamente, você tem duas opções aqui.</span><span class="sxs-lookup"><span data-stu-id="3ad16-174">Essentially you have two choices here.</span></span> <span data-ttu-id="3ad16-175">Você pode especificar <strong>Integrated Security = true</strong>, caso em que a autenticação integrada do Windows é usada: <strong>Fonte de dados = TESTDB1; Integrated Security = true</strong> nesse caso, o banco de dados será criado usando as credenciais do usuário que executa o executável VSDBCMD, e o aplicativo acessará o banco de dados usando a identidade do computador do servidor web conta.</span><span class="sxs-lookup"><span data-stu-id="3ad16-175">You can specify <strong>Integrated Security=true</strong>, in which case integrated Windows authentication is used: <strong>Data Source=TESTDB1;Integrated Security=true</strong> In this case, the database will be created using the credentials of the user who runs the VSDBCMD executable, and the application will access the database using the identity of the web server machine account.</span></span> <span data-ttu-id="3ad16-176">Como alternativa, você pode especificar o nome de usuário e a senha de uma conta do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="3ad16-176">Alternatively, you can specify the user name and password of a SQL Server account.</span></span> <span data-ttu-id="3ad16-177">Nesse caso, as credenciais do SQL Server são usadas por VSDBCMD para criar o banco de dados e pelo pool de aplicativos para interagir com o banco de dados: <strong>Fonte de dados = TESTDB1; Id de usuário = ASqlUser; Senha = Pa$ $w0rd</strong> passo a passo neste tópico pressupõem que você usará a autenticação integrada do Windows.</span><span class="sxs-lookup"><span data-stu-id="3ad16-177">In this case, the SQL Server credentials are used both by VSDBCMD to create the database and by the application pool to interact with the database: <strong>Data Source=TESTDB1;User Id=ASqlUser; Password=Pa$$w0rd</strong> The walkthroughs in this topic assume that you'll use integrated Windows authentication.</span></span> |
|        <span data-ttu-id="3ad16-178"><strong>CmTargetDatabase</strong> o nome que você deseja dar o banco de dados que você cria no servidor de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="3ad16-178"><strong>CmTargetDatabase</strong> The name you want to give the database you'll create on the database server.</span></span>        |                                                                                                                                                                                                                                                                                                                                                                                                                                                     <span data-ttu-id="3ad16-179">O valor fornecido aqui é adicionado ao comando VSDBCMD como um parâmetro.</span><span class="sxs-lookup"><span data-stu-id="3ad16-179">The value you provide here is added to the VSDBCMD command as a parameter.</span></span> <span data-ttu-id="3ad16-180">Ele também é usado para criar uma cadeia de conexão completa o pool de aplicativos no servidor web pode usar para interagir com o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="3ad16-180">It's also used to build a full connection string that the application pool on the web server can use to interact with the database.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

<span data-ttu-id="3ad16-181">Estes exemplos mostram como você pode configurar essas propriedades para cenários de implantação específicos.</span><span class="sxs-lookup"><span data-stu-id="3ad16-181">These examples show how you might configure these properties for specific deployment scenarios.</span></span>

### <a name="example-1x2014deployment-to-the-remote-agent-service"></a><span data-ttu-id="3ad16-182">Exemplo 1&#x2014;implantação para o serviço de agente remoto</span><span class="sxs-lookup"><span data-stu-id="3ad16-182">Example 1&#x2014;Deployment to the Remote Agent Service</span></span>

<span data-ttu-id="3ad16-183">Neste exemplo:</span><span class="sxs-lookup"><span data-stu-id="3ad16-183">In this example:</span></span>

- <span data-ttu-id="3ad16-184">Você está implantando para o serviço de agente remoto em TESTWEB1.</span><span class="sxs-lookup"><span data-stu-id="3ad16-184">You're deploying to the remote agent service on TESTWEB1.</span></span>
- <span data-ttu-id="3ad16-185">Você está instruindo a implantação da Web para usar a autenticação NTLM.</span><span class="sxs-lookup"><span data-stu-id="3ad16-185">You're instructing Web Deploy to use NTLM authentication.</span></span> <span data-ttu-id="3ad16-186">A implantação da Web será executado usando as credenciais usadas para invocar o Microsoft Build Engine (MSBuild).</span><span class="sxs-lookup"><span data-stu-id="3ad16-186">Web Deploy will run using the credentials you used to invoke the Microsoft Build Engine (MSBuild).</span></span>
- <span data-ttu-id="3ad16-187">Você está usando a autenticação integrada para implantar o **ContactManager** banco de dados para TESTDB1.</span><span class="sxs-lookup"><span data-stu-id="3ad16-187">You're using integrated authentication to deploy the **ContactManager** database to TESTDB1.</span></span> <span data-ttu-id="3ad16-188">O banco de dados será implantado usando as credenciais usadas para chamar o MSBuild.</span><span class="sxs-lookup"><span data-stu-id="3ad16-188">The database will be deployed using the credentials you used to invoke MSBuild.</span></span>


[!code-xml[Main](configuring-deployment-properties-for-a-target-environment/samples/sample1.xml)]


### <a name="example-2x2014deployment-to-the-web-deploy-handler-endpoint"></a><span data-ttu-id="3ad16-189">Exemplo 2&#x2014;ponto de extremidade do manipulador de implantar de implantação na Web</span><span class="sxs-lookup"><span data-stu-id="3ad16-189">Example 2&#x2014;Deployment to the Web Deploy Handler Endpoint</span></span>

<span data-ttu-id="3ad16-190">Neste exemplo:</span><span class="sxs-lookup"><span data-stu-id="3ad16-190">In this example:</span></span>

- <span data-ttu-id="3ad16-191">Você está implantando para o ponto de extremidade de serviço do manipulador de implantação da Web em STAGEWEB1.</span><span class="sxs-lookup"><span data-stu-id="3ad16-191">You're deploying to the Web Deploy Handler service endpoint on STAGEWEB1.</span></span>
- <span data-ttu-id="3ad16-192">Você está instruindo a implantação da Web para usar a autenticação básica.</span><span class="sxs-lookup"><span data-stu-id="3ad16-192">You're instructing Web Deploy to use basic authentication.</span></span>
- <span data-ttu-id="3ad16-193">Você está especificando que a implantação da Web deve representar a conta de FABRIKAM\stagingdeployer no computador remoto.</span><span class="sxs-lookup"><span data-stu-id="3ad16-193">You're specifying that Web Deploy should impersonate the FABRIKAM\stagingdeployer account on the remote computer.</span></span>
- <span data-ttu-id="3ad16-194">Você está usando a autenticação do SQL Server para implantar o **ContactManager** banco de dados para STAGEDB1.</span><span class="sxs-lookup"><span data-stu-id="3ad16-194">You're using SQL Server authentication to deploy the **ContactManager** database to STAGEDB1.</span></span>


[!code-xml[Main](configuring-deployment-properties-for-a-target-environment/samples/sample2.xml)]


## <a name="conclusion"></a><span data-ttu-id="3ad16-195">Conclusão</span><span class="sxs-lookup"><span data-stu-id="3ad16-195">Conclusion</span></span>

<span data-ttu-id="3ad16-196">Neste ponto, seus arquivos de projeto são totalmente configurados para compilar e implantar a solução de Gerenciador de contatos em um ou mais ambientes de destino.</span><span class="sxs-lookup"><span data-stu-id="3ad16-196">At this point, your project files are fully configured to build and deploy the Contact Manager solution to one or more destination environments.</span></span>

<span data-ttu-id="3ad16-197">Para usar esses arquivos de projeto como parte de um processo de implantação passo a passo, repetíveis, você precisa executar o *Publish.proj* de arquivos usando o MSBuild e passá-lo no local do arquivo de projeto específicas do ambiente como um parâmetro.</span><span class="sxs-lookup"><span data-stu-id="3ad16-197">To use these project files as part of a single-step, repeatable deployment process, you need to execute the *Publish.proj* file using MSBuild and pass in the location of the environment-specific project file as a parameter.</span></span> <span data-ttu-id="3ad16-198">Você pode fazer isso de várias maneiras:</span><span class="sxs-lookup"><span data-stu-id="3ad16-198">You can do this in various ways:</span></span>

- <span data-ttu-id="3ad16-199">Para uma visão geral do MSBuild e uma introdução aos arquivos de projeto personalizado, consulte [Noções básicas sobre o arquivo de projeto](../web-deployment-in-the-enterprise/understanding-the-project-file.md).</span><span class="sxs-lookup"><span data-stu-id="3ad16-199">For an overview of MSBuild and an introduction to custom project files, see [Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md).</span></span>
- <span data-ttu-id="3ad16-200">Para obter informações sobre como formular um comando do MSBuild que executa seus arquivos de projeto personalizado, consulte [Implantando pacotes da Web](../web-deployment-in-the-enterprise/deploying-web-packages.md).</span><span class="sxs-lookup"><span data-stu-id="3ad16-200">For information on how to formulate an MSBuild command that executes your custom project files, see [Deploying Web Packages](../web-deployment-in-the-enterprise/deploying-web-packages.md).</span></span>
- <span data-ttu-id="3ad16-201">Para obter informações sobre como incorporar seus comandos de MSBuild em um arquivo de comando para implantações repetíveis passo a passo, consulte [criando e executando um arquivo de comando de implantação](../web-deployment-in-the-enterprise/creating-and-running-a-deployment-command-file.md).</span><span class="sxs-lookup"><span data-stu-id="3ad16-201">For information on how to incorporate your MSBuild commands into a command file for single-step, repeatable deployments, see [Creating and Running a Deployment Command File](../web-deployment-in-the-enterprise/creating-and-running-a-deployment-command-file.md).</span></span>
- <span data-ttu-id="3ad16-202">Para obter informações sobre como executar seus arquivos de projeto personalizado do Team Build, consulte [criando uma definição de compilação que dá suporte à implantação](../configuring-team-foundation-server-for-web-deployment/creating-a-build-definition-that-supports-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="3ad16-202">For information on how to execute your custom project files from Team Build, see [Creating a Build Definition that Supports Deployment](../configuring-team-foundation-server-for-web-deployment/creating-a-build-definition-that-supports-deployment.md).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="3ad16-203">Voltar</span><span class="sxs-lookup"><span data-stu-id="3ad16-203">Previous</span></span>](creating-a-server-farm-with-the-web-farm-framework.md)
